<!doctypehtml><html lang="zh-Hant"class="scroll-smooth"><meta name="twitter:image"content="https://wellstsai.com/single-page-conclusion/%E7%9F%AD%E7%B6%B2%E5%9D%80%E6%8F%AD%E7%A7%98-%E5%BE%9E%E7%94%A2%E7%94%9F%E5%88%B0%E8%B7%B3%E8%BD%89%E7%9A%84%E7%B3%BB%E7%B5%B1%E8%A8%AD%E8%A8%88.png"><meta name="twitter:description"content="揭密短網址系統：從產生演算法、Base62編碼、快取與分片到安全防護，帶您理解短網址在高流量下如何穩定、快速並可擴展，並揭示實務挑戰與應用價值。"><meta name="twitter:title"content="短網址揭秘：從產生到跳轉的系統設計"><meta name="twitter:card"content="summary_large_image"><meta property="og:type"content="article"><meta property="og:site_name"content="WellWells"><meta property="og:image"content="https://wellstsai.com/single-page-conclusion/%E7%9F%AD%E7%B6%B2%E5%9D%80%E6%8F%AD%E7%A7%98-%E5%BE%9E%E7%94%A2%E7%94%9F%E5%88%B0%E8%B7%B3%E8%BD%89%E7%9A%84%E7%B3%BB%E7%B5%B1%E8%A8%AD%E8%A8%88.png"><meta property="og:url"content="https://wellstsai.com/single-page-conclusion/%E7%9F%AD%E7%B6%B2%E5%9D%80%E6%8F%AD%E7%A7%98-%E5%BE%9E%E7%94%A2%E7%94%9F%E5%88%B0%E8%B7%B3%E8%BD%89%E7%9A%84%E7%B3%BB%E7%B5%B1%E8%A8%AD%E8%A8%88.html"><meta property="og:description"content="揭密短網址系統：從產生演算法、Base62編碼、快取與分片到安全防護，帶您理解短網址在高流量下如何穩定、快速並可擴展，並揭示實務挑戰與應用價值。"><meta property="og:title"content="短網址揭秘：從產生到跳轉的系統設計"><meta name="description"content="揭密短網址系統：從產生演算法、Base62編碼、快取與分片到安全防護，帶您理解短網址在高流量下如何穩定、快速並可擴展，並揭示實務挑戰與應用價值。"><meta charset="UTF-8"><meta name="viewport"content="width=device-width,initial-scale=1"><title>短網址揭秘：從產生到跳轉的系統設計</title><script src="https://cdn.tailwindcss.com"></script><style>@import url(https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&display=swap);:root{--glow-color:theme('colors.cyan.400')}html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{font-family:'Noto Sans TC',sans-serif;background-color:#f0f4f8;background-image:radial-gradient(circle at 1% 1%, theme('colors.blue.1') 0, transparent 25%),radial-gradient(circle at 99% 99%, theme('colors.purple.1') 0, transparent 25%);color:#1e293b}.info-card{@apply bg-sky-50/70;}.tool-card{@apply bg-purple-50/70;}.fade-in-section{opacity:0;transform:translateY(30px);transition:opacity .6s cubic-bezier(.25, .46, .45, .94),transform .6s cubic-bezier(.25, .46, .45, .94)}.fade-in-section.is-visible{opacity:1;transform:translateY(0)}.keyword{@apply text-sky-600 font-semibold bg-sky-100/60 px-1.5 py-0.5 rounded-md transition-all duration-200 cursor-pointer outline-none;}#modal.is-open{@apply visible;}#modal.is-open #modal-backdrop{@apply opacity-100;}#modal.is-open #modal-panel{@apply opacity-100 translate-y-0 scale-100;}</style><script async src="https://www.googletagmanager.com/gtag/js?id=G-JKC4KZLT26"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JKC4KZLT26")</script><body class="antialiased"><header class="bg-slate-900/70 backdrop-blur-lg text-white p-4 sticky top-0 z-50 shadow-lg border-b border-white/10 transition-colors duration-300"><div class="container mx-auto flex justify-between items-center"><h1 class="text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-sky-400 via-cyan-300 to-purple-400">解密短網址</h1><nav class="hidden md:flex space-x-1"><a href="#challenge"class="px-3 py-2 text-slate-300 rounded-lg hover:bg-white/10 hover:text-white transition-all duration-200">挑戰規模</a> <a href="#generation"class="px-3 py-2 text-slate-300 rounded-lg hover:bg-white/10 hover:text-white transition-all duration-200">產生方式</a> <a href="#journey"class="px-3 py-2 text-slate-300 rounded-lg hover:bg-white/10 hover:text-white transition-all duration-200">點擊旅程</a> <a href="#scaling"class="px-3 py-2 text-slate-300 rounded-lg hover:bg-white/10 hover:text-white transition-all duration-200">真實挑戰</a> <a href="#beyond"class="px-3 py-2 text-slate-300 rounded-lg hover:bg-white/10 hover:text-white transition-all duration-200">延伸應用</a></nav></div></header><main id="main-content"class="container mx-auto p-4 md:p-8"><section class="text-center py-24 md:py-32 fade-in-section is-visible"><h1 class="text-5xl md:text-7xl font-black text-slate-900 mb-6 bg-clip-text text-transparent bg-gradient-to-br from-blue-600 via-purple-600 to-sky-500">解密短網址</h1><p class="text-lg md:text-xl text-slate-600 max-w-4xl mx-auto mt-6 leading-relaxed">您是否好奇過，當您點擊一個像 Bitly 或 TinyURL 這樣的短網址時，背後到底發生了什麼事？這不只是一個簡單的連結轉換，而是一場涉及龐大數據、精妙演算法與分散式系統工程的技術盛宴。讓我們一起逆向工程，揭開URL 縮短服務的神秘面紗。</section><div id="content-sections"class="space-y-24 md:space-y-32"><section id="challenge"class="fade-in-section"><div class="flex justify-center mb-8"><div class="w-20 h-20 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg shadow-blue-500/30"><svg xmlns="http://www.w3.org/2000/svg"class="h-10 w-10 text-white"fill="none"viewBox="0 0 24 24"stroke="currentColor"stroke-width="2"><path stroke-linecap="round"stroke-linejoin="round"d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"/></svg></div></div><h2 class="text-4xl font-bold text-slate-800 mb-4 text-center">挑戰的規模：不只是縮短而已</h2><p class="text-lg text-slate-500 mb-12 text-center max-w-3xl mx-auto">要建立一個像 Bitly 一樣的服務，我們首先要面對的是驚人的流量與數據量，這決定了整個系統架構的複雜度。<div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center"><div class="card info-card"><div class="text-5xl font-bold text-blue-600 mb-2"data-target="100000000">0</div><h3 class="text-xl font-semibold text-slate-800">每日新增網址</h3><p class="text-slate-600 mt-2">相當於每秒要處理超過 1,000 個新的短網址生成請求。</div><div class="card info-card"><div class="text-5xl font-bold text-blue-600 mb-2"data-target="10000">0</div><h3 class="text-xl font-semibold text-slate-800">每秒點擊次數</h3><p class="text-slate-600 mt-2">點擊（讀取）的頻率遠高於創建（寫入），讀取效能至關重要。</div><div class="card info-card"><div class="text-5xl font-bold text-blue-600 mb-2"data-target="365000000000">0</div><h3 class="text-xl font-semibold text-slate-800">十年總儲存量</h3><p class="text-slate-600 mt-2">需要儲存 3650 億筆對應關係，光是網址本身就需約 36 TB 的空間。</div></div></section><section id="generation"class="fade-in-section"><div class="flex justify-center mb-8"><div class="w-20 h-20 rounded-full bg-gradient-to-br from-sky-500 to-cyan-500 flex items-center justify-center shadow-lg shadow-sky-500/30"><svg xmlns="http://www.w3.org/2000/svg"class="h-10 w-10 text-white"fill="none"viewBox="0 0 24 24"stroke="currentColor"stroke-width="2"><path stroke-linecap="round"stroke-linejoin="round"d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"/></svg></div></div><h2 class="text-4xl font-bold text-slate-800 mb-4 text-center">如何產生短網址？</h2><p class="text-lg text-slate-500 mb-12 text-center max-w-3xl mx-auto">核心問題是：如何在確保唯一性的前提下，有效地產生夠短的網址？這背後有數學和演算法的巧思。<div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start"><div class="card tool-card space-y-6"><h3 class="text-2xl font-bold text-slate-800 text-center">需要多短才夠？</h3><p class="text-slate-600">我們的短網址可以使用 0-9、a-z、A-Z，共 62 個不同的字元。為了應對未來十年的 3650 億個網址需求，我們需要計算出最短的字元長度。<div class="space-y-4"><label for="charLength"class="block font-medium text-slate-700">輸入短網址長度：</label> <input type="number"id="charLength"value="7"min="1"max="12"class="w-full p-3 border border-purple-200 rounded-lg focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition"><p class="text-center text-slate-600">可產生的唯一組合數量：<p id="combinations"class="text-center text-3xl font-bold text-purple-600 bg-white/70 p-4 rounded-lg"></div><p class="text-slate-600 text-sm">計算結果顯示，7 個字元的長度可以產生約 3.5 兆種組合，遠超過我們的需求，因此是個理想的選擇。</div><div class="card info-card"><h3 class="text-2xl font-bold text-slate-800 text-center mb-6">兩種方法的比較</h3><div class="overflow-x-auto"><table class="w-full text-left border-collapse"><thead class="border-b-2 border-slate-200"><tr><th class="p-3 font-semibold text-slate-700">特性<th class="p-3 font-semibold text-slate-700">方法一：雜湊 (Hashing)<th class="p-3 font-semibold text-slate-700">方法二：計數 + Base62<tbody><tr class="border-b border-slate-200/50"><td class="p-3 font-medium text-slate-800">基本原理<td class="p-3 text-slate-600">將長網址通過 MD5 等雜湊函式運算，取前 7 個字元。<td class="p-3 text-slate-600">為每個長網址分配一個唯一的遞增數字 ID，再將 ID 轉換為 Base62 字串。<tr class="border-b border-slate-200/50"><td class="p-3 font-medium text-slate-800">優點<td class="p-3 text-slate-600">無狀態，同樣的長網址會得到同樣的結果。<td class="p-3 text-slate-600">保證不重複（無碰撞）、效率高、演算法簡單。<tr class="border-b border-slate-200/50"><td class="p-3 font-medium text-slate-800">缺點<td class="p-3 text-slate-600">可能發生「碰撞」，需要多次查詢資料庫確認唯一性，效能較差。<td class="p-3 text-slate-600">需要一個能跨伺服器生成唯一 ID 的系統；短網址有順序性，可能被猜到。<tr><td class="p-3 font-medium text-slate-800">結論<td class="p-3 text-slate-600 font-semibold text-red-600">實作簡單，但規模化後效能瓶頸明顯。<td class="p-3 text-slate-600 font-semibold text-green-600">更優雅、高效的方案，是大型系統的首選。</table></div></div></div><div class="card tool-card mt-8"><h3 class="text-2xl font-bold text-slate-800 text-center mb-4">體驗 Base62 轉換</h3><p class="text-slate-600 text-center max-w-2xl mx-auto mb-6">Base62 轉換是方法二的核心。原理是不斷地將數字除以 62，並收集餘數，最後將餘數序列轉換為對應的字元。讓我們以影片中的例子 URL 編號 11157 來試算看看。<div class="max-w-md mx-auto space-y-4"><label for="decimalInput"class="block font-medium text-slate-700">輸入一個十進位數字：</label><div class="flex space-x-2"><input type="number"id="decimalInput"value="11157"class="flex-grow p-3 border border-purple-200 rounded-lg focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition"placeholder="例如：11157"> <button id="convertBtn"class="bg-gradient-to-br from-purple-500 to-blue-500 text-white px-6 py-3 rounded-lg hover:from-purple-600 hover:to-blue-600 transition-all duration-300 font-semibold shadow-md hover:shadow-lg transform hover:-translate-y-0.5">轉換</button></div><div id="conversionResult"class="mt-4 space-y-2"></div></div></div></section><section id="journey"class="fade-in-section"><div class="flex justify-center mb-8"><div class="w-20 h-20 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center shadow-lg shadow-purple-500/30"><svg xmlns="http://www.w3.org/2000/svg"class="h-10 w-10 text-white"fill="none"viewBox="0 0 24 24"stroke="currentColor"stroke-width="2"><path stroke-linecap="round"stroke-linejoin="round"d="M13 10V3L4 14h7v7l9-11h-7z"/></svg></div></div><h2 class="text-4xl font-bold text-slate-800 mb-4 text-center">點擊後的旅程</h2><p class="text-lg text-slate-500 mb-12 text-center max-w-3xl mx-auto">產生短網址只是故事的一半。當使用者點擊短網址時，系統需要在毫秒內完成查找和重定向，這對讀取效能是極大的考驗。<div class="card info-card max-w-5xl mx-auto p-8"><h3 class="text-2xl font-bold text-slate-800 text-center mb-10">從點擊到跳轉的流程</h3><div class="flex flex-col md:flex-row items-center justify-center space-y-8 md:space-y-0 md:space-x-8"><div class="text-center p-4 flex-1"><div class="text-5xl mb-4">🖱️</div><div class="font-bold text-lg text-slate-800">1. 使用者點擊</div><p class="text-sm text-slate-500 mt-1">tinyurl.com/2tx</div><div class="text-3xl text-slate-300 hidden md:block">→</div><div class="text-3xl text-slate-300 md:hidden">↓</div><div class="text-center p-4 flex-1 border-2 border-dashed border-teal-400 rounded-lg bg-white/70"><div class="text-5xl mb-4">⚡</div><div class="font-bold text-lg text-slate-800">2. 查詢快取 (Cache)</div><p class="text-sm text-slate-500 mt-1">優先在記憶體中尋找，速度最快。</div><div class="text-3xl text-slate-300 hidden md:block">→</div><div class="text-3xl text-slate-300 md:hidden">↓</div><div class="text-center p-4 flex-1 border-2 border-dashed border-blue-400 rounded-lg bg-white/70"><div class="text-5xl mb-4">💾</div><div class="font-bold text-lg text-slate-800">3. 查詢資料庫 (DB)</div><p class="text-sm text-slate-500 mt-1">若快取未命中，則查詢資料庫。</div><div class="text-3xl text-slate-300 hidden md:block">→</div><div class="text-3xl text-slate-300 md:hidden">↓</div><div class="text-center p-4 flex-1"><div class="text-5xl mb-4">🌐</div><div class="font-bold text-lg text-slate-800">4. 301 永久重定向</div><p class="text-sm text-slate-500 mt-1">伺服器回傳原始長網址，瀏覽器跳轉。</div></div><p class="mt-10 text-center text-slate-600 leading-relaxed max-w-3xl mx-auto">這個過程中，快取扮演了關鍵角色。由於熱門連結會被反覆點擊，將其對應關係存放在快取中可以大幅減少對後端資料庫的壓力。同時，HTTP 301 狀態碼會告訴瀏覽器這個網址已經「永久」移到新位置，瀏覽器可能會記住這個結果，下次直接跳轉，進一步提升效率。</div></section><section id="scaling"class="fade-in-section"><div class="flex justify-center mb-8"><div class="w-20 h-20 rounded-full bg-gradient-to-br from-indigo-500 to-blue-500 flex items-center justify-center shadow-lg shadow-indigo-500/30"><svg xmlns="http://www.w3.org/2000/svg"class="h-10 w-10 text-white"fill="none"viewBox="0 0 24 24"stroke="currentColor"stroke-width="2"><path stroke-linecap="round"stroke-linejoin="round"d="M8 9l4-4 4 4m0 6l-4 4-4-4"/></svg></div></div><h2 class="text-4xl font-bold text-slate-800 mb-4 text-center">真實世界的工程挑戰</h2><p class="text-lg text-slate-500 mb-12 text-center max-w-3xl mx-auto">一個看似簡單的服務，在真實世界中會演變成一個複雜的分散式系統。除了前面提到的功能，還需要考慮更多工程問題。<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"><div class="card info-card text-center"><div class="text-4xl mb-4">🔗</div><h3 class="text-xl font-semibold text-slate-800">資料庫擴展</h3><p class="text-slate-600 mt-2">單一資料庫無法應付每秒上萬次的查詢。需要使用「資料庫分片 (Sharding)」，將數據分散到多台伺服器上，並設計合理的路由策略。</div><div class="card info-card text-center"><div class="text-4xl mb-4">🚦</div><h3 class="text-xl font-semibold text-slate-800">速率限制</h3><p class="text-slate-600 mt-2">為了防止惡意使用者濫用服務（例如大量生成短網址），需要對 IP 或使用者進行速率限制。</div><div class="card info-card text-center"><div class="text-4xl mb-4">📊</div><h3 class="text-xl font-semibold text-slate-800">數據分析</h3><p class="text-slate-600 mt-2">追蹤每個短網址的點擊次數、來源、時間等數據，為使用者提供有價值的分析報告，這是服務變現的重要一環。</div><div class="card info-card text-center"><div class="text-4xl mb-4">🛡️</div><h3 class="text-xl font-semibold text-slate-800">安全性</h3><p class="text-slate-600 mt-2">必須建立機制來封鎖惡意或釣魚網站的網址，保護使用者不被導向危險的網站，這需要維護一個黑名單資料庫。</div></div></section><section id="beyond"class="fade-in-section"><div class="flex justify-center mb-8"><div class="w-20 h-20 rounded-full bg-gradient-to-br from-cyan-500 to-green-400 flex items-center justify-center shadow-lg shadow-cyan-500/30"><svg xmlns="http://www.w3.org/2000/svg"class="h-10 w-10 text-white"fill="none"viewBox="0 0 24 24"stroke="currentColor"stroke-width="2"><path stroke-linecap="round"stroke-linejoin="round"d="M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z"/></svg></div></div><h2 class="text-4xl font-bold text-slate-800 mb-4 text-center">不只是短網址：無所不在的設計模式</h2><p class="text-lg text-slate-500 mb-12 text-center max-w-3xl mx-auto">從「把網址變短」這個簡單需求出發，我們探討的技術其實是現代大型網路應用程式的基石。這些設計模式在各大科技公司中隨處可見。<div class="max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"><div class="card info-card"><h3 class="text-xl font-semibold text-slate-800 mb-2">唯一 ID 生成</h3><p class="text-slate-600">類似 Base62 的唯一 ID 生成策略，被用於：<ul class="list-disc list-inside mt-2 text-slate-600 space-y-1"><li><strong>Instagram:</strong> 為每張照片和影片生成唯一 ID。<li><strong>Twitter:</strong> 為每則推文生成唯一 ID (Snowflake 演算法)。</ul></div><div class="card info-card"><h3 class="text-xl font-semibold text-slate-800 mb-2">快取策略</h3><p class="text-slate-600">高效的快取機制，被用於：<ul class="list-disc list-inside mt-2 text-slate-600 space-y-1"><li><strong>Netflix:</strong> 快取影片的中繼資料（如封面、演員），加速頁面載入。<li><strong>Facebook:</strong> 快取使用者個人檔案和動態消息。</ul></div><div class="card info-card"><h3 class="text-xl font-semibold text-slate-800 mb-2">資料庫分片</h3><p class="text-slate-600">將龐大數據分散儲存的技術，被用於：<ul class="list-disc list-inside mt-2 text-slate-600 space-y-1"><li><strong>Uber:</strong> 按地理區域或時間分割行程資料。<li><strong>Slack:</strong> 將不同團隊的訊息資料分散到不同資料庫。</ul></div></div><p class="mt-12 text-center text-lg text-slate-700 leading-relaxed">下次當您點擊一個短網址時，您會知道，背後有一個龐大而精密的系統，在毫秒之間為您完成任務。而這些核心技術，正驅動著您每天使用的每一個應用程式。</section></div></main><footer class="w-full text-center py-8 border-t border-slate-200/80 mt-24 bg-white/50 backdrop-blur-sm"><a href="https://wellstsai.com"target="_blank"rel="noopener noreferrer"class="text-sm text-slate-500 hover:text-sky-600 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-4 rounded-md">Generated by wellstsai.com</a></footer><div id="modal"role="dialog"aria-modal="true"aria-labelledby="modal-title"class="invisible fixed inset-0 z-[100] flex items-center justify-center p-4 transition-all duration-300"><div id="modal-backdrop"class="fixed inset-0 bg-slate-900/50 backdrop-blur-sm opacity-0 transition-opacity duration-300 ease-out"></div><div id="modal-panel"class="relative w-full max-w-2xl bg-white/80 backdrop-blur-2xl border border-white/50 rounded-2xl shadow-2xl p-6 md:p-8 opacity-0 scale-95 translate-y-4 transform transition-all duration-300 ease-out"><h3 id="modal-title"class="text-2xl font-bold text-slate-800 bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-purple-600"></h3><div id="modal-description"class="mt-4 text-slate-600 leading-relaxed"></div><button id="modal-close-btn"aria-label="關閉視窗"class="absolute top-4 right-4 text-slate-400 hover:text-slate-800 hover:bg-slate-200/50 rounded-full p-1 transition-all"><svg xmlns="http://www.w3.org/2000/svg"class="h-6 w-6"fill="none"viewBox="0 0 24 24"stroke="currentColor"><path stroke-linecap="round"stroke-linejoin="round"stroke-width="2"d="M6 18L18 6M6 6l12 12"/></svg></button></div></div><script>document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("charLength"),e=document.getElementById("combinations"),n=document.getElementById("decimalInput"),o=document.getElementById("convertBtn"),c=document.getElementById("conversionResult");function a(){const n=parseInt(t.value,10);if(isNaN(n)||n<1)e.textContent="請輸入有效長度";else try{e.textContent=(BigInt(62)**BigInt(n)).toLocaleString("zh-TW")}catch(t){e.textContent="數字太大無法顯示"}}function l(){const t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";let e=parseInt(n.value,10);if(isNaN(e)||e<0)return void(c.innerHTML='<p class="text-red-500">請輸入有效的非負整數。</p>');if(0===e)return void(c.innerHTML='<p class="font-semibold text-lg">結果: <span class="text-purple-600 font-bold">0</span></p>');let o='<h4 class="font-semibold text-slate-700">計算步驟：</h4><div class="space-y-1 text-sm text-slate-600 bg-white/70 p-3 rounded-lg">';const a=[];for(;e>0;){const n=e%62;o+=`<p>${e.toLocaleString("zh-TW")} ÷ 62 = ${Math.floor(e/62).toLocaleString("zh-TW")} ... 餘數 <strong>${n}</strong> (字元: '${t[n]}')</p>`,a.push(n),e=Math.floor(e/62)}o+="</div>";o+=`<p class="mt-4">將餘數序列反轉並組合，最終得到：</p><p class="font-semibold text-2xl text-center p-4 bg-white/70 text-purple-700 rounded-lg mt-2">${a.reverse().map(e=>t[e]).join("")}</p>`,c.innerHTML=o}t?.addEventListener("input",a),o?.addEventListener("click",l),t&&a(),n&&l();const s={"URL 縮短服務":{title:"URL 縮短服務",content:"一種將長的網址（URL）轉換為較短、獨一無二網址的工具。當使用者點擊短網址時，會被重新導向到原始的長網址。"},"雜湊 (Hashing)":{title:"雜湊 (Hashing)",content:"一種將任意長度資料對應到固定長度資料的演算法。在短網址情境中，它被用來將長網址轉換為一個看似隨機的字串，但可能產生碰撞問題。"},Base62:{title:"Base62 編碼",content:"一種數字系統，使用 62 個字元（0-9, a-z, A-Z）來表示數字。它非常適合用來將唯一的數字 ID 轉換為簡短、易讀的字串，且保證不會產生碰撞。"},"碰撞":{title:"雜湊碰撞 (Hash Collision)",content:"在雜湊演算法中，指兩個不同的輸入（例如兩個不同的長網址）產生了完全相同的輸出（短碼）。這是雜湊方法需要解決的主要問題。"},"快取 (Cache)":{title:"快取 (Cache)",content:"一種高速的資料儲存層，用來暫存常用的資料以減少對較慢後端系統（如資料庫）的存取次數。在短網址系統中，快取熱門連結的對應關係可以大幅提升讀取效能。"},"301 永久重定向":{title:"301 永久重定向",content:"一個 HTTP 狀態碼，告訴瀏覽器請求的資源已經永久地移動到一個新的位置。瀏覽器會記住這個新位置，未來可能會直接請求新網址，而不再經過短網址服務。"},"資料庫分片 (Sharding)":{title:"資料庫分片 (Sharding)",content:"一種資料庫擴展技術，將一個大的資料庫水平分割成多個更小、更易於管理的部分（分片），並將它們分散到不同伺服器上。這可以解決單一資料庫的儲存和效能瓶頸。"},"速率限制":{title:"速率限制 (Rate Limiting)",content:"一種控制網路流量的策略，用來限制使用者或 IP 在特定時間內可以發出請求的次數。這有助於防止服務被濫用或遭受惡意攻擊。"},Bitly:{title:"Bitly",content:"一家知名的 URL 縮短服務和連結管理平台，提供強大的數據分析功能。"},TinyURL:{title:"TinyURL",content:"最早期的 URL 縮短服務之一，廣為人知，以簡單易用著稱。"}},i=document.getElementById("content-sections");if(i){const t=new RegExp(Object.keys(s).join("|"),"g"),e=document.createTreeWalker(i,NodeFilter.SHOW_TEXT,null,!1);let n;for(;n=e.nextNode();)if(n.parentElement.tagName.match(/^(P|LI|TD|H3)$/)){const e=n.textContent,o=e.match(t);if(o){const c=document.createDocumentFragment();e.split(t).forEach((t,e)=>{if(c.appendChild(document.createTextNode(t)),e<o.length){const t=document.createElement("button");t.className="keyword",t.textContent=o[e],t.dataset.term=o[e],c.appendChild(t)}}),n.parentElement.replaceChild(c,n)}}}const d=document.getElementById("modal"),r=document.getElementById("modal-title"),m=document.getElementById("modal-description"),u=document.getElementById("modal-close-btn"),g=document.getElementById("modal-backdrop");let p;function h(){d.classList.remove("is-open"),document.body.style.overflow="",p&&p.focus(),d.removeEventListener("keydown",f)}function f(t){if("Tab"!==t.key)return;const e=Array.from(d.querySelectorAll("button"));t.shiftKey?document.activeElement===e[0]&&(e[e.length-1].focus(),t.preventDefault()):document.activeElement===e[e.length-1]&&(e[0].focus(),t.preventDefault())}document.addEventListener("click",t=>{t.target.matches(".keyword")&&function(t){const e=s[t];e&&(p=document.activeElement,r.textContent=e.title,m.textContent=e.content,d.classList.add("is-open"),document.body.style.overflow="hidden",u.focus(),d.addEventListener("keydown",f))}(t.target.dataset.term),(t.target===g||t.target.closest("#modal-close-btn"))&&h()}),document.addEventListener("keydown",t=>{"Escape"===t.key&&d.classList.contains("is-open")&&h()});const y=document.querySelectorAll(".fade-in-section"),v=new IntersectionObserver(t=>{t.forEach((t,e)=>{t.isIntersecting&&(setTimeout(()=>{t.target.classList.add("is-visible"),"challenge"===t.target.id&&document.querySelectorAll("[data-target]").forEach(t=>{if(!t.dataset.animated){const e=+t.dataset.target;let n=0;const o=setInterval(()=>{const c=Math.ceil(e/100);n+=c,n>=e?(t.innerText=e.toLocaleString("zh-TW"),clearInterval(o)):t.innerText=n.toLocaleString("zh-TW")},16);t.dataset.animated="true"}})},100*e),v.unobserve(t.target))})},{threshold:.1});y.forEach(t=>v.observe(t))})</script>