<!doctypehtml><html lang="zh-TW"><meta name="twitter:image"content="https://wellstsai.com/single-page-conclusion/Rsync-%E6%BC%94%E7%AE%97%E6%B3%95-%E6%BB%BE%E5%8B%95%E6%A0%A1%E9%A9%97-%E5%90%8C%E6%AD%A5%E5%8E%9F%E7%90%86.png"><meta name="twitter:description"content="深入探討 Remote Sync (rsync) 演算法的核心機制。透過 Rolling Checksum (滾動校驗) 與 Message Digest 4 (MD4) 強弱分層比對，在低頻寬環境實現高效檔案差異傳輸。詳解滑動視窗運算邏輯與區塊重建指令流程，最佳化異地資料同步效能。"><meta name="twitter:title"content="Rsync-演算法-滾動校驗-同步原理"><meta name="twitter:card"content="summary_large_image"><meta property="og:type"content="article"><meta property="og:site_name"content="WellWells"><meta property="og:image"content="https://wellstsai.com/single-page-conclusion/Rsync-%E6%BC%94%E7%AE%97%E6%B3%95-%E6%BB%BE%E5%8B%95%E6%A0%A1%E9%A9%97-%E5%90%8C%E6%AD%A5%E5%8E%9F%E7%90%86.png"><meta property="og:url"content="https://wellstsai.com/single-page-conclusion/Rsync-%E6%BC%94%E7%AE%97%E6%B3%95-%E6%BB%BE%E5%8B%95%E6%A0%A1%E9%A9%97-%E5%90%8C%E6%AD%A5%E5%8E%9F%E7%90%86.html"><meta property="og:description"content="深入探討 Remote Sync (rsync) 演算法的核心機制。透過 Rolling Checksum (滾動校驗) 與 Message Digest 4 (MD4) 強弱分層比對，在低頻寬環境實現高效檔案差異傳輸。詳解滑動視窗運算邏輯與區塊重建指令流程，最佳化異地資料同步效能。"><meta property="og:title"content="Rsync-演算法-滾動校驗-同步原理"><meta name="description"content="深入探討 Remote Sync (rsync) 演算法的核心機制。透過 Rolling Checksum (滾動校驗) 與 Message Digest 4 (MD4) 強弱分層比對，在低頻寬環境實現高效檔案差異傳輸。詳解滑動視窗運算邏輯與區塊重建指令流程，最佳化異地資料同步效能。"><meta charset="UTF-8"><meta name="viewport"content="width=device-width,initial-scale=1"><title>rsync 演算法單步詳解模擬</title><script src="https://cdn.tailwindcss.com"></script><script src="https://unpkg.com/lucide@latest"></script><link rel="stylesheet"href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"><script defer="defer"src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script><script defer="defer"src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script><style>@import url(https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Noto+Sans+TC:wght@400;500;700&display=swap);body{font-family:'Noto Sans TC',sans-serif;background-color:#020617}.mono{font-family:'JetBrains Mono',monospace}.hex-cell{width:34px;height:34px;display:flex;align-items:center;justify-content:center;border-radius:4px;font-size:12px;transition:all .2s;border:1px solid #1e293b}.scanning-window{outline:2px solid #facc15;outline-offset:2px;background:rgba(250,204,21,.1)!important}.step-active{border-color:#3b82f6;background:rgba(59,130,246,.1)}</style><script async src="https://www.googletagmanager.com/gtag/js?id=G-JKC4KZLT26"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JKC4KZLT26")</script><body class="text-slate-200 p-4"><div class="max-w-6xl w-full mx-auto space-y-6"><div class="flex flex-col md:flex-row md:items-end justify-between gap-4 border-b border-slate-800 pb-4"><div><h1 class="text-2xl font-bold text-white tracking-tight flex items-center gap-2"><i data-lucide="layers"class="text-blue-500"></i> rsync 單步流程詳解</h1><p class="text-slate-400 text-sm">32 Bytes 資料 | 4 Bytes 視窗 | 逐步分解運算過程</div><div class="flex gap-2"><button id="btn-step"class="px-6 py-2 bg-blue-600 hover:bg-blue-500 disabled:bg-slate-800 disabled:cursor-not-allowed rounded-lg text-sm font-bold flex items-center gap-2 transition-all shadow-lg shadow-blue-900/20"><i data-lucide="chevron-right"class="w-4 h-4"></i> 下一步 (Step)</button> <button id="btn-auto"class="px-4 py-2 bg-slate-800 hover:bg-slate-700 disabled:bg-slate-900 disabled:cursor-not-allowed rounded-lg text-sm font-bold flex items-center gap-2"><i data-lucide="play"class="w-4 h-4"></i> 自動執行</button> <button id="btn-reset"class="px-4 py-2 bg-slate-800 hover:bg-slate-700 rounded-lg text-sm font-bold flex items-center gap-2"><i data-lucide="refresh-ccw"class="w-4 h-4"></i> 重置</button></div></div><div class="grid grid-cols-1 lg:grid-cols-12 gap-6"><div class="lg:col-span-7 space-y-6"><div class="bg-slate-900/50 p-6 rounded-2xl border border-slate-800 space-y-8"><div class="space-y-3"><div class="flex justify-between items-center"><span class="text-xs font-bold text-slate-500 tracking-widest uppercase">Steps 1-3: 遠端檔案 B (已切塊並回傳校驗表)</span></div><div id="remote-track"class="flex flex-wrap gap-1.5 p-3 bg-slate-950 rounded-lg border border-slate-900"></div></div><div class="space-y-3"><div class="flex justify-between items-center"><span class="text-xs font-bold text-slate-500 tracking-widest uppercase">Step 4: 本地檔案 A (滑動視窗搜尋比對)</span> <span id="current-pos-label"class="text-[10px] mono text-blue-400">POS: 00</span></div><div id="local-track"class="flex flex-wrap gap-1.5 p-3 bg-slate-950 rounded-lg border border-slate-900 relative"></div></div></div><div class="bg-slate-900 border border-slate-800 rounded-2xl p-5"><h3 class="text-xs font-bold text-slate-500 uppercase mb-4 tracking-widest">Step 5: 產生的重建指令 (Instruction Stream)</h3><div id="instruction-flow"class="flex flex-wrap gap-2 min-h-[40px]"><span class="text-slate-600 italic text-xs">等待比對結果...</span></div><div class="grid grid-cols-2 gap-4 mt-6"><div class="bg-blue-900/10 border border-blue-900/30 p-3 rounded-xl"><div class="text-[10px] text-blue-500 uppercase font-bold">IDX 指令 (節省頻寬)</div><div id="stat-idx"class="text-2xl font-bold text-blue-400 mono">0</div><div class="text-[10px] text-slate-500 mt-1">告知伺服器：複用舊區塊，不傳原始資料</div></div><div class="bg-red-900/10 border border-red-900/30 p-3 rounded-xl"><div class="text-[10px] text-red-500 uppercase font-bold">RAW 指令 (消耗頻寬)</div><div id="stat-raw"class="text-2xl font-bold text-red-400 mono">0</div><div class="text-[10px] text-slate-500 mt-1">告知伺服器：這是新資料，必須傳送 Byte</div></div></div></div></div><div class="lg:col-span-5 space-y-6"><div class="bg-slate-900 border border-slate-700 rounded-2xl overflow-hidden shadow-2xl"><div class="bg-slate-800 px-4 py-3 border-b border-slate-700"><h3 class="text-sm font-bold text-white flex items-center gap-2"><i data-lucide="cpu"class="w-4 h-4 text-blue-400"></i> 運算邏輯分解</h3></div><div class="p-5 space-y-4"><div id="step-ui-1"class="p-3 rounded-lg border border-slate-800 transition-all"><div class="flex items-center gap-3"><span class="w-5 h-5 rounded-full bg-slate-800 flex items-center justify-center text-[10px] font-bold">1</span> <span class="text-xs font-bold text-slate-300">提取視窗 (Extract 4 Bytes)</span></div><div id="val-extract"class="mt-2 text-xl font-bold mono text-center tracking-widest text-white">-- -- -- --</div></div><div id="step-ui-2"class="p-3 rounded-lg border border-slate-800 transition-all"><div class="flex items-center gap-3"><span class="w-5 h-5 rounded-full bg-slate-800 flex items-center justify-center text-[10px] font-bold">2</span> <span class="text-xs font-bold text-slate-300">計算弱校驗 (Rolling Checksum)</span></div><div class="mt-2 space-y-1"><div id="math-rolling"class="text-[10px] text-slate-500 mono">a=Σ, b=Σ(len-i+1)X</div><div id="val-rolling"class="text-lg font-bold mono text-blue-400">HASH: --------</div></div></div><div id="step-ui-3"class="p-3 rounded-lg border border-slate-800 transition-all"><div class="flex items-center gap-3"><span class="w-5 h-5 rounded-full bg-slate-800 flex items-center justify-center text-[10px] font-bold">3</span> <span class="text-xs font-bold text-slate-300">資料庫檢索與 MD4 (Lookup)</span></div><div class="mt-2 flex items-center justify-between"><div id="val-md4"class="text-[10px] mono text-amber-500 truncate w-2/3">MD4: --等待弱校驗命中--</div><div id="md5-badge"class="px-2 py-0.5 rounded bg-slate-800 text-[10px] text-slate-500 font-bold uppercase">Idle</div></div></div><div id="step-ui-4"class="p-3 rounded-lg border-2 border-dashed border-slate-800 transition-all text-center"><div id="decision-text"class="text-xs font-bold text-slate-500 italic">等待輸入...</div></div></div></div><div class="bg-blue-900/10 border border-blue-800/30 p-4 rounded-xl"><h4 class="text-xs font-bold text-blue-400 uppercase mb-2">演算法筆記</h4><ul id="logic-note"class="text-xs text-slate-400 space-y-2 leading-relaxed"><li>• 每次移動稱為一次「嘗試」。<li>• 若 4 Bytes 匹配成功，發送索引後直接**跳 4 格**。<li>• 若比對失敗，發送第一個 Byte，然後**滑 1 格**再試。</ul></div></div></div><div class="mt-12 space-y-8 border-t border-slate-800 pt-12"><div class="text-center space-y-4"><h2 class="text-3xl font-bold text-white tracking-tight flex items-center justify-center gap-3"><i data-lucide="book-open"class="text-blue-500"></i> 原理深度解析</h2><p class="text-slate-400 max-w-2xl mx-auto">基於 Andrew Tridgell 與 Paul Mackerras 的經典論文<br><span class="mono text-sm text-blue-400">TR-CS-96-05: The rsync algorithm</span></div><div class="bg-slate-900/50 border border-slate-800 rounded-2xl p-8 space-y-6"><h3 class="text-xl font-bold text-white flex items-center gap-2"><i data-lucide="alert-circle"class="text-red-400"></i> 1. 問題背景 (The Problem)</h3><div class="prose prose-invert max-w-none text-slate-300"><p>假設有兩台電腦 $\alpha$ 和 $\beta$，它們之間通過低頻寬、高延遲的連結相連。$\alpha$ 擁有檔案 $A$，而 $\beta$ 擁有檔案 $B$。 $A$ 與 $B$ 非常相似（例如是同一檔案的不同版本）。目標是將 $B$ 更新為與 $A$ 相同。<ul class="list-disc pl-5 space-y-2 mt-4 text-slate-400"><li><strong>傳統方法：</strong>直接將 $A$ 複製到 $\beta$。若檔案很大，透過慢速網路傳輸將非常耗時。<li><strong>壓縮傳輸：</strong>先壓縮 $A$ 再傳送。通常只能節省 2 到 4 倍的時間。<li><strong>一般的 Diff：</strong>需要兩端同時擁有兩個檔案才能計算差異，但在這種情境下，$A$ 與 $B$ 分隔兩地。</ul><p class="mt-4 border-l-4 border-blue-500 pl-4 italic text-slate-400">Rsync 的核心價值在於：<strong>不需要同時擁有兩個檔案，就能計算出差異並只傳送變更的部分。</strong></div></div><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="bg-slate-900/50 border border-slate-800 rounded-2xl p-6 space-y-4"><h3 class="text-lg font-bold text-white flex items-center gap-2"><i data-lucide="list-ordered"class="text-yellow-400"></i> 2. 演算法流程 (The Algorithm)</h3><ol class="list-decimal pl-5 space-y-3 text-slate-300 text-sm"><li><span class="text-white font-bold">分割 (Split)</span>： $\beta$ 將檔案 $B$ 切割成大小為 $S$ 的固定區塊（Block）。<li><span class="text-white font-bold">計算校驗碼 (Checksum)</span>： $\beta$ 為每個區塊計算兩個校驗碼：一個快速的 32-bit <span class="text-blue-400">滾動校驗 (Rolling Checksum)</span> 和一個強大的 128-bit Message Digest 4 (MD4) 校驗碼。<li><span class="text-white font-bold">傳輸 (Send)</span>： $\beta$ 將這些校驗碼傳送給 $\alpha$。<li><span class="text-white font-bold">搜尋 (Search)</span>： $\alpha$ 在檔案 $A$ 中搜尋，找出哪些部分的內容與 $\beta$ 傳來的區塊匹配（透過校驗碼比對）。這可以在單次掃描中高效完成。<li><span class="text-white font-bold">重建 (Reconstruct)</span>： $\alpha$ 發送指令給 $\beta$，告訴它如何組合出 $A$。指令包含：「引用 $B$ 的第 $i$ 個區塊」或「插入這段新的 Literal Data」。</ol></div><div class="bg-slate-900/50 border border-slate-800 rounded-2xl p-6 space-y-4"><h3 class="text-lg font-bold text-white flex items-center gap-2"><i data-lucide="function-square"class="text-green-400"></i> 3. 滾動校驗 (Rolling Checksum)</h3><div class="text-slate-300 text-sm space-y-4"><p>這是 Rsync 速度快與能處理「任意偏移量」匹配的關鍵。演算法使用類似 Mark Adler 的 adler-32 校驗。 定義 $a(k, l)$ 與 $b(k, l)$ 如下：<div class="bg-slate-950 p-4 rounded-lg font-mono text-xs text-blue-300 space-y-2 overflow-x-auto"><div>a(k, l) = (Σ X_i) mod M</div><div>b(k, l) = (Σ (l-i+1)X_i) mod M</div><div>s(k, l) = a(k, l) + 2^16 * b(k, l)</div></div><p><strong>遞迴特性 (Recurrence Relation)：</strong><br>當視窗向右滑動 1 Byte 時，不需要重新計算整個總和，只需移除舊 Byte ($X_k$) 並加入新 Byte ($X_{l+1}$)。<div class="bg-slate-950 p-4 rounded-lg font-mono text-xs text-green-300 overflow-x-auto">a_new = (a_old - X_k + X_{l+1}) mod M<br>b_new = (b_old - (len)*X_k + a_new) mod M</div></div></div></div><div class="bg-slate-900/50 border border-slate-800 rounded-2xl p-8 space-y-6"><h3 class="text-xl font-bold text-white flex items-center gap-2"><i data-lucide="search"class="text-purple-400"></i> 4. 多層次搜尋策略 (Checksum Searching)</h3><div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center"><div class="p-4 bg-slate-950 rounded-xl border border-slate-800"><div class="text-2xl font-bold text-slate-500 mb-2">Level 1</div><h4 class="font-bold text-white mb-2">16-bit Hash Table</h4><p class="text-xs text-slate-400">利用滾動校驗碼的 16-bit Hash 快速查表。如果 Hash Table 中該位置為空，則直接跳過。</div><div class="p-4 bg-slate-950 rounded-xl border border-slate-800"><div class="text-2xl font-bold text-blue-500 mb-2">Level 2</div><h4 class="font-bold text-white mb-2">32-bit Rolling Checksum</h4><p class="text-xs text-slate-400">如果 Level 1 命中，則比對完整的 32-bit 滾動校驗碼。這是一個「弱」校驗，可能會發生碰撞，但速度極快。</div><div class="p-4 bg-slate-950 rounded-xl border border-slate-800"><div class="text-2xl font-bold text-green-500 mb-2">Level 3</div><h4 class="font-bold text-white mb-2">128-bit Strong Checksum</h4><p class="text-xs text-slate-400">只有當弱校驗碼完全相符時，才計算並比對強校驗碼 (MD4)。這是確認匹配的最終防線。</div></div><p class="text-sm text-slate-400 border-t border-slate-800 pt-4 mt-4">此三層機制確保了演算法在處理大量資料時的極致效能。只有極少數的區塊需要進行昂貴的強校驗碼計算。</div><div class="bg-blue-900/20 border border-blue-900/50 rounded-2xl p-6 flex flex-col md:flex-row items-center gap-6"><div class="flex-1"><h3 class="text-lg font-bold text-blue-400 mb-2">效能實證</h3><p class="text-sm text-slate-300">根據論文測試（Linux Kernel 原始碼更新），在使用適當 Block Size (500-1000 bytes) 的情況下， Rsync 僅需傳輸約檔案總大小 5% 的資料量。 其多層次搜尋演算法也確保了極低的 False Alarm 率（低於 1/1000），在 CPU 運算與網路傳輸間取得了極佳平衡。</div></div></div></div><script>lucide.createIcons();const TOTAL_BYTES=32,BLOCK_SIZE=4,MOD=65536,generateData=()=>{const e=[222,173,190,239,17,34,51,68,170,187,204,221,65,66,67,68,85,85,85,85,18,52,86,120,144,171,205,239,0,17,34,51];let t=[...e];return t.splice(4,0,255),t.pop(),{remote:e,local:t}};let{remote:remote,local:local}=generateData();const calculateRolling=e=>{let t=0,n=0;for(let o=0;o<e.length;o++)t=(t+e[o])%MOD,n=(n+(e.length-o)*e[o])%MOD;return t+(n<<16)>>>0},mockMD4=e=>"MD4:"+e.map(e=>e.toString(16).padStart(2,"0")).join("").toUpperCase(),remoteBlocks=[];for(let e=0;e<32;e+=4){const t=remote.slice(e,e+4);remoteBlocks.push({idx:e/4,rolling:calculateRolling(t),md4:mockMD4(t)})}let state={pos:0,subStep:0,sentIdx:0,sentRaw:0,autoMode:!1};const btnStep=document.getElementById("btn-step"),btnAuto=document.getElementById("btn-auto"),btnReset=document.getElementById("btn-reset");function initUI(){const e=document.getElementById("remote-track"),t=document.getElementById("local-track");e.innerHTML="",t.innerHTML="",remote.forEach((t,n)=>{const o=document.createElement("div");o.className="hex-cell bg-slate-900 text-slate-500 mono "+(n%4==0?"border-l-blue-900 border-l-2":""),o.innerText=t.toString(16).toUpperCase().padStart(2,"0"),o.id=`rem-${n}`,e.appendChild(o)}),local.forEach((e,n)=>{const o=document.createElement("div");o.className="hex-cell bg-slate-900 text-slate-400 mono",o.innerText=e.toString(16).toUpperCase().padStart(2,"0"),o.id=`loc-${n}`,t.appendChild(o)})}function updateStepUI(e){for(let t=1;t<=4;t++)document.getElementById(`step-ui-${t}`).className="p-3 rounded-lg border transition-all "+(e===t?"step-active border-blue-500 scale-[1.02]":"border-slate-800 opacity-50")}function highlightWindow(e,t){document.querySelectorAll(".hex-cell").forEach(e=>e.classList.remove("scanning-window"));for(let n=0;n<t;n++){const t=document.getElementById(`loc-${e+n}`);t&&t.classList.add("scanning-window")}document.getElementById("current-pos-label").innerText=`POS: ${e.toString().padStart(2,"0")}`}async function processNext(){if(state.pos>=32)return addFlow("FINISH","同步結束"),state.autoMode=!1,btnStep.disabled=!0,btnAuto.disabled=!0,btnAuto.innerHTML='<i data-lucide="play" class="w-4 h-4"></i> 自動執行',lucide.createIcons(),void(document.getElementById("decision-text").innerText="同步已完成，請重置檔案再次模擬。");if(0===state.subStep){updateStepUI(1),highlightWindow(state.pos,4);const e=local.slice(state.pos,state.pos+4);document.getElementById("val-extract").innerText=e.map(e=>e.toString(16).toUpperCase().padStart(2,"0")).join(" "),document.getElementById("decision-text").innerText="提取 4 Bytes 進行分析...",state.subStep=1}else if(1===state.subStep){updateStepUI(2);const e=local.slice(state.pos,state.pos+4),t=calculateRolling(e);document.getElementById("val-rolling").innerText=`HASH: 0x${t.toString(16).toUpperCase()}`;remoteBlocks.find(e=>e.rolling===t)?(document.getElementById("decision-text").innerText="弱校驗命中！進入 MD4 階段...",state.subStep=2):(document.getElementById("decision-text").innerText="弱校驗不符，確認為差異資料。",state.subStep=3)}else if(2===state.subStep){updateStepUI(3);const e=local.slice(state.pos,state.pos+4),t=mockMD4(e),n=calculateRolling(e),o=remoteBlocks.find(e=>e.rolling===n);document.getElementById("val-md4").innerText=t,t===o.md4?(document.getElementById("md5-badge").innerText="Match",document.getElementById("md5-badge").className="px-2 py-0.5 rounded bg-green-900 text-[10px] text-green-400 font-bold uppercase",document.getElementById("decision-text").innerText="MD4 驗證成功！發送索引。",state.currentMatch=o,state.subStep=4):(document.getElementById("md5-badge").innerText="Collision",document.getElementById("md5-badge").className="px-2 py-0.5 rounded bg-red-900 text-[10px] text-red-400 font-bold uppercase",document.getElementById("decision-text").innerText="MD4 不符（碰撞），判定為差異。",state.subStep=3)}else if(3===state.subStep){updateStepUI(4);const e=local[state.pos];addFlow("RAW",e.toString(16).toUpperCase()),state.sentRaw++,document.getElementById("stat-raw").innerText=state.sentRaw,document.getElementById("decision-text").innerHTML=`<span class="text-red-400">發送 RAW(${e.toString(16).toUpperCase()})，向下滑動 1 Byte</span>`,document.getElementById(`loc-${state.pos}`).classList.add("bg-red-900/40","border-red-700"),state.pos+=1,state.subStep=0}else if(4===state.subStep){updateStepUI(4),addFlow("IDX",state.currentMatch.idx),state.sentIdx++,document.getElementById("stat-idx").innerText=state.sentIdx,document.getElementById("decision-text").innerHTML=`<span class="text-blue-400">發送 IDX(${state.currentMatch.idx})，直接跳躍 4 Bytes</span>`;for(let e=0;e<4;e++){const t=document.getElementById(`loc-${state.pos+e}`);t&&t.classList.add("bg-blue-600","text-white","border-blue-400")}state.pos+=4,state.subStep=0}}function addFlow(e,t){const n=document.getElementById("instruction-flow");n.querySelector("span.italic")&&(n.innerHTML="");const o=document.createElement("span");o.className="px-2 py-1 rounded text-[10px] font-bold mono "+("IDX"===e?"bg-blue-600 text-white":"RAW"===e?"bg-red-600 text-white":"bg-slate-700 text-slate-400"),o.innerText=`${e}(${t})`,n.appendChild(o)}function sleep(e){return new Promise(t=>setTimeout(t,e))}btnStep.onclick=()=>{state.autoMode=!1,btnAuto.innerHTML='<i data-lucide="play" class="w-4 h-4"></i> 自動執行',lucide.createIcons(),processNext()},btnAuto.onclick=async()=>{if(state.autoMode)return state.autoMode=!1,btnAuto.innerHTML='<i data-lucide="play" class="w-4 h-4"></i> 自動執行',void lucide.createIcons();for(state.autoMode=!0,btnAuto.innerHTML='<i data-lucide="pause" class="w-4 h-4"></i> 暫停',lucide.createIcons();state.autoMode&&state.pos<32;)await processNext(),await sleep(600)},btnReset.onclick=()=>{state={pos:0,subStep:0,sentIdx:0,sentRaw:0,autoMode:!1},btnStep.disabled=!1,btnAuto.disabled=!1,btnAuto.innerHTML='<i data-lucide="play" class="w-4 h-4"></i> 自動執行',lucide.createIcons(),document.getElementById("stat-idx").innerText="0",document.getElementById("stat-raw").innerText="0",document.getElementById("instruction-flow").innerHTML='<span class="text-slate-600 italic text-xs">等待比對結果...</span>',document.getElementById("val-extract").innerText="-- -- -- --",document.getElementById("val-rolling").innerText="HASH: --------",document.getElementById("val-md4").innerText="MD4: --等待弱校驗命中--",document.getElementById("decision-text").innerText="等待輸入...",initUI()},window.onload=function(){initUI(),renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})}</script><footer class="mt-12 py-12 text-center border-t border-slate-900 bg-slate-950"><div class="space-y-2"><a href="https://wellstsai.com"target="_blank"class="text-xs text-slate-500 hover:text-blue-400 transition-colors tracking-wider decoration-none">Generated by wellstsai.com</a><p class="text-[10px] text-slate-700 font-mono tracking-widest uppercase">撰寫日期：2026-01-03</div></footer>