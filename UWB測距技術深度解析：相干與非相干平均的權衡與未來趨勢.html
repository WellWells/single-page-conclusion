<!doctypehtml><html lang="zh-Hant"><meta name="twitter:image"content="https://wellstsai.com/single-page-conclusion/UWB%E6%B8%AC%E8%B7%9D%E6%8A%80%E8%A1%93%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90%EF%BC%9A%E7%9B%B8%E5%B9%B2%E8%88%87%E9%9D%9E%E7%9B%B8%E5%B9%B2%E5%B9%B3%E5%9D%87%E7%9A%84%E6%AC%8A%E8%A1%A1%E8%88%87%E6%9C%AA%E4%BE%86%E8%B6%A8%E5%8B%A2.png"><meta name="twitter:description"content="UWB測距分析 — 互動式教學體驗，從基本原理到工程實務。比較相干與非相干平均，呈現通道脈衝響應、SNR、首路徑偵測等核心議題；說明現代混合方案如何在精準度與系統複雜度間取得最佳權衡。內含模擬與可視化工具，讓研發與工程決策者快速掌握公分級定位的關鍵挑戰與未來趨勢。"><meta name="twitter:title"content="UWB測距技術深度解析：相干與非相干平均的權衡與未來趨勢"><meta name="twitter:card"content="summary_large_image"><meta property="og:type"content="article"><meta property="og:site_name"content="WellWells"><meta property="og:image"content="https://wellstsai.com/single-page-conclusion/UWB%E6%B8%AC%E8%B7%9D%E6%8A%80%E8%A1%93%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90%EF%BC%9A%E7%9B%B8%E5%B9%B2%E8%88%87%E9%9D%9E%E7%9B%B8%E5%B9%B2%E5%B9%B3%E5%9D%87%E7%9A%84%E6%AC%8A%E8%A1%A1%E8%88%87%E6%9C%AA%E4%BE%86%E8%B6%A8%E5%8B%A2.png"><meta property="og:url"content="https://wellstsai.com/single-page-conclusion/UWB%E6%B8%AC%E8%B7%9D%E6%8A%80%E8%A1%93%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90%EF%BC%9A%E7%9B%B8%E5%B9%B2%E8%88%87%E9%9D%9E%E7%9B%B8%E5%B9%B2%E5%B9%B3%E5%9D%87%E7%9A%84%E6%AC%8A%E8%A1%A1%E8%88%87%E6%9C%AA%E4%BE%86%E8%B6%A8%E5%8B%A2.html"><meta property="og:description"content="UWB測距分析 — 互動式教學體驗，從基本原理到工程實務。比較相干與非相干平均，呈現通道脈衝響應、SNR、首路徑偵測等核心議題；說明現代混合方案如何在精準度與系統複雜度間取得最佳權衡。內含模擬與可視化工具，讓研發與工程決策者快速掌握公分級定位的關鍵挑戰與未來趨勢。"><meta property="og:title"content="UWB測距技術深度解析：相干與非相干平均的權衡與未來趨勢"><meta name="description"content="UWB測距分析 — 互動式教學體驗，從基本原理到工程實務。比較相干與非相干平均，呈現通道脈衝響應、SNR、首路徑偵測等核心議題；說明現代混合方案如何在精準度與系統複雜度間取得最佳權衡。內含模擬與可視化工具，讓研發與工程決策者快速掌握公分級定位的關鍵挑戰與未來趨勢。"><meta charset="UTF-8"><meta name="viewport"content="width=device-width,initial-scale=1"><title>UWB測距技術深度解析</title><script src="https://cdn.tailwindcss.com"></script><script src="https://cdn.jsdelivr.net/npm/chart.js@4.5.0/dist/chart.umd.min.js"></script><link rel="stylesheet"href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"xintegrity="sha384-n8MVd4RsNIU07EWHeAOQVnsRAEFcEc5YD9lNNmbMbe7dHQdUTCjxGELS_RDggY"crossorigin="anonymous"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"xintegrity="sha384-XjKyOOlVwcjNcsEMpl5endacEAuyueTnHxpQKAXVYbCFpU5ol5ASMYC2p+8aDRvan"crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"xintegrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05"crossorigin="anonymous"></script><link rel="preconnect"href="https://fonts.googleapis.com"><link rel="preconnect"href="https://fonts.gstatic.com"crossorigin><link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&display=swap"rel="stylesheet"><style>:root{--bg-color:#f0f2f5;--text-color:#1a202c;--primary-color:#3b82f6;--secondary-color:#8b5cf6;--accent-color:#14b8a6}html{scroll-behavior:smooth}body{font-family:'Noto Sans TC',sans-serif;background-color:var(--bg-color);color:var(--text-color);background-image:radial-gradient(at 27% 37%,hsla(215,98%,60%,.1) 0,transparent 50%),radial-gradient(at 97% 21%,hsla(160,80%,50%,.1) 0,transparent 50%),radial-gradient(at 0 99%,hsla(280,90%,60%,.1) 0,transparent 50%)}.gradient-text{@apply bg-gradient-to-r from-blue-500 via-purple-500 to-teal-500 bg-clip-text text-transparent;}.glass-card{@apply bg-white/60 backdrop-blur-xl border border-white/20 rounded-2xl shadow-lg;}.nav-button::after{content:''}.nav-button.active{@apply text-blue-600 font-semibold;}.chart-container{position:relative;width:100%;max-width:600px;margin-left:auto;margin-right:auto;height:320px;max-height:400px}.section-icon{@apply w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6 bg-gradient-to-br from-blue-100 to-purple-100 shadow-md;}.fade-in-section{opacity:0;transform:translateY(20px);transition:opacity .6s ease-out,transform .6s ease-out}.fade-in-section.is-visible{opacity:1;transform:translateY(0)}#modal-backdrop{transition:opacity .3s ease-in-out}#modal-content{transition:transform .3s ease-in-out,opacity .3s ease-in-out}.modal-enter{opacity:0}.modal-enter-active{opacity:1}.modal-enter-done{opacity:1}.modal-exit{opacity:1}.modal-exit-active{opacity:0}</style><script async src="https://www.googletagmanager.com/gtag/js?id=G-JKC4KZLT26"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JKC4KZLT26")</script><body class="antialiased"><header id="header"class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-sm border-b border-white/20"><nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex items-center justify-between h-16"><div class="flex items-center"><span class="text-xl font-bold gradient-text">UWB測距分析</span></div><div class="hidden md:flex md:space-x-2 group"><a href="#introduction"class="nav-button active">簡介</a> <a href="#comparison"class="nav-button">核心比較</a> <a href="#solution"class="nav-button">現代方案</a> <a href="#future"class="nav-button">未來趨勢</a></div></div></nav></header><main><section id="introduction"class="py-24 px-4 fade-in-section"><div class="max-w-7xl mx-auto text-center"><h1 class="text-5xl md:text-7xl font-black gradient-text mb-6">UWB通道脈衝響應</h1><h2 class="text-4xl md:text-5xl font-extrabold text-slate-800 text-center mb-6">相干與非相干平均</h2><p class="text-lg text-slate-600 text-center max-w-3xl mx-auto mb-12">本應用程式旨在將一份關於<span class="interactive-keyword"data-modal-target="uwb">超寬頻（UWB）</span>測距技術的深度分析報告，轉化為一個互動式的學習體驗。UWB技術能實現公分級的精準定位，但其核心挑戰在於如何處理充滿雜訊和多路徑干擾的信號。這一切都始於一個根本性的抉擇：採用「<span class="interactive-keyword"data-modal-target="coherent">相干</span>」還是「<span class="interactive-keyword"data-modal-target="noncoherent">非相干</span>」的信號平均策略。<div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto mt-12"><div class="glass-card p-6 text-center transition-transform duration-300 hover:scale-105"><h3 class="text-xl font-bold text-blue-700 mb-2">相干平均 (Coherent)</h3><p class="text-slate-600">利用信號的「相位」資訊，理論上可實現最佳性能，但對齊相位極具挑戰性，系統複雜度高。</div><div class="glass-card p-6 text-center transition-transform duration-300 hover:scale-105"><h3 class="text-xl font-bold text-purple-700 mb-2">非相干平均 (Non-Coherent)</h3><p class="text-slate-600">捨棄相位，僅累加信號「能量」，系統簡單可靠，但需克服「第一路徑檢測」的難題。</div></div></div></section><section id="comparison"class="py-20 px-4 bg-white/30 fade-in-section"><div class="max-w-7xl mx-auto"><h2 class="text-3xl font-bold text-slate-800 text-center mb-4">核心比較：一場精準度與複雜度的權衡</h2><p class="text-lg text-slate-600 text-center max-w-3xl mx-auto mb-12">相干與非相干平均是UWB測距技術的兩條不同路徑，各有其獨特的優勢與挑戰。此處我們將從不同維度對兩者進行深入的互動式比較，讓您直觀地理解其核心差異。<div class="space-y-16 mt-16"><div><h3 class="text-2xl font-bold text-center text-slate-700 mb-8 pb-2 border-b-2 border-slate-300">基本原理</h3><div class="grid md:grid-cols-2 gap-8 items-start"><div class="glass-card p-8"><h4 class="text-2xl font-bold mb-4 text-center text-blue-700">相干：先平均後平方</h4><p class="text-center text-slate-600 mb-6">先對複數信號（含相位）進行向量平均，再計算其總能量。這最大化地利用了信號的同調性來抑制雜訊。<div class="w-full h-40 bg-white/50 rounded-lg p-4 flex items-center justify-center text-slate-800 text-2xl">$$ P_{\text{coh}} = \left| \frac{1}{N} \sum_{i=1}^{N} h_i \right|^2 $$</div></div><div class="glass-card p-8"><h4 class="text-2xl font-bold mb-4 text-center text-purple-700">非相干：先平方後平均</h4><p class="text-center text-slate-600 mb-6">先計算每個信號的能量（幅度的平方），再對所有能量值進行平均。此法捨棄相位，操作簡單。<div class="w-full h-40 bg-white/50 rounded-lg p-4 flex items-center justify-center text-slate-800 text-2xl">$$ \bar{P} = \frac{1}{N} \sum_{i=1}^{N} |h_i|^2 $$</div></div></div></div><div><h3 class="text-2xl font-bold text-center text-slate-700 mb-8 pb-2 border-b-2 border-slate-300">核心挑戰</h3><div class="grid md:grid-cols-2 gap-8 items-start"><div class="glass-card p-8"><h4 class="text-2xl font-bold mb-4 text-center text-blue-700">挑戰：全局相位/頻偏與時序校正</h4><p class="text-center text-slate-600 mb-6">相干平均的關鍵在於全局的相位/頻率偏移與精細時序校正。完成後即可跨多個前導符號進行相干積分，而非逐條多徑單獨對齊。<div class="chart-container"><canvas id="multiPathPhaseCanvas"></canvas></div></div><div class="glass-card p-8"><h4 class="text-2xl font-bold mb-4 text-center text-purple-700">共同挑戰：第一路徑定位</h4><p class="text-center text-slate-600 mb-6">第一路徑定位是共同的難題。相干處理能提供更高信噪比的<span class="interactive-keyword"data-modal-target="cir">CIR</span>基礎，有利於但不等於解決前緣偵測問題。<div class="chart-container"><canvas id="pdpChart"></canvas></div></div></div></div><div><h3 class="text-2xl font-bold text-center text-slate-700 mb-8 pb-2 border-b-2 border-slate-300">性能增益</h3><div class="glass-card p-8 max-w-4xl mx-auto"><h4 class="text-2xl font-bold mb-4 text-center text-slate-800"><span class="interactive-keyword"data-modal-target="snr">信噪比(SNR)</span>增益比較</h4><p class="text-center text-slate-600 mb-6">理想條件下，相干平均的SNR增益約為 $10\log_{10}(N)$ dB；非相干平均則存在約 1–3 dB 的非相干整合損失。拖動下方滑塊查看影響。<div class="chart-container h-96"><canvas id="snrGainChart"></canvas></div><div class="mt-8 px-4"><label for="pulseSlider"class="block text-center font-medium text-slate-700 mb-2">平均脈衝數量 (N): <span id="pulseCount"class="font-bold text-blue-600 text-xl">64</span></label> <input id="pulseSlider"type="range"min="2"max="4096"value="64"class="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-500"></div></div></div><div><h3 class="text-2xl font-bold text-center text-slate-700 mb-8 pb-2 border-b-2 border-slate-300">系統複雜性</h3><div class="grid md:grid-cols-2 gap-8 items-start"><div class="glass-card p-8"><h4 class="text-2xl font-bold mb-4 text-center text-blue-700">高複雜性系統</h4><p class="text-center text-slate-600 mb-6">需要精確時序同步、載波恢復及大量DSP資源進行相位對齊，功耗和成本較高。<div class="space-y-4 mt-8"><div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg"><h5 class="font-bold">接收信號</h5><p class="text-sm text-slate-600">原始RF信號</div><div class="flex justify-center text-2xl text-slate-400">↓</div><div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg"><h5 class="font-bold">通道估計 & 相位對齊</h5><p class="text-sm text-slate-600">計算密集型DSP處理</div><div class="flex justify-center text-2xl text-slate-400">↓</div><div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg"><h5 class="font-bold">複數CIR平均</h5><p class="text-sm text-slate-600">檢測前積分</div></div></div><div class="glass-card p-8"><h4 class="text-2xl font-bold mb-4 text-center text-purple-700">低複雜性系統</h4><p class="text-center text-slate-600 mb-6">非相干路徑常以平方律取能量，並在數位域做積分與門檻化，避免了複雜的相位追蹤。<div class="space-y-4 mt-8"><div class="bg-purple-50 border-l-4 border-purple-500 p-4 rounded-r-lg"><h5 class="font-bold">接收信號</h5><p class="text-sm text-slate-600">原始RF信號</div><div class="flex justify-center text-2xl text-slate-400">↓</div><div class="bg-purple-50 border-l-4 border-purple-500 p-4 rounded-r-lg"><h5 class="font-bold">能量檢測 (平方律)</h5><p class="text-sm text-slate-600">移除相位資訊</div><div class="flex justify-center text-2xl text-slate-400">↓</div><div class="bg-purple-50 border-l-4 border-purple-500 p-4 rounded-r-lg"><h5 class="font-bold">PDP平均</h5><p class="text-sm text-slate-600">檢測後積分</div></div></div></div></div></div><div class="mt-16 pt-16 border-t border-slate-300/80"><h3 class="text-3xl font-bold text-slate-800 text-center mb-4">互動式平均模擬</h3><p class="text-lg text-slate-600 text-center max-w-3xl mx-auto mb-12">親身體驗平均處理如何從充滿雜訊的訊號中還原出清晰的波形。點擊下方按鈕，觀察相干與非相干平均的顯著差異。<div class="glass-card p-8 max-w-5xl mx-auto"><div class="chart-container h-96"><canvas id="cirChart"></canvas></div><div class="mt-8 flex justify-center items-center gap-4 flex-wrap"><button id="coherentBtn"class="px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-all duration-300 transform hover:scale-105 shadow-md">執行相干平均</button> <button id="nonCoherentBtn"class="px-6 py-2 bg-purple-600 text-white font-semibold rounded-lg hover:bg-purple-700 transition-all duration-300 transform hover:scale-105 shadow-md">執行非相干平均</button> <button id="resetBtn"class="px-6 py-2 bg-slate-500 text-white font-semibold rounded-lg hover:bg-slate-600 transition-all duration-300 transform hover:scale-105 shadow-md">重設</button></div><p id="explanationText"class="mt-6 text-center text-slate-600 min-h-[3em]"></div></div></div></section><section id="solution"class="py-20 px-4 fade-in-section"><div class="max-w-7xl mx-auto"><h2 class="text-3xl font-bold text-slate-800 text-center mb-4">現代方案：融合兩者的混合策略</h2><p class="text-lg text-slate-600 text-center max-w-3xl mx-auto mb-12">理論上的爭論將相干與非相干視為兩種獨立架構，但最成功的商業晶片（如Qorvo DW系列）並未簡單地二選一。它們採用了更聰明的混合策略。<div class="max-w-4xl mx-auto mt-12 glass-card p-8"><h3 class="text-2xl font-bold text-center mb-8 text-slate-800">現代UWB晶片處理流程</h3><div class="flex flex-col md:flex-row items-stretch justify-between space-y-4 md:space-y-0 md:space-x-4"><div class="text-center p-4 bg-white/50 rounded-lg flex-1 flex flex-col justify-center"><div class="text-4xl mb-2 font-black text-blue-500">①</div><h4 class="font-bold text-blue-700">相干接收</h4><p class="text-sm text-slate-600">利用相干前端最大化信噪比，保留完整的幅度和相位資訊。</div><div class="text-2xl text-slate-400 font-light transform md:rotate-0 rotate-90 self-center">&gt;&gt;</div><div class="text-center p-4 bg-white/50 rounded-lg flex-1 flex flex-col justify-center"><div class="text-4xl mb-2 font-black text-blue-500">②</div><h4 class="font-bold text-blue-700">生成高質量<span class="interactive-keyword"data-modal-target="cir">CIR</span></h4><p class="text-sm text-slate-600">通過相干積分，產生信噪比極高的通道脈衝響應估計。</div><div class="text-2xl text-slate-400 font-light transform md:rotate-0 rotate-90 self-center">&gt;&gt;</div><div class="text-center p-4 bg-white/50 rounded-lg flex-1 flex flex-col justify-center"><div class="text-4xl mb-2 font-black text-purple-500">③</div><h4 class="font-bold text-purple-700">先進前緣檢測</h4><p class="text-sm text-slate-600">在高品質CIR上，運行複雜演算法（如CFAR）來精準定位第一路徑。</div></div><p class="mt-8 text-center text-slate-700 font-medium bg-blue-50/80 p-4 rounded-lg border border-blue-200/80"><strong>結論：</strong> 現代實踐的權衡已從硬體架構轉移到軟體/韌體演算法。採用相干基礎，以獲得最佳信號，然後用軟體解決非相干的核心問題，實現了性能與穩健性的統一。</div></div></section><section id="future"class="py-20 px-4 bg-white/30 fade-in-section"><div class="max-w-7xl mx-auto"><h2 class="text-3xl font-bold text-slate-800 text-center mb-4">未來趨勢與開放挑戰</h2><p class="text-lg text-slate-600 text-center max-w-3xl mx-auto mb-12">儘管UWB技術已取得巨大進步，但仍有許多挑戰和新興研究方向值得探索，特別是在更複雜的動態和非視距環境中。<div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 mt-12"><div class="glass-card p-6 transition-transform duration-300 hover:-translate-y-2"><h3 class="font-bold text-lg mb-2 text-slate-800">穩健的NLOS識別與緩解</h3><p class="text-slate-600">在嚴重的非視距（NLOS）條件下，如何有效區分微弱的直射路徑與強烈的反射/繞射路徑，仍然是提高可靠性的關鍵。</div><div class="glass-card p-6 transition-transform duration-300 hover:-translate-y-2"><h3 class="font-bold text-lg mb-2 text-slate-800">動態環境與都卜勒效應</h3><p class="text-slate-600">高速移動時，都卜勒頻移會影響相干增益。設計上需縮短積分視窗或加入相位追蹤機制來補償。</div><div class="glass-card p-6 transition-transform duration-300 hover:-translate-y-2"><h3 class="font-bold text-lg mb-2 text-slate-800">同步與對齊誤差</h3><p class="text-slate-600">微小的時序對齊誤差會擴散信號能量，降低相干增益。實務上常在平均前以插值等方法進行微調。</div><div class="glass-card p-6 transition-transform duration-300 hover:-translate-y-2 lg:col-span-3"><h3 class="font-bold text-lg mb-2 text-slate-800">機器學習方法的應用</h3><p class="text-slate-600">利用神經網路直接從原始<span class="interactive-keyword"data-modal-target="cir">CIR</span>數據中學習測距模式，有望繞過傳統的信號處理模型，以數據驅動的方式解決NLOS誤差等複雜問題。</div></div></div></section></main><footer class="bg-slate-800 text-white py-8 px-4 mt-20"><div class="max-w-7xl mx-auto text-center text-slate-400"><p class="mt-2 text-sm"><a href="https://wellstsai.com"target="_blank"rel="noopener noreferrer"class="hover:text-teal-400 transition-colors">Generated by wellstsai.com</a></div></footer><div id="modal-backdrop"class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden modal-enter"></div><div id="modal-container"class="fixed inset-0 z-50 flex items-center justify-center p-4 hidden"><div id="modal-content"class="glass-card w-full max-w-lg p-8 transform scale-95 opacity-0"><div class="flex justify-between items-center mb-4"><h3 id="modal-title"class="text-2xl font-bold gradient-text"></h3><button id="modal-close-btn"class="text-slate-500 hover:text-red-500 transition-colors"><svg xmlns="http://www.w3.org/2000/svg"class="h-8 w-8"fill="none"viewBox="0 0 24 24"stroke="currentColor"stroke-width="2"><path stroke-linecap="round"stroke-linejoin="round"d="M6 18L18 6M6 6l12 12"/></svg></button></div><div id="modal-body"class="text-slate-600 space-y-4"></div></div></div><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1});const t={uwb:{title:"超寬頻 (UWB)",body:"<p>一種無線通訊技術，特點是使用極寬的頻譜（通常 > 500 MHz）來傳輸極短的脈衝信號（奈秒級）。</p><p>這使得UWB具備極高的時間解析度，能夠精確測量信號的飛行時間（Time of Flight），從而實現公分級的高精度測距和定位。</p>"},coherent:{title:"相干 (Coherent)",body:"<p>指在信號處理中，同時利用信號的<strong>幅度和相位</strong>資訊。在平均過程中，相干處理要求將多次測量的信號相位對齊，使得信號本身能夠建設性地疊加，而隨機相位雜訊則會相互抵消。</p><p>這種方法理論上可以達到最佳的信噪比改善效果，但實現複雜度高。</p>"},noncoherent:{title:"非相干 (Non-Coherent)",body:"<p>指在信號處理中，<strong>僅利用信號的幅度或能量</strong>資訊，而完全忽略相位。在平均過程中，非相干處理直接累加每次測量的信號能量（如幅度的平方）。</p><p>這種方法對相位變化不敏感，系統實現簡單、穩健，但性能增益不如相干處理。</p>"},nlos:{title:"非視距 (NLOS)",body:"<p>Non-Line-of-Sight的縮寫，指發射器和接收器之間沒有直接、無阻擋的直線路徑。信號需要透過反射、繞射等方式才能到達接收器。</p><p>在NLOS環境下，最先到達的信號（通常是繞射信號）會非常微弱，而能量最強的信號往往是稍後到達的反射信號，這給精準測距帶來了巨大挑戰。</p>"},snr:{title:"信噪比 (SNR)",body:"<p>Signal-to-Noise Ratio的縮寫，是用於衡量有用信號強度與背景雜訊強度之間關係的指標，通常以分貝（dB）為單位。</p><p>SNR越高，表示信號品質越好，越容易從雜訊中被準確地檢測出來。信號平均處理的主要目的之一就是提高SNR。</p>"},cir:{title:"通道脈衝響應 (CIR)",body:"<p>Channel Impulse Response的縮寫，是一個描述無線通道如何影響發射信號的數學函數。它完整地記錄了所有多路徑分量（直射、反射等）的到達時間、幅度和相位資訊。</p><p>CIR是進行UWB測距分析最原始、最關鍵的數據，如同通道的「指紋」。</p>"}},e=document.getElementById("modal-backdrop"),a=document.getElementById("modal-container"),n=document.getElementById("modal-content"),o=document.getElementById("modal-title"),d=document.getElementById("modal-body"),s=document.getElementById("modal-close-btn");function l(){e.classList.add("modal-exit-active"),n.classList.add("scale-95","opacity-0"),setTimeout(()=>{document.body.classList.remove("overflow-hidden"),e.classList.add("hidden","modal-enter"),a.classList.add("hidden"),e.classList.remove("modal-exit-active")},300)}document.querySelectorAll(".interactive-keyword").forEach(s=>{s.addEventListener("click",l=>{l.stopPropagation(),function(s){const l=t[s];l&&(o.textContent=l.title,d.innerHTML=l.body,document.body.classList.add("overflow-hidden"),e.classList.remove("hidden"),a.classList.remove("hidden"),requestAnimationFrame(()=>{e.classList.remove("modal-enter"),n.classList.remove("scale-95","opacity-0")}))}(s.dataset.modalTarget)})}),s.addEventListener("click",l),e.addEventListener("click",l),document.addEventListener("keydown",t=>{"Escape"!==t.key||a.classList.contains("hidden")||l()});const i=document.querySelectorAll(".fade-in-section"),r=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(t.target.classList.add("is-visible"),r.unobserve(t.target))})},{threshold:.1});i.forEach(t=>r.observe(t));const c=document.getElementById("cirChart").getContext("2d"),p=document.getElementById("explanationText"),m=200;let u,h,b;function g(){var t;u&&u.destroy(),h=function(){const t=new Array(m).fill(0);for(let e=0;e<m;e++)t[e]=Math.exp(-Math.pow((e-50)/15,2))*Math.cos(.8*(e-50));return t}(),t=h,b=Array.from({length:50},()=>t.map(t=>t+.8*(Math.random()-.5))),u=new Chart(c,{type:"line",data:{labels:Array.from({length:m},(t,e)=>e),datasets:[{label:"單一接收訊號 (含噪)",data:b[0],borderColor:"rgba(156, 163, 175, 0.6)",borderWidth:1.5,pointRadius:0,tension:.4},{label:"原始無噪訊號 (理想)",data:h,borderColor:"rgba(59, 130, 246, 0.8)",borderWidth:2,pointRadius:0,hidden:!0,borderDash:[5,5],tension:.4},{label:"平均後訊號",data:[],borderColor:"#ef4444",borderWidth:3,pointRadius:0,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:800},scales:{y:{beginAtZero:!1,title:{display:!0,text:"幅度"}},x:{title:{display:!0,text:"時間樣本"}}},plugins:{legend:{position:"top"},tooltip:{enabled:!1}}}}),p.textContent="已產生 50 組帶有隨機雜訊的模擬訊號。圖中顯示其中一組。"}document.getElementById("coherentBtn").addEventListener("click",()=>{const t=function(t){const e=new Array(m).fill(0);for(let a=0;a<m;a++){for(let n=0;n<t.length;n++)e[a]+=t[n][a];e[a]/=t.length}return e}(b);u.data.datasets[2].label="相干平均後訊號",u.data.datasets[2].borderColor="#3b82f6",u.data.datasets[2].data=t,u.data.datasets[0].hidden=!0,u.data.datasets[1].hidden=!1,u.update(),p.textContent="相干平均保留了相位資訊，準確地還原了原始訊號的雙極性波形，並有效抑制了雜訊。"}),document.getElementById("nonCoherentBtn").addEventListener("click",()=>{const t=function(t){const e=new Array(m).fill(0);for(let a=0;a<m;a++){for(let n=0;n<t.length;n++)e[a]+=Math.abs(t[n][a]);e[a]/=t.length}return e}(b);u.data.datasets[2].label="非相干平均後訊號",u.data.datasets[2].borderColor="#8b5cf6",u.data.datasets[2].data=t,u.data.datasets[0].hidden=!0,u.data.datasets[1].hidden=!1,u.update(),p.textContent="非相干平均只處理幅度（絕對值），產生了訊號的功率包絡線，丟失了原始的相位資訊。"}),document.getElementById("resetBtn").addEventListener("click",g);const y=document.querySelectorAll(".nav-button"),f=document.querySelectorAll("main section"),C=document.getElementById("header").offsetHeight;window.addEventListener("scroll",()=>{let t="introduction";f.forEach(e=>{const a=e.offsetTop-C-100;pageYOffset>=a&&(t=e.getAttribute("id"))}),y.forEach(e=>{e.classList.remove("active"),e.getAttribute("href")===`#${t}`&&e.classList.add("active")})}),function(){const t=document.getElementById("snrGainChart").getContext("2d"),e=document.getElementById("pulseSlider"),a=document.getElementById("pulseCount"),n=t=>{const e=[],a=[],n=[],o=t>512?Math.floor(t/256):1;for(let d=2;d<=t;d+=o)e.push(d),a.push(10*Math.log10(d)),n.push(10*Math.log10(Math.sqrt(d)));return{labels:e,coherentData:a,nonCoherentData:n}},o=n(parseInt(e.value)),d=new Chart(t,{type:"line",data:{labels:o.labels,datasets:[{label:"相干增益 (10log₁₀(N))",data:o.coherentData,borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.2,fill:!0},{label:"非相干增益 (存在整合損失)",data:o.nonCoherentData,borderColor:"#8b5cf6",backgroundColor:"rgba(139, 92, 246, 0.1)",tension:.2,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,title:{display:!0,text:"SNR 增益 (dB)"},max:40},x:{title:{display:!0,text:"平均脈衝數 (N)"}}},plugins:{tooltip:{mode:"index",intersect:!1}}}});e.addEventListener("input",t=>{const e=parseInt(t.target.value);a.textContent=e;const o=n(e);d.data.labels=o.labels,d.data.datasets[0].data=o.coherentData,d.data.datasets[1].data=o.nonCoherentData,d.update("none")})}(),function(){const t=document.getElementById("pdpChart").getContext("2d");new Chart(t,{type:"bar",data:{labels:Array.from({length:20},(t,e)=>e+1),datasets:[{label:"信號功率",data:[2,8,3,1,0,0,70,5,25,4,1,12,2,0,5,1,0,0,0,0],backgroundColor:t=>{const e=t.dataIndex;return 1===e?"#14b8a6":6===e?"#a855f7":"rgba(168, 85, 247, 0.5)"},borderColor:"#9333ea",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:"示例功率延遲分佈 (PDP)"}},scales:{y:{title:{display:!0,text:"相對功率"}},x:{title:{display:!0,text:"延遲 (時間單位)"}}}}})}(),function(){const t=document.getElementById("multiPathPhaseCanvas").getContext("2d");new Chart(t,{type:"bar",data:{labels:["路徑1","路徑2","路徑3","路徑4","路徑5","路徑...L"],datasets:[{label:"相位偏移 (弧度)",data:[.2,-1.5,2.8,-.5,1.1,-2.2],backgroundColor:"rgba(59, 130, 246, 0.6)"}]},options:{responsive:!0,maintainAspectRatio:!1,indexAxis:"y",plugins:{legend:{display:!1},title:{display:!0,text:"各多路徑分量的獨立相位"}},scales:{x:{title:{display:!0,text:"相位偏移"},min:-Math.PI,max:Math.PI}}}})}(),g()})</script>