<!doctypehtml><html lang="zh-TW"class="scroll-smooth"><meta name="twitter:image"content="https://wellstsai.com/single-page-conclusion/%E5%AE%B6%E7%94%A8Web%E6%9C%8D%E5%8B%99%E4%BD%8E%E8%AA%BF%E7%B6%AD%E9%81%8B%E6%8C%87%E5%8D%97-%E5%90%88%E8%A6%8F%E8%88%87%E6%8A%80%E8%A1%93%E9%98%B2%E7%A6%A6.png"><meta name="twitter:description"content="指南為在中國大陸維運個人網站提供框架。從 ICP 與公安備案等法律合規要點，到 Nginx 技術加固與靜默防禦，再到針對 GFW 流量分析的進階策略，旨在實現安全低調的服務運行。"><meta name="twitter:title"content="家用Web服務低調維運指南-合規與技術防禦"><meta name="twitter:card"content="summary_large_image"><meta property="og:type"content="article"><meta property="og:site_name"content="WellWells"><meta property="og:image"content="https://wellstsai.com/single-page-conclusion/%E5%AE%B6%E7%94%A8Web%E6%9C%8D%E5%8B%99%E4%BD%8E%E8%AA%BF%E7%B6%AD%E9%81%8B%E6%8C%87%E5%8D%97-%E5%90%88%E8%A6%8F%E8%88%87%E6%8A%80%E8%A1%93%E9%98%B2%E7%A6%A6.png"><meta property="og:url"content="https://wellstsai.com/single-page-conclusion/%E5%AE%B6%E7%94%A8Web%E6%9C%8D%E5%8B%99%E4%BD%8E%E8%AA%BF%E7%B6%AD%E9%81%8B%E6%8C%87%E5%8D%97-%E5%90%88%E8%A6%8F%E8%88%87%E6%8A%80%E8%A1%93%E9%98%B2%E7%A6%A6.html"><meta property="og:description"content="指南為在中國大陸維運個人網站提供框架。從 ICP 與公安備案等法律合規要點，到 Nginx 技術加固與靜默防禦，再到針對 GFW 流量分析的進階策略，旨在實現安全低調的服務運行。"><meta property="og:title"content="家用Web服務低調維運指南-合規與技術防禦"><meta name="description"content="指南為在中國大陸維運個人網站提供框架。從 ICP 與公安備案等法律合規要點，到 Nginx 技術加固與靜默防禦，再到針對 GFW 流量分析的進階策略，旨在實現安全低調的服務運行。"><meta charset="UTF-8"><meta name="viewport"content="width=device-width,initial-scale=1"><title>家用 Web 服務低調維運指南</title><script src="https://cdn.tailwindcss.com"></script><link rel="preconnect"href="https://fonts.googleapis.com"><link rel="preconnect"href="https://fonts.gstatic.com"crossorigin><link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap"rel="stylesheet"><style>:root{--color-primary:#0ea5e9;--color-primary-dark:#0284c7;--color-secondary:#8b5cf6;--color-accent:#f59e0b;--gradient-primary:linear-gradient(135deg, #667eea 0%, #764ba2 100%);--gradient-secondary:linear-gradient(135deg, #f093fb 0%, #f5576c 100%);--gradient-teal:linear-gradient(135deg, #0ea5e9 0%, #14b8a6 100%)}body{font-family:'Noto Sans TC',system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Ubuntu,"Helvetica Neue",sans-serif;background:linear-gradient(to bottom,#f0f9ff 0,#e0f2fe 50%,#f8fafc 100%);color:#334155;min-height:100vh}.gradient-text{background-image:var(--gradient-teal);-webkit-background-clip:text;background-clip:text;color:transparent;font-weight:400}.keyword{color:#0284c7;font-weight:700;cursor:pointer;position:relative;white-space:nowrap;transition:all .3s cubic-bezier(.4, 0, .2, 1);padding:3px 8px;border-radius:8px;background:linear-gradient(to right,#e0f2fe 0,#dbeafe 100%);border:2px solid transparent;display:inline-block}.keyword::before{content:'';position:absolute;inset:0;border-radius:8px;padding:2px;background:var(--gradient-teal);-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);-webkit-mask-composite:xor;mask-composite:exclude;opacity:0;transition:opacity .3s}.keyword:hover{transform:translateY(-2px) scale(1.05);color:#fff;background:var(--gradient-teal);box-shadow:0 10px 25px -5px rgba(14,165,233,.4)}.keyword:hover::before{opacity:1}.glass-card{background:rgba(255,255,255,.7);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.8);box-shadow:0 8px 32px rgba(0,0,0,.08);transition:all .4s cubic-bezier(.4, 0, .2, 1)}.glass-card:hover{transform:translateY(-4px);box-shadow:0 20px 40px rgba(0,0,0,.12)}.glass-border{border:1px solid rgba(255,255,255,.8);background:rgba(255,255,255,.6);backdrop-filter:blur(20px)}.section-divider{height:2px;background:linear-gradient(to right,transparent,#0ea5e9,#14b8a6,transparent);margin:4rem auto;position:relative}.section-divider::after{content:'✦';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;padding:0 1rem;color:#0ea5e9;font-size:1.2rem}.prose{max-width:80ch}@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}.floating{animation:float 3s ease-in-out infinite}.badge{display:inline-block;padding:.5rem 1rem;background:var(--gradient-teal);color:#fff;border-radius:9999px;font-weight:600;font-size:.875rem;letter-spacing:.05em;box-shadow:0 4px 14px rgba(14,165,233,.4)}.nav-link{position:relative;overflow:hidden}.nav-link::after{content:'';position:absolute;bottom:0;left:0;width:0;height:2px;background:var(--gradient-teal);transition:width .3s ease}.nav-link:hover::after{width:100%}code{background:#1e293b;color:#e2e8f0;padding:.2em .4em;border-radius:.25rem;font-size:.875em}pre code{padding:0}</style><script async src="https://www.googletagmanager.com/gtag/js?id=G-JKC4KZLT26"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JKC4KZLT26")</script><body class="antialiased"><header class="bg-white/90 backdrop-blur-xl sticky top-0 z-40 shadow-lg border-b border-white/20"><nav class="container mx-auto px-4 lg:px-8"><div class="flex items-center justify-between h-24"><div class="flex items-center space-x-4"><span class="text-5xl floating">🛡️</span><div><h1 class="text-2xl md:text-3xl font-extrabold text-slate-800">家用 Web 服務低調維運指南</h1><p class="text-sm text-slate-500 mt-1">合規與技術防禦完全手冊</div></div><div class="hidden md:flex items-center space-x-6 text-base font-semibold text-slate-600"><a href="#compliance"class="nav-link hover:text-sky-600 transition-colors py-2">⚖️ 合規之路</a> <a href="#hardening"class="nav-link hover:text-sky-600 transition-colors py-2">🔒 技術加固</a> <a href="#defense"class="nav-link hover:text-sky-600 transition-colors py-2">🛡️ 進階防禦</a></div></div></nav></header><main class="container mx-auto px-4 lg:px-8 py-16"><section class="text-center mb-20"><div class="inline-block mb-6"><span class="badge">✨ 技術探討與合規指南</span></div><h2 class="text-5xl md:text-7xl mb-6 leading-tight">在合規的邊界，<br><span class="gradient-text">優雅潛行</span></h2><p class="text-xl text-slate-600 max-w-4xl mx-auto leading-relaxed">本指南旨在提供一個清晰、可操作的框架，助您在中國大陸複雜的網路環境中，以更低調、更安全的方式維運個人 Web 服務。從不可協商的法律合規，到精妙的技術配置，每一步都至關重要。<div class="mt-10 flex flex-wrap justify-center gap-4"><div class="glass-card px-6 py-3 rounded-full"><span class="text-sky-600 font-bold">📋 合規框架</span></div><div class="glass-card px-6 py-3 rounded-full"><span class="text-purple-600 font-bold">🔐 安全加固</span></div><div class="glass-card px-6 py-3 rounded-full"><span class="text-amber-600 font-bold">🚀 技術對抗</span></div></div></section><div class="section-divider"></div><section id="compliance"class="py-20 scroll-mt-24"><div class="text-center mb-16"><div class="inline-block mb-4"><span class="badge">第一章</span></div><h2 class="text-4xl md:text-5xl font-black text-slate-800 mt-2 mb-6"><span class="gradient-text">合規為王</span>：不可逾越的紅線</h2><p class="text-xl text-slate-600 max-w-4xl mx-auto mt-4 leading-relaxed">在中國內地，任何技術措施都必須以法律合規為前提。核心是 <span class="keyword"data-keyword="icp">ICP 備案</span> 與 <span class="keyword"data-keyword="gongan">公安備案</span>，它們共同將您的真實身份與域名、伺服器 IP 進行了牢固綁定。</div><div class="grid md:grid-cols-2 gap-8 mb-16"><div class="glass-card p-8 rounded-2xl border-l-4 border-amber-500"><div class="flex items-start"><span class="text-4xl mr-4">⚠️</span><div><h4 class="font-black text-2xl text-amber-800 mb-3">罰則摘要</h4><p class="text-amber-700 leading-relaxed">「未履行備案即提供服務」的法定處罰為 <strong class="text-amber-900">責令限期改正並處 ¥10,000 罰款</strong>；對「超出備案內容」或首頁未按規定懸掛/鏈向的違規，處 <strong class="text-amber-900">¥5,000–¥10,000</strong>。拒不改正者可被關閉網站。</div></div></div><div class="glass-card p-8 rounded-2xl border-l-4 border-blue-500"><div class="flex items-start"><span class="text-4xl mr-4">⏱️</span><div><h4 class="font-black text-2xl text-blue-800 mb-3">時程節點</h4><p class="text-blue-700 leading-relaxed">流程節點包括接入商初審、人臉核驗/短信核驗（<strong class="text-blue-900">24 小時內</strong>完成，逾期退回）以及省管局終審（法規時限最長 <strong class="text-blue-900">20 個工作日</strong>）。</div></div></div></div><div class="glass-card p-10 rounded-3xl shadow-2xl border-2 border-white prose prose-lg max-w-none text-slate-700"><h3 class="text-3xl font-black text-slate-800 flex items-center"><span class="text-4xl mr-3">👤</span> 個人備案 vs. 企業備案：關鍵抉擇</h3><p class="text-lg leading-relaxed">個人備案原則上限於非經營性內容；如涉及留言、論壇、社區等互動功能，多數省份要求前置審批/會商或改以單位（企業）主體辦理，否則難以通過。<div class="my-10 overflow-x-auto rounded-xl border-2 border-slate-200"><table class="w-full text-left border-collapse"><thead><tr class="bg-gradient-to-r from-sky-50 to-blue-50"><th class="p-5 font-black text-slate-700 text-lg border-b-2 border-slate-300">屬性<th class="p-5 font-black text-slate-700 text-lg border-b-2 border-slate-300">個人備案<th class="p-5 font-black text-slate-700 text-lg border-b-2 border-slate-300">企業備案<tbody class="bg-white"><tr class="border-b border-slate-200 hover:bg-slate-50 transition-colors"><td class="p-5 font-bold text-slate-800">允許內容<td class="p-5 text-slate-600">僅限個人作品、日誌等非商業性內容分享。<td class="p-5 text-slate-600">可包含企業宣傳、產品推廣等，須符合經營範圍。<tr class="border-b border-slate-200 hover:bg-slate-50 transition-colors"><td class="p-5 font-bold text-slate-800">互動功能<td class="p-5 text-slate-600">嚴格限制，部分省份（如江蘇）明令禁止使用者登入或留言板，或需前置審批。<td class="p-5 text-slate-600">允許,但須承擔內容審核的法律責任。<tr class="hover:bg-slate-50 transition-colors"><td class="p-5 font-bold text-slate-800">主要文件<td class="p-5 text-slate-600">個人身分證；非本地戶籍者通常需提供居住證。<td class="p-5 text-slate-600">企業營業執照、法定代表人及網站負責人身分證。</table></div><h3 class="mt-12 text-3xl font-black text-slate-800 flex items-center"><span class="text-4xl mr-3">🗺️</span> 備案規則的地區差異</h3><ul class="space-y-3 text-lg"><li class="flex items-start"><span class="text-2xl mr-3">📍</span> <span><strong class="text-slate-800">江蘇：</strong>個人網站命名普遍要求採「姓名 + 的個人主頁/個人博客」格式；涉及論壇需提供網信辦會商結果。</span><li class="flex items-start"><span class="text-2xl mr-3">📍</span> <span><strong class="text-slate-800">山西：</strong>個人備案受理條件嚴、域名數量與單次申報有限制，且居住證一般不被接受（以當期公告為準）。</span></ul><div class="mt-12 p-8 bg-gradient-to-br from-green-50 to-emerald-50 border-l-4 border-green-500 rounded-2xl shadow-lg"><h4 class="text-2xl font-black text-green-800 flex items-center mb-4"><span class="mr-4 text-4xl">🚨</span> 關鍵合規：公安備案與首頁標註</h4><p class="mt-3 text-green-700 text-lg leading-relaxed">內地託管網站上線時，首頁底部需標示 ICP 備案號並鏈向工信部備案管理系統指定網址；上線後<strong class="text-green-900">30 日內</strong>完成公安機關聯網備案。違反可處 ¥5,000–¥10,000（首頁標註）或被警告/停機整頓（公安備案）。</div></div></section><div class="section-divider"></div><section id="hardening"class="py-20 scroll-mt-24"><div class="text-center mb-16"><div class="inline-block mb-4"><span class="badge">第二章</span></div><h2 class="text-4xl md:text-5xl font-black text-slate-800 mt-2 mb-6"><span class="gradient-text">技術加固</span>：最小化暴露面</h2><p class="text-xl text-slate-600 max-w-4xl mx-auto mt-4 leading-relaxed">強化伺服器安全是降低風險的基礎。目標是在無差別的自動化掃描中，不給攻擊者和掃描器過多有用信息。</div><div class="glass-card p-10 rounded-3xl shadow-2xl border-2 border-white prose prose-lg max-w-none text-slate-700"><h3 class="text-3xl font-black text-slate-800 flex items-center"><span class="text-4xl mr-3">🔐</span> 基礎網路環境強化</h3><ul class="space-y-4 text-lg"><li class="flex items-start bg-slate-50 p-4 rounded-xl"><span class="text-2xl mr-3">🔑</span> <span><strong class="text-slate-800">更改預設端口：</strong> 避開 SSH(22)、NAS管理(5000/5001)等熟知端口。</span><li class="flex items-start bg-slate-50 p-4 rounded-xl"><span class="text-2xl mr-3">🛑</span> <span><strong class="text-slate-800">停用閒置服務：</strong> 關閉 Telnet, FTP 等不必要的服務。</span><li class="flex items-start bg-slate-50 p-4 rounded-xl"><span class="text-2xl mr-3">🔒</span> <span><strong class="text-slate-800">啟用MFA與自動封鎖：</strong> 為管理帳號啟用多因素驗證，並設定自動封鎖多次登錄失敗的IP。</span><li class="flex items-start bg-slate-50 p-4 rounded-xl"><span class="text-2xl mr-3">🚪</span> <span><strong class="text-slate-800">確認端口策略：</strong> 在公有雲環境普遍封鎖 <code>25/TCP</code> 出站；住宅寬頻對 <code>135/139/445/25</code> 等端口的策略因運營商而異。</span></ul><h3 class="mt-12 text-3xl font-black text-slate-800 flex items-center"><span class="text-4xl mr-3">🤫</span> Nginx 靜默防禦：<span class="keyword ml-2"data-keyword="return444">return 444</span></h3><p class="text-lg leading-relaxed"><span class="keyword"data-keyword="return444">return 444</span> 的效果是關閉連線且不返回 HTTP 負載，可降低指紋暴露；但掃描端仍可觀測到 TCP 已開放並被主動關閉，並非與「未開放端口」不可區分。<div class="my-10 grid md:grid-cols-2 gap-8 text-center"><div class="glass-card p-6 border-l-4 border-red-400 rounded-2xl"><div class="text-5xl mb-4">😕</div><h5 class="font-black text-xl text-red-800 mb-3">常規響應 (403/404)</h5><p class="text-red-700 leading-relaxed">掃描器：「有人在嗎？」<br>伺服器：「我在，但你不許進來！」<br><strong class="mt-3 block text-red-900 text-lg">結論：暴露服務存在</strong></div><div class="glass-card p-6 border-l-4 border-teal-400 rounded-2xl"><div class="text-5xl mb-4">🤐</div><h5 class="font-black text-xl text-teal-800 mb-3">靜默防禦 (444)</h5><p class="text-teal-700 leading-relaxed">掃描器：「有人在嗎？」<br>伺服器：(無聲，掛斷連線)<br><strong class="mt-3 block text-teal-900 text-lg">結論：降低指紋暴露</strong></div></div><h3 class="mt-12 text-3xl font-black text-slate-800 flex items-center"><span class="text-4xl mr-3">⚙️</span> 互動式 Nginx 配置生成</h3><p class="text-lg leading-relaxed">根據您的需求選擇配置，下方將生成推薦的 Nginx server 區塊。這是實現靜默防禦的關鍵。<div class="my-8 space-y-4 glass-card p-8 rounded-2xl"><div class="flex items-center p-4 bg-white rounded-xl hover:shadow-md transition-shadow"><input type="checkbox"id="nginx-default-server"class="h-6 w-6 rounded accent-sky-600"checked="checked"> <label for="nginx-default-server"class="ml-4 text-lg font-semibold cursor-pointer">✅ 啟用 `default_server` 捕獲未知請求 (推薦)</label></div><div class="flex items-center p-4 bg-white rounded-xl hover:shadow-md transition-shadow"><input type="checkbox"id="nginx-https-redirect"class="h-6 w-6 rounded accent-sky-600"checked="checked"> <label for="nginx-https-redirect"class="ml-4 text-lg font-semibold cursor-pointer">✅ 強制 HTTP 重定向到 HTTPS (推薦)</label></div><div class="flex items-center p-4 bg-white rounded-xl hover:shadow-md transition-shadow"><input type="checkbox"id="nginx-497-handle"class="h-6 w-6 rounded accent-sky-600"checked="checked"> <label for="nginx-497-handle"class="ml-4 text-lg font-semibold cursor-pointer">✅ 處理對 HTTPS 端口的 HTTP 請求 (<span class="keyword"data-keyword="error497">497</span>) (推薦)</label></div></div><pre class="bg-gradient-to-br from-slate-900 to-slate-800 text-green-400 p-6 rounded-2xl overflow-x-auto shadow-2xl border-2 border-slate-700"><code id="nginx-config-output"></code></pre></div></section><div class="section-divider"></div><section id="defense"class="py-20 scroll-mt-24"><div class="text-center mb-16"><div class="inline-block mb-4"><span class="badge">第三章</span></div><h2 class="text-4xl md:text-5xl font-black text-slate-800 mt-2 mb-6"><span class="gradient-text">進階防禦</span>：理解對手的工具</h2><p class="text-xl text-slate-600 max-w-4xl mx-auto mt-4 leading-relaxed">對於境外服務，您面臨的是純粹的技術對抗。高位隨機端口僅能降低泛用掃描噪音；對 <span class="keyword"data-keyword="zmap">ZMap/Masscan</span> 等網際網路級掃描無實質防禦力。理解 <span class="keyword"data-keyword="gfw">GFW</span> 的偵測機制是規避封鎖的關鍵。</div><div class="glass-card p-10 rounded-3xl shadow-2xl border-2 border-white prose prose-lg max-w-none text-slate-700"><h3 class="text-3xl font-black text-slate-800 flex items-center"><span class="text-4xl mr-3">🕵️</span> SNI 洩露與流量分析</h3><p class="text-lg leading-relaxed">在未廣泛部署 <span class="keyword"data-keyword="ech">ECH</span> (Encrypted Client Hello) 的情況下，TLS 握手中的 <span class="keyword"data-keyword="sni">SNI</span> 仍為明文，可被用於域名級阻斷。此外，中國曾對 ESNI 施行攔截，且有針對 <span class="keyword"data-keyword="quic">QUIC</span> 的 <span class="keyword"data-keyword="sni">SNI</span> 攔截量測結果。<h3 class="mt-12 text-3xl font-black text-slate-800 flex items-center"><span class="text-4xl mr-3">🧠</span> GFW 的高級流量分析：「負向過濾」模型</h3><p class="text-lg leading-relaxed">對於「全加密」協議的封鎖，<span class="keyword"data-keyword="gfw">GFW</span> 存在三類基於可打印 ASCII 字符的豁免啟發式規則，已有公開量測與演算法重建。這意味著，純粹隨機、高熵的流量反而更容易被攔截。<div class="mt-10 grid md:grid-cols-3 gap-6"><div class="glass-card p-6 rounded-2xl border-l-4 border-teal-400"><div class="text-4xl mb-3">📝</div><h5 class="font-black text-xl text-teal-800 mb-3">豁免規則 1 (Ex4)</h5><p class="text-teal-700 leading-relaxed">若首 6 個位元組均為<strong class="text-teal-900">可打印 ASCII 字符</strong>，則豁免。</div><div class="glass-card p-6 rounded-2xl border-l-4 border-teal-400"><div class="text-4xl mb-3">📊</div><h5 class="font-black text-xl text-teal-800 mb-3">豁免規則 2 (Ex2)</h5><p class="text-teal-700 leading-relaxed">若數據包中超過 50% 為<strong class="text-teal-900">可打印 ASCII 字符</strong>，則豁免。</div><div class="glass-card p-6 rounded-2xl border-l-4 border-teal-400"><div class="text-4xl mb-3">📏</div><h5 class="font-black text-xl text-teal-800 mb-3">豁免規則 3 (Ex3)</h5><p class="text-teal-700 leading-relaxed">若存在長度 >20 的<strong class="text-teal-900">連續可打印 ASCII 字符串</strong>，則豁免。</div></div><div class="mt-12 p-8 bg-gradient-to-br from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-2xl shadow-lg"><h4 class="text-2xl font-black text-blue-800 flex items-center mb-4"><span class="mr-4 text-4xl">💡</span> 核心啟示</h4><p class="mt-3 text-blue-700 text-lg leading-relaxed">在防火牆內，<strong class="text-blue-900">合規是強制性的</strong>；在防火牆外，<strong class="text-blue-900">模仿是必要的</strong>。您的目標不是變得不可見，而是要讓流量特徵「看起來很普通」，以匹配 <span class="keyword"data-keyword="gfw">GFW</span> 的豁免規則。</div></div></section></main><footer class="bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 text-slate-300 py-12 relative overflow-hidden"><div class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4wNSI+PHBhdGggZD0iTTM2IDEzNGgxMnYxMkg0NnYxMkgzNnYtMTJ6bTAgMTJoMTJ2MTJINDZ2MTJIMzZ2LTEyem0wIDEyaDEydjEySDQ2djEySDM2di0xMnoiLz48L2c+PC9nPjwvc3ZnPg==')] opacity-30"></div><div class="container mx-auto px-8 text-center relative z-10"><div class="mb-6"><span class="text-6xl">🛡️</span></div><p class="text-2xl font-bold mb-3"><a href="https://wellstsai.com"target="_blank"rel="noopener noreferrer"class="hover:text-sky-400 transition-colors bg-clip-text text-transparent bg-gradient-to-r from-sky-400 to-teal-400">Generated by wellstsai.com</a><p class="text-sm text-slate-400 mb-6">撰寫日期：2025年10月15日<div class="w-20 h-1 bg-gradient-to-r from-sky-400 to-teal-400 mx-auto mb-6 rounded-full"></div></div></footer><div id="keyword-modal"class="fixed inset-0 z-50 flex items-center justify-center p-4 hidden"aria-hidden="true"role="dialog"aria-modal="true"><div id="modal-backdrop"class="fixed inset-0 bg-black/60 backdrop-blur-md transition-opacity duration-300 ease-in-out opacity-0"></div><div id="modal-panel"class="relative bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl w-full max-w-2xl text-slate-800 transition-all duration-300 ease-in-out opacity-0 scale-95 border-2 border-white/50"><div class="p-8 md:p-10"><div class="flex justify-between items-start pb-6 border-b-2 border-gradient-to-r from-sky-200 to-teal-200"><h3 id="modal-title"class="text-3xl font-black gradient-text flex items-center"><span class="text-4xl mr-3">📖</span> <span></span></h3><button id="modal-close-button"aria-label="關閉"class="text-slate-400 hover:text-slate-900 transition-all hover:rotate-90 duration-300"><svg class="w-8 h-8"fill="none"stroke="currentColor"viewBox="0 0 24 24"><path stroke-linecap="round"stroke-linejoin="round"stroke-width="2.5"d="M6 18L18 6M6 6l12 12"/></svg></button></div><div id="modal-content"class="mt-6 text-slate-700 text-lg leading-relaxed space-y-4"></div></div></div></div><script>(()=>{const e={icp:{title:"ICP 備案",content:"<p>工信部備案，是「非經營性互聯網信息服務備案」的簡稱。任何使用中國內地伺服器對外提供服務的網站，都必須在開通前完成此備案，以獲得一個備案號。</p>"},gongan:{title:"公安備案",content:"<p>指在公安機關聯網備案。根據法規，在內地託管的網站於工信部備案通過並上線後，必須在 30 天內登錄全國公安機關互聯網安全管理服務平台，提交備案申請。</p>"},gfw:{title:"GFW (長城防火牆)",content:"<p>是對「中國國家防火牆」的俗稱，是一套用於監控和過濾中國與境外互聯網通信的系統。它採用多種技術手段，如 IP 封鎖、DNS 污染和深度包檢測（DPI），來審查和限制網絡內容的訪問。</p>"},sni:{title:"SNI (伺服器名稱指示)",content:"<p>Server Name Indication，是 TLS 協議的一項擴展。它允許客戶端在發起 TLS 握手時，就告知伺服器自己想要訪問的具體域名。在 ECH 技術普及前，SNI 是以明文傳輸的，這使得 GFW 等中間設備可以輕易獲取用戶訪問的域名並進行攔截。</p>"},ech:{title:"ECH (加密客戶端問候)",content:"<p>Encrypted Client Hello，是 TLS 協議的升級，旨在加密包括 SNI 在內的整個 ClientHello 訊息，從而防止網路中間人窺探用戶訪問的具體網站，提升隱私和抗審查能力。</p>"},quic:{title:"QUIC 協議",content:"<p>一種由 Google 開發的，基於 UDP 的新型傳輸協議，旨在取代 TCP，成為 HTTP/3 的基礎。它提供了更低的連接延遲和更好的擁塞控制。但其初始握手包同樣可能被 GFW 進行分析和攔截。</p>"},zmap:{title:"ZMap / Masscan",content:"<p>兩者都是高速的網際網路級端口掃描工具。它們能在極短時間內（數分鐘）掃描整個 IPv4 地址空間的單一端口，使得僅靠更改為高位隨機端口來躲避掃描的策略效果有限。</p>"},return444:{title:"Nginx `return 444`",content:"<p>Nginx 的一個非標準狀態碼。當 Nginx 遇到此指令時，它會立即關閉 TCP 連接，而不向客戶端發送任何響應頭或響應體。這種「靜默掛斷」的方式可用於應對惡意掃描，減少伺服器指紋暴露，但掃描方仍能探測到端口是開放的。</p>"},error497:{title:"Nginx 錯誤碼 497",content:"<p>Nginx 內部定義的一個非標準 HTTP 狀態碼，表示客戶端使用純 HTTP 協議向一個配置為 HTTPS 的端口發起了請求。通過捕獲此錯誤並進行 301 重定向，可以優雅地將錯誤的請求引導至正確的 HTTPS 地址。</p>"}},t=document.getElementById("keyword-modal"),n=document.getElementById("modal-backdrop"),o=document.getElementById("modal-panel"),s=document.getElementById("modal-title"),c=document.getElementById("modal-content"),i=()=>{document.body.style.overflow="",n.classList.add("opacity-0"),o.classList.add("opacity-0","scale-95"),o.classList.remove("scale-100");const e=()=>{t.classList.add("hidden"),o.removeEventListener("transitionend",e)};o.addEventListener("transitionend",e)};document.addEventListener("click",r=>{const l=r.target.closest(".keyword");if(l)return(i=>{const r=e[i];if(!r)return;const l=s.querySelector("span");l&&(l.textContent=r.title),c.innerHTML=r.content,document.body.style.overflow="hidden",t.classList.remove("hidden"),requestAnimationFrame(()=>{n.classList.remove("opacity-0"),o.classList.remove("opacity-0","scale-95"),o.classList.add("scale-100")})})(l.dataset.keyword);(r.target===n||r.target.closest("#modal-close-button"))&&i()}),document.addEventListener("keydown",e=>{"Escape"!==e.key||t.classList.contains("hidden")||i()});const r=document.querySelectorAll('#hardening input[type="checkbox"]'),l=document.getElementById("nginx-config-output");function d(){const e=document.getElementById("nginx-default-server").checked,t=document.getElementById("nginx-https-redirect").checked;let n="# 您的主服務配置 (HTTPS)\nserver {\n    listen 443 ssl http2;\n    listen [::]:443 ssl http2;\n    server_name your-domain.com;\n\n    ssl_certificate /path/to/fullchain.pem;\n    ssl_certificate_key /path/to/privkey.pem;\n";document.getElementById("nginx-497-handle").checked&&(n+="\n    # 處理對 HTTPS 端口的 HTTP 請求 (497)\n    error_page 497 =301 https://$host$request_uri;\n"),n+="\n    location / {\n        proxy_pass http://localhost:5000; # 代理到您的後端服務\n    }\n}\n",t&&(n+="\n# 將所有 HTTP 請求重定向到 HTTPS\nserver {\n    listen 80;\n    server_name your-domain.com;\n    return 301 https://$host$request_uri;\n}\n"),e&&(n+="\n# 捕獲所有未匹配的請求並靜默關閉連接\nserver {\n    listen 80 default_server;\n    listen 443 ssl default_server;\n    server_name _;\n    \n    ssl_certificate /path/to/dummy.pem;\n    ssl_certificate_key /path/to/dummy.key;\n\n    return 444;\n}\n"),l.textContent=n}r.forEach(e=>e.addEventListener("change",d)),d()})()</script>