<!doctypehtml><html lang="zh-TW"><meta name="twitter:image"content="https://wellstsai.com/single-page-conclusion/QR%E7%A2%BC%E6%8A%80%E8%A1%93%E8%A7%A3%E6%9E%90.png"><meta name="twitter:description"content="解密 QR 碼的技術原理。文章深入解析其結構，包括定位圖案、校正圖案與校時圖案的功能，並透過互動圖表說明數據容量如何隨版本和編碼模式變化。此外，內容詳述了錯誤校正機制如何運用數學演算法實現自我修復，以及數據掩碼如何優化圖案以提升掃描效率，全面呈現 QR 碼的運作精髓。"><meta name="twitter:title"content="QR碼技術解析"><meta name="twitter:card"content="summary_large_image"><meta property="og:type"content="article"><meta property="og:site_name"content="WellWells"><meta property="og:image"content="https://wellstsai.com/single-page-conclusion/QR%E7%A2%BC%E6%8A%80%E8%A1%93%E8%A7%A3%E6%9E%90.png"><meta property="og:url"content="https://wellstsai.com/single-page-conclusion/QR%E7%A2%BC%E6%8A%80%E8%A1%93%E8%A7%A3%E6%9E%90.html"><meta property="og:description"content="解密 QR 碼的技術原理。文章深入解析其結構，包括定位圖案、校正圖案與校時圖案的功能，並透過互動圖表說明數據容量如何隨版本和編碼模式變化。此外，內容詳述了錯誤校正機制如何運用數學演算法實現自我修復，以及數據掩碼如何優化圖案以提升掃描效率，全面呈現 QR 碼的運作精髓。"><meta property="og:title"content="QR碼技術解析"><meta name="description"content="解密 QR 碼的技術原理。文章深入解析其結構，包括定位圖案、校正圖案與校時圖案的功能，並透過互動圖表說明數據容量如何隨版本和編碼模式變化。此外，內容詳述了錯誤校正機制如何運用數學演算法實現自我修復，以及數據掩碼如何優化圖案以提升掃描效率，全面呈現 QR 碼的運作精髓。"><meta charset="UTF-8"><meta name="viewport"content="width=device-width,initial-scale=1"><title>QR 碼技術解析</title><script src="https://cdn.tailwindcss.com"></script><script src="https://cdn.jsdelivr.net/npm/chart.js@4.5.0/dist/chart.umd.min.js"></script><link rel="preconnect"href="https://fonts.googleapis.com"><link rel="preconnect"href="https://fonts.gstatic.com"crossorigin><link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap"rel="stylesheet"><style>body{font-family:'Noto Sans TC',sans-serif;background-color:#fdfbf5;color:#5d5753}.nav-link{transition:color .3s,border-bottom-color .3s;border-bottom:2px solid transparent}.nav-link.active,.nav-link:hover{color:#c0843e;border-bottom-color:#c0843e}.section-title{color:#8a623f}.card{background-color:#fff;border:1px solid #eae5d9;box-shadow:0 4px 6px -1px rgba(0,0,0,.05),0 2px 4px -2px rgba(0,0,0,.05)}.btn-primary{background-color:#c0843e;color:#fff;transition:background-color .3s}.btn-primary:hover{background-color:#a97136}.btn-secondary{background-color:#f0ebe0;color:#8a623f;border:1px solid #dcd3c3;transition:background-color .3s,color .3s}.btn-secondary.active,.btn-secondary:hover{background-color:#8a623f;color:#fff}.chart-container{position:relative;width:100%;max-width:700px;margin-left:auto;margin-right:auto;height:300px;max-height:400px}@media (min-width:768px){.chart-container{height:400px}}.qr-anatomy-container{position:relative;width:350px;height:350px}.qr-anatomy-zone{position:absolute;border:2px dashed rgba(192,132,62,0);transition:border-color .3s;cursor:pointer}.qr-anatomy-zone:hover{border-color:#c0843e}.mask-grid{display:grid;grid-template-columns:repeat(15,1fr);gap:1px;width:240px;height:240px;background-color:#dcd3c3;border:1px solid #dcd3c3}.mask-cell{width:100%;height:100%}.mask-cell.dark{background-color:#5d5753}.mask-cell.light{background-color:#fff}</style><script async src="https://www.googletagmanager.com/gtag/js?id=G-JKC4KZLT26"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JKC4KZLT26")</script><body class="antialiased"><header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-sm"><nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex items-center justify-between h-16"><div class="flex items-center"><span class="font-bold text-xl text-[#8A623F]">QR 碼深度解析</span></div><div class="hidden md:block"><div class="ml-10 flex items-baseline space-x-4"><a href="#anatomy"class="nav-link px-3 py-2 rounded-md text-sm font-medium">結構解剖</a> <a href="#capacity"class="nav-link px-3 py-2 rounded-md text-sm font-medium">數據容量</a> <a href="#correction"class="nav-link px-3 py-2 rounded-md text-sm font-medium">糾錯機制</a> <a href="#masking"class="nav-link px-3 py-2 rounded-md text-sm font-medium">數據掩碼</a></div></div></div></nav></header><main class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8"><section class="text-center mb-20"><h1 class="text-4xl md:text-5xl font-bold section-title mb-4">解密方寸之間的宇宙</h1><p class="max-w-3xl mx-auto text-lg text-gray-600">從超市條碼到行動支付，QR 碼已無處不在。但您是否曾想過，這一方塊矩陣中蘊藏著何等精妙的設計？本應用將帶您踏上一段互動旅程，層層剖析QR 碼的結構、原理與自我修復的魔力。</section><section id="anatomy"class="mb-24 scroll-mt-20"><h2 class="text-3xl font-bold text-center section-title mb-4">一、結構解剖：QR 碼的藍圖</h2><p class="max-w-3xl mx-auto text-center text-gray-600 mb-12">QR 碼並非隨機的像素點，而是一個高度結構化的系統。每個部分各司其職，共同確保掃描器能快速、準確地讀取資訊。請將滑鼠懸停在下方圖示的不同區域，以了解各組件的功能。<div class="flex flex-col md:flex-row items-center justify-center gap-8 md:gap-12"><div class="qr-anatomy-container flex-shrink-0"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAH0AQMAAADxGE3JAAAABlBMVEX///8AAABVwtN+AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABzElEQVR4nO3awZGDMAyFYbkCSnCptEoJVIB3IEKSDbuzMzlkxf7v4CTgz8c3NkTkzcxtyKo3jm/7hc3mlnFuW/B4PP6DfpUQVecgUsPcsg8Sl8Pj8fjkXme48uWW1yKbgdIvh8fj8U/y8afOFTwej/8PXmRqTboUA3g8Hv8k7/HWPBbZs+khWsGwJh6Px+f1Q3wTeQzeml6dHjwej8/r76PV2bQm40vkXwWPx+P/vp+bx0/STfeP9v5405cow4DH4/F5/ZEI/Jout2mJLvunKzwej3+Cj6AbrD+HbHpjwePx+MR+suqcbkp0CdV5Uk3B4/H4zH5+1aToJvKIPj/sjtMx/iYFj8fjP+lbLLxL6s359/L8EI/H41P6u5r0a4u9/6126o3nXzwej0/u1741J9VanXGlpk0az794PB6f1x/pvsUngbV18WeCgsfj8Wn9XbxO99nd+VlsO/lD8Hg8PoOf25CzRPV+DYXZDdqkeDwen9d3R+dh67jP+aY/Kx6Pxz/At1dW9XH/6F3pufQnHo/HP8afPy3lQvF4PP65XmeI/VfwTLWV8Hg8Prn3+CJ2iC7Wmt3/BwWPx+Oz+yFdf0qXu5M0Ho/HZ/Vv5guDny8BL8YihAAAAABJRU5ErkJggg=="alt="QR Code Anatomy Diagram"class="w-full h-full"><div id="zone-finder"class="qr-anatomy-zone"style="top:0;left:0;width:33.3%;height:33.3%"></div><div class="qr-anatomy-zone"style="top:0;right:0;width:33.3%;height:33.3%"onmouseover='showAnatomyInfo("finder")'onmouseout="hideAnatomyInfo()"></div><div class="qr-anatomy-zone"style="bottom:0;left:0;width:33.3%;height:33.3%"onmouseover='showAnatomyInfo("finder")'onmouseout="hideAnatomyInfo()"></div><div id="zone-alignment"class="qr-anatomy-zone"style="bottom:23.8%;right:23.8%;width:23.8%;height:23.8%"onmouseover='showAnatomyInfo("alignment")'onmouseout="hideAnatomyInfo()"></div><div id="zone-timing"class="qr-anatomy-zone"style="top:0;left:33.3%;width:33.3%;height:9.5%"onmouseover='showAnatomyInfo("timing")'onmouseout="hideAnatomyInfo()"></div><div class="qr-anatomy-zone"style="top:9.5%;left:33.3%;width:9.5%;height:57.2%"onmouseover='showAnatomyInfo("timing")'onmouseout="hideAnatomyInfo()"></div><div id="zone-format"class="qr-anatomy-zone"style="top:38%;left:0;width:42.8%;height:9.5%"onmouseover='showAnatomyInfo("format")'onmouseout="hideAnatomyInfo()"></div><div id="zone-data"class="qr-anatomy-zone"style="top:47.6%;right:0;width:66.7%;height:52.4%"onmouseover='showAnatomyInfo("data")'onmouseout="hideAnatomyInfo()"></div></div><div class="w-full md:w-1/2"><div id="anatomy-info-card"class="card rounded-lg p-6 min-h-[250px] transition-opacity duration-300 opacity-20"><h3 id="anatomy-title"class="text-xl font-bold text-[#8A623F] mb-2">請懸停探索</h3><p id="anatomy-description"class="text-gray-600">將滑鼠移動到左側 QR 碼的不同區域，即可在此查看該結構的詳細說明。</div></div></div></section><section id="capacity"class="mb-24 scroll-mt-20"><h2 class="text-3xl font-bold text-center section-title mb-4">二、數據容量：權衡的藝術</h2><p class="max-w-3xl mx-auto text-center text-gray-600 mb-12">QR 碼的容量並非固定不變。它取決於版本（尺寸大小）、編碼模式和錯誤校正等級（ECC）三者之間的權衡。更高的糾錯能力意味著更強的韌性，但代價是犧牲部分數據儲存空間。請使用下方的互動圖表探索此關係。<div class="card rounded-lg p-6 md:p-8"><div class="flex flex-col sm:flex-row gap-4 justify-center items-center mb-6"><div><label for="qr-version-select"class="block text-sm font-medium text-gray-700 mb-1">QR 碼版本:</label> <select id="qr-version-select"class="rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"><option value="1">版本 1 (21x21)<option value="3"selected="selected">版本 3 (29x29)<option value="5">版本 5 (37x37)<option value="10">版本 10 (57x57)<option value="25">版本 25 (117x117)<option value="40">版本 40 (177x177)</select></div><div><label class="block text-sm font-medium text-gray-700 mb-1">編碼模式:</label><div id="encoding-mode-btns"class="flex space-x-2"><button class="btn-secondary px-3 py-1.5 text-sm rounded-md active"data-mode="numeric">數字</button> <button class="btn-secondary px-3 py-1.5 text-sm rounded-md"data-mode="alphanumeric">字母數字</button> <button class="btn-secondary px-3 py-1.5 text-sm rounded-md"data-mode="byte">位元組</button></div></div></div><div class="chart-container"><canvas id="capacityChart"></canvas></div></div></section><section id="correction"class="mb-24 scroll-mt-20"><h2 class="text-3xl font-bold text-center section-title mb-4">三、糾錯機制：數位韌性的核心</h2><p class="max-w-3xl mx-auto text-center text-gray-600 mb-12">QR 碼最神奇之處在於其自我修復能力。即使部分污損，資訊依然可讀。這背後的功臣是里德-所羅門（Reed-Solomon）編碼，它將數據錯誤轉化為一個可解的代數問題。這一切運算都在一個名為「伽羅瓦域 GF(2⁸)」的特殊數學世界中進行。<div class="grid grid-cols-1 md:grid-cols-2 gap-8"><div class="card rounded-lg p-6"><h3 class="text-xl font-bold text-[#8A623F] mb-4">伽羅瓦域 GF(2⁸) 運算體驗</h3><p class="text-sm text-gray-600 mb-4">在GF(2⁸)這個封閉世界裡，只有256個數字（0-255），且運算規則與我們熟知的不同。加法和減法都等同於位元異或（XOR）運算。試著輸入兩個0-255之間的數字，看看結果如何。<div class="flex items-center gap-2 mb-4"><input id="gf-num1"type="number"min="0"max="255"value="90"class="w-full text-center rounded-md border-gray-300 shadow-sm"> <span id="gf-operator"class="text-2xl font-bold text-[#C0843E]">+</span> <input id="gf-num2"type="number"min="0"max="255"value="123"class="w-full text-center rounded-md border-gray-300 shadow-sm"> <button id="gf-calc-btn"class="btn-primary px-4 py-2 rounded-md font-semibold">=</button></div><div class="text-center bg-gray-50 rounded p-4"><p class="text-sm text-gray-500">運算結果<p id="gf-result"class="text-3xl font-bold text-[#8A623F]">33<p id="gf-binary-result"class="text-sm font-mono text-gray-500 mt-1">00100001</div></div><div class="card rounded-lg p-6"><h3 class="text-xl font-bold text-[#8A623F] mb-4">糾錯碼生成流程（簡化）</h3><p class="text-sm text-gray-600 mb-4">糾錯碼的生成，本質上是一個多項式除法。系統將原始數據視為一個多項式，用它除以一個標準的「生成多項式」，得到的「餘數」就是糾錯碼。最終，原始數據和糾錯碼組合在一起，形成一個可以被生成多項式「整除」的新數據塊。<ol class="space-y-3"><li class="flex items-start"><span class="flex-shrink-0 w-8 h-8 flex items-center justify-center bg-[#F0EBE0] text-[#8A623F] font-bold rounded-full mr-3">1</span> <span>將原始數據（如 "HELLO"）轉換為<strong class="text-[#C0843E]">訊息多項式 M(x)</strong>。</span><li class="flex items-start"><span class="flex-shrink-0 w-8 h-8 flex items-center justify-center bg-[#F0EBE0] text-[#8A623F] font-bold rounded-full mr-3">2</span> <span>用 M(x) 除以一個標準的<strong class="text-[#C0843E]">生成多項式 G(x)</strong>。</span><li class="flex items-start"><span class="flex-shrink-0 w-8 h-8 flex items-center justify-center bg-[#F0EBE0] text-[#8A623F] font-bold rounded-full mr-3">3</span> <span>取除法得到的<strong class="text-[#C0843E]">餘數多項式 P(x)</strong>，這就是糾錯碼。</span><li class="flex items-start"><span class="flex-shrink-0 w-8 h-8 flex items-center justify-center bg-[#F0EBE0] text-[#8A623F] font-bold rounded-full mr-3">4</span> <span>將原始數據和糾錯碼拼接，得到最終的數據流。</span></ol></div></div></section><section id="masking"class="mb-12 scroll-mt-20"><h2 class="text-3xl font-bold text-center section-title mb-4">四、數據掩碼：優化光學識別</h2><p class="max-w-3xl mx-auto text-center text-gray-600 mb-12">直接生成的 QR 碼圖案可能包含大面積單色塊或類似定位標記的圖案，這會干擾掃描器。為此，系統會應用一個「掩碼」來打亂圖案，使其黑白分佈更均勻。系統會測試8種標準掩碼，並根據一套懲罰規則，選擇得分最低（最優）的一個。<div class="flex flex-col lg:flex-row items-center justify-center gap-8 md:gap-12"><div class="flex-shrink-0"><div id="mask-grid-container"class="mask-grid"></div></div><div class="w-full lg:w-1/2"><div class="card rounded-lg p-6"><h3 class="text-xl font-bold text-[#8A623F] mb-4">選擇最優掩碼</h3><p class="text-sm text-gray-600 mb-4">點擊下方按鈕，應用不同的掩碼圖案，觀察圖案變化及對應的懲罰分數。分數越低，圖案對掃描器越友好。<div id="mask-btns"class="grid grid-cols-4 gap-2 mb-4"></div><div class="text-center bg-gray-50 rounded p-4"><p class="text-sm text-gray-500">當前掩碼總懲罰分數<p id="mask-score"class="text-3xl font-bold text-[#8A623F]">0</div></div></div></div></section></main><footer class="bg-white border-t border-gray-200"><div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8 text-center text-sm text-gray-500"><p>QR 碼技術解析 &copy; 2025. 內容基於公開的 QR 碼國際標準。<p class="mt-2">Generated by <a href="https://wellstsai.com"target="_blank"rel="noopener noreferrer"class="text-[#8A623F] hover:text-[#C0843E] transition-colors">wellstsai.com</a></div></footer><script>document.addEventListener("DOMContentLoaded",function(){const t={finder:{title:"定位圖案 (Finder Patterns)",description:"位於左上、右上、左下角的三個「回」字形方塊。它們幫助掃描器快速確定 QR 碼的位置、大小和方向。其獨特的1:1:3:1:1黑白比例是可靠的視覺標記。"},alignment:{title:"校正圖案 (Alignment Patterns)",description:"在較大版本的 QR 碼中出現的小型「回」字形方塊。當 QR 碼因傾斜或印在曲面上而變形時，它們提供額外的錨點來校正圖像扭曲。"},timing:{title:"校時圖案 (Timing Patterns)",description:"連接三個定位圖案的黑白相間線條。它們像一把尺，幫助掃描器確定網格中每個小方塊（模組）的座標，確保數據被準確採樣。"},format:{title:"格式資訊 (Format Information)",description:"儲存了 QR 碼的元數據，包括所使用的錯誤校正等級和數據掩碼圖案。這段資訊自身也帶有糾錯碼，以確保其可靠性。"},data:{title:"數據與糾錯碼區 (Data & ECC)",description:"網格中剩餘的所有模組，用於儲存實際的用戶數據和里德-所羅門錯誤校正碼。它們按照特定的Z形路徑被填充。"}},e=document.getElementById("anatomy-info-card"),n=document.getElementById("anatomy-title"),o=document.getElementById("anatomy-description");window.showAnatomyInfo=function(a){const c=t[a];c&&(n.textContent=c.title,o.textContent=c.description,e.classList.remove("opacity-20"))},window.hideAnatomyInfo=function(){n.textContent="請懸停探索",o.textContent="將滑鼠移動到左側 QR 碼的不同區域，即可在此查看該結構的詳細說明。",e.classList.add("opacity-20")},document.getElementById("zone-finder").onmouseover=()=>showAnatomyInfo("finder"),document.getElementById("zone-finder").onmouseout=hideAnatomyInfo;const a={numeric:{1:41,3:117,5:255,10:707,25:2869,40:7089},alphanumeric:{1:25,3:77,5:154,10:395,25:1531,40:4296},byte:{1:17,3:53,5:106,10:271,25:1050,40:2953}},c=1,r=.78,d=.62,i=.45;let s;const l=document.getElementById("capacityChart").getContext("2d");function m(){const t=document.getElementById("qr-version-select").value,e=document.querySelector("#encoding-mode-btns .active").dataset.mode,n=a[e][t],o={labels:["等級 L (7%)","等級 M (15%)","等級 Q (25%)","等級 H (30%)"],datasets:[{label:"可儲存字符數",data:[Math.round(n*c),Math.round(n*r),Math.round(n*d),Math.round(n*i)],backgroundColor:["#AED581","#FFD54F","#FFB74D","#E57373"],borderColor:["#8BC34A","#FFC107","#FFA726","#F44336"],borderWidth:1}]};s?(s.data=o,s.update()):s=new Chart(l,{type:"bar",data:o,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:`版本 ${t} (${e} 模式) 的數據容量`,font:{size:16,family:"'Noto Sans TC', sans-serif"},color:"#5D5753"},tooltip:{callbacks:{label:function(t){return` ${t.raw.toLocaleString()} 個字符`}}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"字符容量",color:"#5D5753"}},x:{title:{display:!0,text:"錯誤校正等級 (可恢復數據比例)",color:"#5D5753"}}}}}),s.options.plugins.title.text=`版本 ${t} (${e} 模式) 的數據容量`,s.update()}document.getElementById("qr-version-select").addEventListener("change",m),document.querySelectorAll("#encoding-mode-btns button").forEach(t=>{t.addEventListener("click",t=>{document.querySelector("#encoding-mode-btns .active").classList.remove("active"),t.target.classList.add("active"),m()})}),m();function u(){const t=parseInt(document.getElementById("gf-num1").value)||0,e=parseInt(document.getElementById("gf-num2").value)||0,n=t^e;document.getElementById("gf-result").textContent=n,document.getElementById("gf-binary-result").textContent=n.toString(2).padStart(8,"0")}document.getElementById("gf-calc-btn").addEventListener("click",u),document.getElementById("gf-num1").addEventListener("input",u),document.getElementById("gf-num2").addEventListener("input",u),u();const g=document.getElementById("mask-grid-container"),f=document.getElementById("mask-btns"),y=document.getElementById("mask-score"),p=15;let b=[];for(let t=0;t<p;t++){b[t]=[];for(let e=0;e<p;e++)b[t][e]=Math.random()>.5?1:0}function E(t,e,n,o){let a=0;switch(t){case 0:(e+n)%2==0&&(a=1);break;case 1:e%2==0&&(a=1);break;case 2:n%3==0&&(a=1);break;case 3:(e+n)%3==0&&(a=1);break;case 4:(Math.floor(e/2)+Math.floor(n/3))%2==0&&(a=1);break;case 5:e*n%2+e*n%3==0&&(a=1);break;case 6:(e*n%2+e*n%3)%2==0&&(a=1);break;case 7:(e*n%3+(e+n)%2)%2==0&&(a=1)}return o^a}function h(t){g.innerHTML="";let e=[];for(let n=0;n<p;n++){e[n]=[];for(let o=0;o<p;o++){const a=document.createElement("div");a.className="mask-cell";const c=E(t,n,o,b[n][o]);e[n][o]=c,a.classList.add(1===c?"dark":"light"),g.appendChild(a)}}const n=function(t){let e=0,n=0;for(let o=0;o<p;o++)for(let a=0;a<p;a++)1===t[o][a]&&n++,o<14&&a<14&&t[o][a]===t[o+1][a]&&t[o][a]===t[o][a+1]&&t[o][a]===t[o+1][a+1]&&(e+=3);for(let n=0;n<p;n++){let o=1,a=1;for(let c=1;c<p;c++)t[n][c]===t[n][c-1]?o++:(o>=5&&(e+=o-5+3),o=1),t[c][n]===t[c-1][n]?a++:(a>=5&&(e+=a-5+3),a=1);o>=5&&(e+=o-5+3),a>=5&&(e+=a-5+3)}const o=n/225*100,a=5*Math.floor(o/5),c=5*Math.ceil(o/5);return e+=Math.min(Math.abs(a-50),Math.abs(c-50))/5*10,Math.round(e)}(e);y.textContent=n,document.querySelectorAll("#mask-btns button").forEach((e,n)=>{e.classList.toggle("active",n===t)})}for(let t=0;t<8;t++){const e=document.createElement("button");e.className="btn-secondary px-3 py-1.5 text-sm rounded-md",e.textContent=`掩碼 ${t}`,e.onclick=()=>h(t),f.appendChild(e)}h(0);const I=document.querySelectorAll("nav a"),v=document.querySelectorAll("main section"),C=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&I.forEach(e=>{e.classList.toggle("active",e.getAttribute("href").substring(1)===t.target.id)})})},{rootMargin:"-50% 0px -50% 0px"});v.forEach(t=>C.observe(t))})</script>