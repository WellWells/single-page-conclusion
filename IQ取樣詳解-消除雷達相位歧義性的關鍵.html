<!doctypehtml><html lang="zh-Hant"><meta name="twitter:image"content="https://wellstsai.com/single-page-conclusion/IQ%E5%8F%96%E6%A8%A3%E8%A9%B3%E8%A7%A3-%E6%B6%88%E9%99%A4%E9%9B%B7%E9%81%94%E7%9B%B8%E4%BD%8D%E6%AD%A7%E7%BE%A9%E6%80%A7%E7%9A%84%E9%97%9C%E9%8D%B5.png"><meta name="twitter:description"content="傳統一維取樣無法取得雷達相位，產生歧義性。IQ取樣技術透過同時擷取同相(I)與正交(Q)分量，將訊號轉為二維向量，從而消除相位歧義，精確提取都卜勒資訊。"><meta name="twitter:title"content="IQ取樣詳解-消除雷達相位歧義性的關鍵"><meta name="twitter:card"content="summary_large_image"><meta property="og:type"content="article"><meta property="og:site_name"content="WellWells"><meta property="og:image"content="https://wellstsai.com/single-page-conclusion/IQ%E5%8F%96%E6%A8%A3%E8%A9%B3%E8%A7%A3-%E6%B6%88%E9%99%A4%E9%9B%B7%E9%81%94%E7%9B%B8%E4%BD%8D%E6%AD%A7%E7%BE%A9%E6%80%A7%E7%9A%84%E9%97%9C%E9%8D%B5.png"><meta property="og:url"content="https://wellstsai.com/single-page-conclusion/IQ%E5%8F%96%E6%A8%A3%E8%A9%B3%E8%A7%A3-%E6%B6%88%E9%99%A4%E9%9B%B7%E9%81%94%E7%9B%B8%E4%BD%8D%E6%AD%A7%E7%BE%A9%E6%80%A7%E7%9A%84%E9%97%9C%E9%8D%B5.html"><meta property="og:description"content="傳統一維取樣無法取得雷達相位，產生歧義性。IQ取樣技術透過同時擷取同相(I)與正交(Q)分量，將訊號轉為二維向量，從而消除相位歧義，精確提取都卜勒資訊。"><meta property="og:title"content="IQ取樣詳解-消除雷達相位歧義性的關鍵"><meta name="description"content="傳統一維取樣無法取得雷達相位，產生歧義性。IQ取樣技術透過同時擷取同相(I)與正交(Q)分量，將訊號轉為二維向量，從而消除相位歧義，精確提取都卜勒資訊。"><meta charset="UTF-8"><meta name="viewport"content="width=device-width,initial-scale=1"><title>解鎖雷達相位之謎：IQ 取樣技術詳解</title><script src="https://cdn.tailwindcss.com"></script><link rel="preconnect"href="https://fonts.googleapis.com"><link rel="preconnect"href="https://fonts.gstatic.com"crossorigin><link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap"rel="stylesheet"><link rel="stylesheet"href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css"xintegrity="sha384-wcIxkf4k558WgNEVsh2HzL7J/EBY9Wa4b/L9C1B/sPDn2G/1W8QhM0h1VuvvVmHw"crossorigin="anonymous"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js"xintegrity="sha384-hIoBPJpTadx5Gvj2GzXmKAUA/GPRXVYn/Y/Ogq+c/2u/qg8A/3f/B+NBeT7Ax/Nl"crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js"xintegrity="sha384-43gviWU0YVjaDtb/Gf1ESKPoD7L6DktgYFcVbB/A/8pGFG/B6a/SnW23N_sB1M+e"crossorigin="anonymous"></script><style>body{font-family:'Noto Sans TC',sans-serif;background-color:#0f172a;color:#e2e8f0}.gradient-text{background-image:linear-gradient(to bottom,#38bdf8,#c084fc);-webkit-background-clip:text;background-clip:text;color:transparent}.keyword{color:#67e8f9;border-bottom:2px dotted #0e7490;cursor:pointer;font-weight:500}#tooltip-container{position:absolute;display:none;padding:1rem;background-color:rgba(30,41,59,.95);border:1px solid #38bdf8;border-radius:.5rem;box-shadow:0 10px 15px -3px rgba(0,0,0,.3),0 4px 6px -2px rgba(0,0,0,.15);z-index:50;pointer-events:none;backdrop-filter:blur(4px);max-width:90vw}#tooltip-container h3{font-size:1.125rem;font-weight:700;background-image:linear-gradient(to bottom,#e0f2fe,#a5f3fc);-webkit-background-clip:text;background-clip:text;color:transparent;margin-bottom:.5rem}#tooltip-container p{font-size:.875rem;color:#cbd5e1;margin-bottom:.5rem}#tooltip-container div{font-size:.875rem;color:#94a3b8;border-top:1px solid #334155;padding-top:.5rem}#tooltip-container .katex-display{font-size:1em;margin:.5em 0}#tooltip-container .katex{font-size:1em}.summary-card{background-color:rgba(30,41,59,.7);border:1px solid #334155;backdrop-filter:blur(8px)}.content-card{background-color:rgba(30,41,59,.5);border:1px solid #334155;transition:all .3s ease}.content-card:hover{border-color:#0ea5e9;box-shadow:0 0 20px rgba(14,165,233,.2)}th{background-color:#1e293b;color:#94a3b8;border-bottom:2px solid #334155}td{background-color:#334155;border-bottom:1px solid #475569}tr:hover td{background-color:#475569}footer{background-color:#020617;border-top:1px solid #1e293b}pre[class*=language-]{background-color:#1e293b;color:#e2e8f0;padding:1rem;border-radius:.5rem;overflow-x:auto;font-family:'Courier New',Courier,monospace}main ol{list-style-type:decimal;list-style-position:inside;margin-left:1rem}main ol li{margin-bottom:.5rem;color:#cbd5e1}main ol li::marker{font-weight:700;color:#67e8f9}</style><script async src="https://www.googletagmanager.com/gtag/js?id=G-JKC4KZLT26"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JKC4KZLT26")</script><body class="antialiased min-h-screen relative pb-20"><header class="py-16 md:py-24 text-center overflow-hidden relative"><div class="absolute inset-0 -z-10 overflow-hidden"><div class="absolute top-0 left-1/2 -translate-x-1/2 w-[80vw] h-[60vh] bg-gradient-to-br from-sky-900/50 to-purple-900/30 rounded-full blur-3xl opacity-50"></div></div><div class="container mx-auto px-4"><h1 class="text-4xl md:text-6xl font-bold mb-4"><span class="gradient-text">解碼訊號</span>：<span class="gradient-text">為什麼</span> IQ <span class="gradient-text">取樣是關鍵</span> 📡</h1><p class="text-lg md:text-xl text-slate-400 max-w-3xl mx-auto">從一維單調到二維複數，解鎖雷達訊號中隱藏的相位秘密，洞悉目標的微小動態。</div></header><main class="container mx-auto px-4 py-12 space-y-16"><section class="summary-card max-w-4xl mx-auto p-6 md:p-8 rounded-xl shadow-2xl"><h2 class="text-2xl font-bold mb-4 text-center"><span class="gradient-text">核心摘要</span> 🎯</h2><p class="text-base md:text-lg text-slate-300 text-center leading-relaxed">雷達訊號的<strong>相位 (Phase)</strong> 蘊含著關於目標速度的關鍵資訊（即 <span class="keyword"data-keyword="doppler">都卜勒效應</span> ）。然而，傳統的一維取樣無法明確解析相位，會產生「歧義性」。<strong>IQ 取樣</strong> 技術通過同時擷取訊號的 <span class="keyword"data-keyword="in-phase">同相 (I)</span> 與 <span class="keyword"data-keyword="quadrature">正交 (Q)</span> 兩個分量，將訊號從一維純量提升至二維向量，從而<strong>完全消除了相位的歧義性</strong> 。這使我們能精確提取相位 $\phi(t)$，進而計算目標速度與偵測微小運動。</section><section><h2 class="text-3xl font-bold mb-6 text-center">😥 <span class="gradient-text">一維取樣的困境</span>：<span class="gradient-text">遺失的資訊</span></h2><div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center"><div class="text-slate-300 leading-relaxed space-y-4"><p>當我們對一個標準的 Cosine 類比訊號進行數位取樣時，我們在每個時間點只會得到一個<strong>振幅</strong>值。問題在於，<strong>單一的振幅值並不足以告訴我們在該波形週期的確切位置</strong>。<p>舉例來說，如果我們取樣得到一個值為 <strong>0.5</strong>，這個 0.5 可能對應到多個不同的相位輸入。<ul class="list-disc list-inside space-y-2 pl-4 text-slate-400"><li>對於 <strong>Cosine</strong> 波，它可能是在 $\pi/3$ 或 $5\pi/3$。<li>對於 <strong>Sine</strong> 波，它可能是在 $\pi/6$ 或 $5\pi/6$。</ul><p>這種「一個輸出對應多個可能輸入」的特性，就是<strong>歧義性 (Ambiguity)</strong>。這導致我們無法確定訊號的真實相位，進而失去了速度、方向與微小運動的寶貴資訊。</div><div class="content-card p-6 rounded-lg shadow-lg"><h3 class="text-xl font-semibold text-sky-300 mb-4 text-center">單點振幅的歧義性</h3><div class="space-y-4"><div class="bg-slate-900 p-4 rounded-md shadow-inner"><p class="text-lg text-center"><span class="font-mono text-cyan-300">cos($\theta$) = 0.5</span><p class="text-2xl text-center text-red-400 font-bold mt-2">👇<p class="text-lg text-center"><span class="font-mono text-slate-400">$\theta = \ ?$</span> <span class="text-red-400">(可能是 $\pi/3$ 或 $5\pi/3$)</span></div><div class="bg-slate-900 p-4 rounded-md shadow-inner"><p class="text-lg text-center"><span class="font-mono text-cyan-300">sin($\theta$) = 0.5</span><p class="text-2xl text-center text-red-400 font-bold mt-2">👇<p class="text-lg text-center"><span class="font-mono text-slate-400">$\theta = \ ?$</span> <span class="text-red-400">(可能是 $\pi/6$ 或 $5\pi/6$)</span></div></div></div></div></section><section><h2 class="text-3xl font-bold mb-6 text-center">💡 <span class="gradient-text">IQ 解方</span>：<span class="gradient-text">升級至二維座標</span></h2><div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center"><div class="content-card p-6 rounded-lg shadow-lg md:order-last"><h3 class="text-xl font-semibold text-sky-300 mb-4 text-center">二維座標的唯一性</h3><div class="bg-slate-900 p-4 rounded-md shadow-inner"><p class="text-lg text-left"><span class="font-mono text-cyan-300">I (cos($\theta$)) = 0.5</span><p class="text-lg text-left mt-2"><span class="font-mono text-cyan-300">Q (sin($\theta$)) = $\sqrt{3}/2 \approx 0.866$</span><p class="text-2xl text-center text-green-400 font-bold my-3">👇<p class="text-xl text-center font-bold"><span class="font-mono text-slate-300">唯一解 $\theta = $</span> <span class="text-green-400">$\pi/3$</span></div><p class="text-center text-slate-400 mt-4">同時測量 I 和 Q，就像有了一個 GPS 座標，能精確鎖定相位。</div><div class="text-slate-300 leading-relaxed space-y-4 md:order-first"><p>解決方案非常巧妙：既然 Cosine 和 Sine 的歧義點不同，<strong>那如果我們同時測量兩者呢？</strong><p>這就是 <strong>IQ 取樣</strong>的核心思想。我們建立一個新的二維座標系統：<ul class="list-disc list-inside space-y-2 pl-4 text-slate-400"><li><strong>I (In-phase) 分量:</strong> 訊號的 Cosine 部分，作為 X 軸。<li><strong>Q (Quadrature) 分量:</strong> 訊號的 Sine 部分，作為 Y 軸。</ul><p>現在，對於任何一個輸入相位 $\theta$，我們都會得到一個唯一的 $(I, Q)$ 座標對。例如，當 $\theta = \pi/3$ 時：<p>$$ I = \cos(\pi/3) = 0.5 $$ $$ Q = \sin(\pi/3) = \sqrt{3}/2 \approx 0.866 $$<p>這個 $(0.5, \sqrt{3}/2)$ 座標是<strong>唯一</strong>的。歧義性消失了！我們不再是擷取單一振幅，而是擷取一個指向訊號在週期中確切位置的<strong>二維向量</strong>。</div></div></section><section><h2 class="text-3xl font-bold mb-6 text-center">🔬 <span class="gradient-text">分離相位</span>：<span class="gradient-text">數學原理</span></h2><p class="text-lg text-slate-400 max-w-3xl mx-auto text-center mb-8">我們的目標是從接收到的高頻訊號 $A_r \cos(2\pi f_c t + \phi(t))$ 中，分離出我們感興趣的低頻相位項 $\phi(t)$。<div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start"><div class="content-card p-6 rounded-lg shadow-lg"><h3 class="text-xl font-semibold text-sky-300 mb-4">方法一：三角恆等式</h3><p class="text-slate-300 mb-4">我們使用 <span class="keyword"data-keyword="mixer">混波器</span> 將接收的訊號 (A) 與雷達本地產生的訊號 (B) 相乘：<div class="bg-slate-900 p-4 rounded-md shadow-inner text-slate-300 space-y-2">$$ \cos(A)\cos(B) = \frac{1}{2}[\cos(A-B) + \cos(A+B)] $$<p class="text-sm text-slate-400">(用於 I 通道)</p>$$ \cos(A)(-\sin(B)) = \frac{1}{2}[\sin(A-B) - \sin(A+B)] $$<p class="text-sm text-slate-400">(用於 Q 通道，使用 $-\sin$ 可得正 $\sin$ 輸出)</div></div><div class="content-card p-6 rounded-lg shadow-lg"><h3 class="text-xl font-semibold text-sky-300 mb-4">方法二：複數基頻 (Complex Baseband)</h3><p class="text-slate-300 mb-4">此為訊號處理的更通用觀點。我們將接收訊號 $r(t)$ 視為複數訊號的實部：<p class="text-slate-300 mb-2">$ r(t) = \Re\{A_r e^{j(2\pi f_c t + \phi(t))}\} $<p class="text-slate-300 mb-4">將 $r(t)$ 乘上本地振盪器 $e^{-j2\pi f_c t}$ (包含 $\cos$ 和 $-j\sin$ 兩路)，再通過 <span class="keyword"data-keyword="lpf">低通濾波器 (LPF)</span> 去除 $2f_c$ 的高頻項，即可得到：<div class="bg-slate-900 p-4 rounded-md shadow-inner text-slate-300 space-y-2 text-center">$$ s_{bb}(t) = \frac{A_r}{2} e^{j\phi(t)} $$ $$ = \frac{A_r}{2} \cos(\phi(t)) + j \frac{A_r}{2} \sin(\phi(t)) $$<p class="text-sm text-slate-400 mt-2">實部 (I) + j * 虛部 (Q)</div></div><div class="content-card p-6 rounded-lg shadow-lg md:col-span-2"><h3 class="text-xl font-semibold text-sky-300 mb-4 text-center">下轉換 (Down-conversion) 結果</h3><p class="text-slate-300 mb-4 text-center">無論使用哪種方法，我們都定義 $A = 2\pi f_c t + \phi(t)$ 和 $B = 2\pi f_c t$。相乘後會產生兩項：<div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="bg-green-900/50 border border-green-500 p-4 rounded-md shadow-inner"><h4 class="font-bold text-green-300">差頻 (A-B) - 我們要的！</h4>$$ A-B = (2\pi f_c t + \phi(t)) - (2\pi f_c t) = \phi(t) $$<p class="text-green-400 text-sm">這是一個低頻訊號，只包含相位資訊。</div><div class="bg-red-900/50 border border-red-500 p-4 rounded-md shadow-inner"><h4 class="font-bold text-red-300">和頻 (A+B) - 要濾掉的！</h4>$$ A+B = (2\pi f_c t + \phi(t)) + (2\pi f_c t) = 4\pi f_c t + \phi(t) $$<p class="text-red-400 text-sm">這是一個超高頻訊號（接近 $2f_c$）。</div></div></div></div></section><section><h2 class="text-3xl font-bold mb-6 text-center">🏁 <span class="gradient-text">濾波與基頻訊號</span></h2><div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center"><div class="text-slate-300 leading-relaxed space-y-4"><p>「差頻」和「和頻」訊號的頻率差異極為巨大。例如，一個S波段雷達的 $f_c$ 可能高達 <strong>3 GHz</strong>，而目標運動產生的都卜勒頻率（包含在 $\phi(t)$ 中）可能只有 <strong>200 Hz</strong>。<p>這使得分離它們變得非常簡單：只需使用一個 <span class="keyword"data-keyword="lpf">低通濾波器 (LPF)</span> ，就能輕鬆濾除 <strong>6 GHz</strong> 左右的和頻訊號，只保留 <strong>200 Hz</strong> 的差頻訊號。<p>經過 I、Q 兩路各自的混波與濾波後，我們就得到了乾淨的基頻訊號 $s_{bb}(t)$：<p class="text-lg font-semibold text-center py-2 px-4 rounded-md bg-slate-800 text-cyan-300">I 通道: $I(t) = K \cos(\phi(t))$<p class="text-lg font-semibold text-center py-2 px-4 rounded-md bg-slate-800 text-cyan-300 mt-2">Q 通道: $Q(t) = K \sin(\phi(t))$<p>(其中 $K$ 是包含振幅 $A_r$ 和混波器增益 $1/2$ 的常數)</div><div class="content-card p-6 rounded-lg shadow-lg flex items-center justify-center"><div class="text-center"><p class="text-xl text-slate-300 font-mono">訊號混合<p class="text-sm text-slate-400">($\cos(A-B) + \cos(A+B)$)<p class="text-3xl my-4">👇<div class="flex justify-center items-center space-x-4"><span class="text-lg text-green-400 font-bold">低頻 $\phi(t)$</span> <span class="text-lg text-red-400 font-bold">高頻 $2f_c$</span></div><p class="text-3xl my-4">👇 <span class="text-base text-blue-400 ml-2">[應用低通濾波器]</span><div class="p-4 bg-green-900/50 border border-green-500 rounded-md"><span class="text-xl text-green-300 font-bold">僅剩 $\phi(t)$</span></div></div></div></div></section><section><h2 class="text-3xl font-bold mb-6 text-center">⚙️ <span class="gradient-text">從相位到速度</span>：<span class="gradient-text">嚴謹流程</span></h2><div class="grid grid-cols-1 lg:grid-cols-2 gap-8"><div class="content-card p-6 rounded-lg shadow-lg"><h3 class="text-xl font-semibold text-sky-300 mb-4">步驟一：相位提取 (ArcTan)</h3><p class="text-slate-300 leading-relaxed mb-4">有了 $I(t)$ 和 $Q(t)$，我們使用 $\mathrm{atan2}$ 函數來提取瞬時相位 $\phi(t)$：<div class="bg-slate-900 p-4 rounded-md shadow-inner text-center text-xl text-cyan-300 font-mono mb-4">$$ \phi(t) = \mathrm{atan2}(Q(t), I(t)) $$</div><p class="text-slate-300 leading-relaxed">$\mathrm{atan2}$ 會將相位限制在 $(-\pi, \pi]$ 範圍內。</div><div class="content-card p-6 rounded-lg shadow-lg"><h3 class="text-xl font-semibold text-sky-300 mb-4">步驟二：相位解包 (Unwrap)</h3><p class="text-slate-300 leading-relaxed mb-4">當真實相位超過 $\pi$ 或 $-\pi$ 時，$\mathrm{atan2}$ 的輸出會「跳變」。 <span class="keyword"data-keyword="phase-unwrap">相位解包 (Phase Unwrap)</span> 演算法會偵測這些 $2\pi$ 的跳變並將其校正回來，還原出連續的相位 $\tilde{\phi}(t)$。<p class="text-slate-300 leading-relaxed"><strong><span class="text-red-400">⚠️ 關鍵：</span> 若無此步驟，後續的速度估測將充滿錯誤的跳變。</strong></div><div class="content-card p-6 rounded-lg shadow-lg lg:col-span-2"><h3 class="text-xl font-semibold text-sky-300 mb-4">步驟三：映射至速度 (Velocity Mapping)</h3><p class="text-slate-300 leading-relaxed mb-4">目標速度 $v$ 與相位變化率（角頻率）$\frac{d\phi}{dt}$ 成正比。 <span class="keyword"data-keyword="doppler">都卜勒頻率</span> $f_d = \frac{2v}{\lambda}$，而 $\frac{d\phi}{dt} = 2\pi f_d$。<p class="text-slate-300 leading-relaxed mb-4">合併可得速度 $v$ 與連續相位 $\tilde{\phi}(t)$ 的關係：<div class="bg-slate-900 p-4 rounded-md shadow-inner text-center text-xl text-cyan-300 font-mono mb-4">$$ v(t) = \frac{\lambda}{4\pi} \frac{d\tilde{\phi}(t)}{dt} $$</div><p class="text-slate-300 leading-relaxed mb-2">在數位系統中，我們用差分估測微分，並可透過濾波 (如滑動平均或卡爾曼濾波) 抑制雜訊：<pre class="language-python"><code># 虛擬碼 (Python-like)
phi = atan2(Q, I)
phi_unwrap = unwrap(phi)
# 使用 gradient 估測 d(phi)/dt，Ts 為取樣週期
dphi_dt = gradient(phi_unwrap, Ts)
# 抗雜訊：或用最小平方法(LMS)估測斜率
v = (LAMBDA / (4 * PI)) * dphi_dt</code></pre></div></div></section><section><h2 class="text-3xl font-bold mb-6 text-center">🔧 <span class="gradient-text">實務考量與挑戰</span></h2><div class="grid grid-cols-1 lg:grid-cols-2 gap-8"><div class="content-card p-6 rounded-lg shadow-lg"><h3 class="text-xl font-semibold text-sky-300 mb-4">IQ 不平衡 & DC 偏移</h3><p class="text-slate-300 leading-relaxed mb-4">理想中 I 和 Q 應是完美正交且振幅相等。 <strong>現實中：</strong><ul class="list-disc list-inside space-y-2 pl-4 text-slate-400 mb-4"><li><span class="keyword"data-keyword="iq-imbalance">IQ 不平衡 (Imbalance)</span> ：類比路徑的增益 ($g$) 和相位 ($\epsilon$) 誤差，會產生「影像訊號」。<li><span class="keyword"data-keyword="lo-leakage">DC 偏移 (Offset)</span> ： <span class="keyword"data-keyword="mixer">混波器</span> 的 <span class="keyword"data-keyword="lo-leakage">本振洩漏</span> 會在零頻（DC）產生一個強烈尖峰 ($d_I, d_Q$)。</ul><p class="text-slate-300 leading-relaxed mb-4">測量到的訊號 $s_{\text{meas}}$ 可建模為：<div class="bg-slate-900 p-4 rounded-md shadow-inner text-center text-sm text-cyan-300 font-mono mb-4">$$ s_{\text{meas}} = \alpha \cdot s_{\text{true}} + \beta \cdot s_{\text{true}}^\ast + d $$</div><p class="text-slate-300 leading-relaxed">($\alpha, \beta$ 為不平衡係數, $d$ 為 DC 偏移)。這些非理想因素必須透過「校正演算法」來補償，否則會嚴重影響偵測效能。</div><div class="content-card p-6 rounded-lg shadow-lg"><h3 class="text-xl font-semibold text-sky-300 mb-4">雜波、雜訊與動態範圍</h3><ul class="list-disc list-inside space-y-4 pl-4 text-slate-300"><li><strong><span class="keyword"data-keyword="clutter">地雜波 (Clutter)</span> 抑制 </strong>：靜止物體（地面、建築）會反射強大訊號，集中在零速（DC）附近。必須使用 MTI（移動目標指示）或高通濾波器將其去除，才能看見移動目標。<li><strong>相位雜訊 (Phase Noise)</strong> ：振盪器（時鐘）的抖動 (Jitter) 或溫飄會直接汙染 $\phi(t)$，限制了可偵測的最小速度與 <span class="keyword"data-keyword="micro-doppler">微都卜勒</span> 的靈敏度。<li><strong>ADC 動態範圍</strong> ：ADC 的位元數決定了系統能同時處理「最強雜波」和「最弱目標」的能力。</ul></div></div></section><section><h2 class="text-3xl font-bold mb-6 text-center">🗺️ <span class="gradient-text">應用</span>：FMCW <span class="gradient-text">Range-Doppler</span> <span class="gradient-text">圖</span></h2><div class="content-card p-6 md:p-8 rounded-lg shadow-lg max-w-4xl mx-auto"><p class="text-slate-300 leading-relaxed mb-4">IQ 取樣是 <span class="keyword"data-keyword="fmcw">FMCW（調頻連續波）</span> 雷達的核心。在此體制下，相位資訊被用於估測「速度」和「距離」。<div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="bg-slate-800 p-4 rounded-md shadow-inner"><h4 class="text-lg font-semibold text-sky-300 mb-2">1. 快時間 FFT (距離)</h4><p class="text-slate-400">在<strong>單一</strong> chirp 期間，IQ 訊號的「頻率」與目標「距離」成正比。對這段訊號（快時間）做 FFT，即可得到目標的距離分布（Range Profile）。</div><div class="bg-slate-800 p-4 rounded-md shadow-inner"><h4 class="text-lg font-semibold text-sky-300 mb-2">2. 慢時間 FFT (速度)</h4><p class="text-slate-400">觀察<strong>多個</strong> chirp（慢時間），在同一個「距離單元」上，IQ 訊號的「相位」變化即反映了 <span class="keyword"data-keyword="doppler">都卜勒效應</span> 。對這串相位序列做 FFT，即可得到該距離上目標的速度。</div></div><div class="mt-6 text-center"><p class="text-xl text-slate-300 font-semibold">[快時間 FFT] + [慢時間 FFT] = <span class="keyword"data-keyword="range-doppler"class="text-cyan-300 font-bold">距離-都卜勒 (Range-Doppler) 2D 圖</span><p class="text-slate-400 mt-2">這張圖顯示了在不同距離上，各有哪些速度的目標。後續可使用 <span class="keyword"data-keyword="cfar">CFAR</span> 演算法在此圖上進行目標偵測。 <span class="keyword"data-keyword="micro-doppler">微都卜勒</span> 效應也會在此圖的慢時間維度上呈現特徵。</div></div></section><section class="summary-card max-w-4xl mx-auto p-6 md:p-8 rounded-xl shadow-2xl"><h2 class="text-2xl font-bold mb-4 text-center"><span class="gradient-text">總結：系統級處理流程</span> 🚀</h2><p class="text-base md:text-lg text-slate-300 text-center leading-relaxed mb-8">從類比射頻到數位速度估測，一個完整的 IQ 處理流程如下：<ol class="space-y-3 text-slate-300 text-left max-w-2xl mx-auto"><li><strong>射頻下變頻：</strong> 類比訊號與本地振盪器 <span class="keyword"data-keyword="mixer">混波</span> ，產生包含 I 和 Q 的零中頻（Zero-IF）訊號。<li><strong>濾波與取樣：</strong> <span class="keyword"data-keyword="lpf">低通濾波器</span> (LPF) 移除和頻，ADC 同步取樣 I/Q 兩路訊號。<li><strong>數位校正：</strong> 補償 <span class="keyword"data-keyword="lo-leakage">DC 偏移</span> （如高通濾波或靜態扣除）與 <span class="keyword"data-keyword="iq-imbalance">IQ 不平衡</span> 。<li><strong>複數基頻：</strong> 將 I, Q 合併為複數訊號 $s(t) = I(t) + jQ(t)$。<li><strong>相位提取：</strong> 計算 $\phi(t) = \mathrm{atan2}(Q, I)$，並執行 <span class="keyword"data-keyword="phase-unwrap">相位解包</span> 得到 $\tilde{\phi}(t)$。<li><strong>速度估測 (CW)：</strong> 估計相位變化率 $d\tilde{\phi}/dt$，並映射至速度 $v = \frac{\lambda}{4\pi}\frac{d\tilde{\phi}}{dt}$。<li><strong>速度估測 (FMCW)：</strong> 或執行慢時間 FFT 得到 <span class="keyword"data-keyword="range-doppler">Range-Doppler</span> 頻譜。<li><strong>偵測與追蹤：</strong> 在速度或 R-D 頻譜上使用 <span class="keyword"data-keyword="cfar">CFAR</span> 等演算法偵測目標，並進行後續追蹤。</ol></section></main><div id="tooltip-container"><h3 id="tooltip-title"></h3><p id="tooltip-desc"><div id="tooltip-details"></div></div><footer class="fixed bottom-0 left-0 w-full p-4 text-center z-10"><p class="text-sm text-slate-500"><a href="https://wellstsai.com"target="_blank"rel="noopener noreferrer"class="hover:text-sky-400 transition-colors">Generated by wellstsai.com </a><span class="mx-2">|</span> 撰寫日期：2025年11月04日</footer><script>document.addEventListener("DOMContentLoaded",function(){try{"function"==typeof renderMathInElement&&renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})}catch(e){console.error("KaTeX auto-render failed:",e)}const e=document.getElementById("tooltip-container");if(!e)return;const t=document.getElementById("tooltip-title"),i=document.getElementById("tooltip-desc"),r=document.getElementById("tooltip-details"),n=document.querySelectorAll(".keyword"),l=15;let d=window.innerWidth,a=window.innerHeight;window.addEventListener("resize",()=>{d=window.innerWidth,a=window.innerHeight});const o={"in-phase":{title:"I (In-phase) - 同相分量",desc:"訊號分量，與本地振盪器的 <strong>Cosine</strong> 波形對齊（相位差為 0）。",details:"代表複數訊號的「實部」(Real part)。"},quadrature:{title:"Q (Quadrature) - 正交分量",desc:"訊號分量，與本地振盪器的 <strong>Sine</strong> 波形對齊（相位差為 90 度或 $\\pi/2$）。",details:"代表複數訊號的「虛部」(Imaginary part)。"},mixer:{title:"混波器 (Mixer)",desc:"一種 RF 元件，能將兩個輸入訊號的頻率相乘。",details:"在 IQ 解調中，它將高頻的接收訊號與本地振盪器訊號相乘，產生「和頻」與「差頻」兩個新訊號。"},lpf:{title:"低通濾波器 (Low-Pass Filter)",desc:"一種電子濾波器，只允許低於特定「截止頻率」的訊號通過，並阻擋高頻訊號。",details:"在 IQ 解調中，它被用來濾除高頻的「和頻」訊號（$2f_c$ 附近），僅保留我們需要的低頻「差頻」訊號（$\\phi(t)$）。"},doppler:{title:"都卜勒效應 (Doppler Effect)",desc:"當波源（如雷達目標）與觀測者（雷達）之間有相對運動時，觀測到的頻率會發生變化的現象。",details:"$$f_d = \\frac{2 v f_c}{c} = \\frac{2v}{\\lambda}$$ <br> $f_d$: 都卜勒頻移<br> $v$: 目標徑向速度<br> $\\lambda$: 雷達波長"},"phase-unwrap":{title:"相位解包 (Phase Unwrapping)",desc:"一種演算法，用於校正 $\\mathrm{atan2}$ 函數在 $(-\\pi, \\pi]$ 之間產生的 $2\\pi$ 相位跳變。",details:"它重建了訊號的連續相位 $\\tilde{\\phi}(t)$，這對於正確估測速度（即 $d\\phi/dt$）至關重要。"},"range-doppler":{title:"距離-都卜勒 (Range-Doppler)",desc:"一種 2D 訊號處理技術，通常用於脈衝或 FMCW 雷達。",details:"它透過「快時間 FFT」（距離）和「慢時間 FFT」（速度），將時域訊號轉換為一張顯示目標距離與速度分布的 2D 圖。"},fmcw:{title:"調頻連續波 (FMCW)",desc:"Frequency-Modulated Continuous-Wave. 一種雷達技術，透過發射頻率隨時間線性變化的訊號（Chirp）來測量距離和速度。",details:"FMCW 雷達通常同時使用拍頻（Beat Frequency）估測距離，並使用相位變化（Doppler）估計速度。"},"iq-imbalance":{title:"IQ 不平衡 (IQ Imbalance)",desc:"硬體上 I 通道和 Q 通道之間存在的增益（振幅）和相位（正交性）誤差。",details:"這會導致訊號的「影像頻率」無法被完全抑制，在頻譜上產生假影（Image），進而干擾偵測。"},"lo-leakage":{title:"本振洩漏 (LO Leakage) / DC 偏移",desc:"本地振盪器 (LO) 訊號洩漏到混波器的輸出端，導致在零頻（DC）處產生一個強大的直流分量。",details:"這個 DC 偏移（$d_I, d_Q$）在頻譜上表現為一個尖峰，必須被濾除或校正，以免掩蓋零速附近的慢速目標。"},clutter:{title:"雜波 (Clutter)",desc:"來自非目標物體（如地面、建築、雨、海浪）的雷達反射訊號。",details:"地雜波 (Ground Clutter) 通常是靜止的，其訊號強度遠大於目標，集中在零速（DC）附近，需要透過 MTI 等濾波技術加以抑制。"},"micro-doppler":{title:"微都卜勒 (Micro-Doppler)",desc:"由目標的微小運動（如振動、旋轉）引起的額外都卜勒頻移，疊加在主體的都卜勒效應之上。",details:"例如人體行走時的肢體擺動、無人機的旋翼轉動。分析微都卜勒特徵有助於目標分類與辨識。"},cfar:{title:"恆虛警率 (CFAR)",desc:"Constant False Alarm Rate. 一種自動目標偵測演算法。",details:"它透過估測目標周圍的雜訊/雜波水平，動態調整偵測門檻，以確保在不同背景干擾下，誤報的機率（虛警率）保持恆定。"}};function s(t){if("block"!==e.style.display)return;const i=e.getBoundingClientRect(),r=window.scrollY;let n=t.pageX,o=t.pageY;n+l+i.width>d?n=n-i.width-l:n+=l,o-r+l+i.height>a?o=o-i.height-l:o+=l,o<r&&(o=r+l),n<0&&(n=l),e.style.left=`${n}px`,e.style.top=`${o}px`}n.forEach(n=>{const l=n.dataset.keyword;if(!l||!o[l])return;const a=o[l];n.addEventListener("mouseenter",n=>{t.innerHTML=a.title,i.innerHTML=a.desc,r.innerHTML=a.details;try{"function"==typeof renderMathInElement&&(renderMathInElement(r,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1}),renderMathInElement(t,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1}),renderMathInElement(i,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1}))}catch(e){console.error("KaTeX render in tooltip failed:",e)}const l=.9*d-30;e.style.maxWidth=`${l<350?l:350}px`,e.style.display="block",s(n)}),n.addEventListener("mousemove",s),n.addEventListener("mouseleave",()=>{e.style.display="none"})})})</script>