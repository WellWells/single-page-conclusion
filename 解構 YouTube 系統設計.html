<!doctypehtml><html lang="zh-Hant-TW"class="scroll-smooth"><meta name="twitter:image"content="https://wellstsai.com/single-page-conclusion/%E8%A7%A3%E6%A7%8B%20YouTube%20%E7%B3%BB%E7%B5%B1%E8%A8%AD%E8%A8%88.png"><meta name="twitter:description"content="深入解析 YouTube 影片系統：從上傳、轉碼到全球串流，揭示每分鐘處理 500 小時影片背後的工程解法。採用預簽章直傳解除伺服器瓶頸；以 DAG 平行轉碼加速多版本產出；搭配自適應位元率與全球 CDN，確保任意網路下的流暢播放。本頁濃縮三大環節關鍵設計與實務取捨，讓技術架構一目了然。"><meta name="twitter:title"content="解構 YouTube 系統設計"><meta name="twitter:card"content="summary_large_image"><meta property="og:type"content="article"><meta property="og:site_name"content="WellWells"><meta property="og:image"content="https://wellstsai.com/single-page-conclusion/%E8%A7%A3%E6%A7%8B%20YouTube%20%E7%B3%BB%E7%B5%B1%E8%A8%AD%E8%A8%88.png"><meta property="og:url"content="https://wellstsai.com/single-page-conclusion/%E8%A7%A3%E6%A7%8B%20YouTube%20%E7%B3%BB%E7%B5%B1%E8%A8%AD%E8%A8%88.html"><meta property="og:description"content="深入解析 YouTube 影片系統：從上傳、轉碼到全球串流，揭示每分鐘處理 500 小時影片背後的工程解法。採用預簽章直傳解除伺服器瓶頸；以 DAG 平行轉碼加速多版本產出；搭配自適應位元率與全球 CDN，確保任意網路下的流暢播放。本頁濃縮三大環節關鍵設計與實務取捨，讓技術架構一目了然。"><meta property="og:title"content="解構 YouTube 系統設計"><meta name="description"content="深入解析 YouTube 影片系統：從上傳、轉碼到全球串流，揭示每分鐘處理 500 小時影片背後的工程解法。採用預簽章直傳解除伺服器瓶頸；以 DAG 平行轉碼加速多版本產出；搭配自適應位元率與全球 CDN，確保任意網路下的流暢播放。本頁濃縮三大環節關鍵設計與實務取捨，讓技術架構一目了然。"><meta charset="UTF-8"><meta name="viewport"content="width=device-width,initial-scale=1"><title>解構 YouTube：影片系統設計</title><script src="https://cdn.tailwindcss.com"></script><script src="https://cdn.jsdelivr.net/npm/chart.js@4.5.0/dist/chart.umd.min.js"></script><link rel="preconnect"href="https://fonts.googleapis.com"><link rel="preconnect"href="https://fonts.gstatic.com"crossorigin><link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"rel="stylesheet"><style>body{font-family:Roboto,'Noto Sans TC',sans-serif;background-color:#0f172a;color:#cbd5e1;background-image:linear-gradient(rgba(255,255,255,.05) 1px,transparent 1px),linear-gradient(90deg,rgba(255,255,255,.05) 1px,transparent 1px);background-size:2rem 2rem}.nav-link{transition:color .3s,border-bottom-color .3s;border-bottom:2px solid transparent}.nav-link.active,.nav-link:hover{color:#ef4444;border-bottom-color:#ef4444}.dag-node,.interactive-step{cursor:pointer;transition:background-color .3s,border-color .3s,transform .3s}.dag-node:hover,.interactive-step:hover{transform:translateY(-4px);border-color:#ef444480}.dag-node.active,.interactive-step.active{background-color:#ef444430;border-color:#ef4444!important;color:#fee2e2;transform:translateY(-4px)}.chart-container{position:relative;width:100%;margin-left:auto;margin-right:auto;height:300px;max-height:400px}@media (min-width:768px){.chart-container{height:350px}}input[type=range]{-webkit-appearance:none;appearance:none;width:100%;height:.5rem;background:0 0;cursor:pointer}input[type=range]::-webkit-slider-runnable-track{width:100%;height:4px;background:#334155;border-radius:4px}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;margin-top:-6px;width:20px;height:20px;background:#ef4444;border-radius:50%;border:2px solid #0f172a}input[type=range]::-moz-range-track{width:100%;height:4px;background:#334155;border-radius:4px}input[type=range]::-moz-range-thumb{width:20px;height:20px;background:#ef4444;border-radius:50%;border:2px solid #0f172a}.keyword{cursor:pointer;color:#f87171;border-bottom:1px dotted #f87171;transition:all .2s ease-in-out}.keyword:hover{background-color:#ef444430;border-bottom:1px solid #ef4444}.fade-in-section{opacity:0;transform:translateY(20px);transition:opacity .6s ease-out,transform .6s ease-out}.fade-in-section.is-visible{opacity:1;transform:translateY(0)}</style><script async src="https://www.googletagmanager.com/gtag/js?id=G-JKC4KZLT26"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JKC4KZLT26")</script><body class="bg-slate-900 text-slate-300"><header class="bg-slate-900/70 backdrop-blur-lg sticky top-0 z-50 border-b border-slate-800"><nav class="container mx-auto px-4 sm:px-6 lg:px-8"><div class="flex items-center justify-between h-16"><div class="flex-shrink-0"><h1 class="text-xl md:text-2xl font-bold text-red-500">解構 YouTube 系統設計</h1></div><div class="hidden md:block"><div class="ml-10 flex items-baseline space-x-4"><a href="#upload"class="nav-link text-slate-300 px-3 py-2 rounded-md text-sm font-medium">影片上傳</a> <a href="#processing"class="nav-link text-slate-300 px-3 py-2 rounded-md text-sm font-medium">影片處理</a> <a href="#streaming"class="nav-link text-slate-300 px-3 py-2 rounded-md text-sm font-medium">影片串流</a> <a href="#summary"class="nav-link text-slate-300 px-3 py-2 rounded-md text-sm font-medium">核心總結</a></div></div></div></nav></header><main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12"><section class="text-center mb-16 fade-in-section"><h2 class="text-3xl md:text-4xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-slate-100 to-red-500">從上傳到播放：深入影片平台的技術核心</h2><p class="max-w-3xl mx-auto text-slate-400">YouTube 每分鐘處理 500 小時的影片，這背後是極其複雜的工程挑戰。本頁將帶您深入探索影片上傳、處理與串流三大核心環節的設計原理，將抽象的系統架構轉化為直觀的互動體驗。</section><div id="content-sections"class="space-y-20"><section id="upload"class="scroll-mt-20 fade-in-section"><h3 class="text-2xl md:text-3xl font-bold text-center mb-2 text-red-500">第一站：影片上傳的挑戰</h3><p class="text-center text-slate-400 mb-10 max-w-2xl mx-auto">處理龐大的影片檔案是首要難題。傳統方法不僅效率低落，還會癱瘓伺服器。因此，一個更聰明的架構應運而生。<div class="grid md:grid-cols-2 gap-8 items-start"><div class="bg-slate-800/50 backdrop-blur-md border border-slate-700 rounded-2xl p-6 transition-all duration-300 hover:border-red-500/50 hover:shadow-red-500/10 hover:shadow-lg"><h4 class="font-bold text-lg mb-3 text-red-400">傳統作法：直通 API 伺服器</h4><p class="mb-4 text-slate-400">將數 GB 的大檔案直接通過負責處理應用程式邏輯的 API 伺服器。<ul class="space-y-2 text-sm text-slate-300"><li class="flex items-start"><span class="text-red-400 mr-2 font-bold">✗</span> <strong>伺服器負擔：</strong>佔用大量伺服器資源，使其無法處理其他 API 請求。<li class="flex items-start"><span class="text-red-400 mr-2 font-bold">✗</span> <strong>超時問題：</strong>上傳時間輕易超過標準的 30 秒超時限制。<li class="flex items-start"><span class="text-red-400 mr-2 font-bold">✗</span> <strong>缺乏彈性：</strong>難以實現斷點續傳等進階功能。</ul></div><div class="bg-slate-800/50 backdrop-blur-md border border-red-600 rounded-2xl p-6 transition-all duration-300 hover:shadow-red-500/10 hover:shadow-lg"><h4 class="font-bold text-lg mb-3 text-green-400">更佳模式：<span class="keyword"data-keyword="presigned-url">預簽章 URL (Pre-signed URLs)</span></h4><p class="mb-4 text-slate-400">客戶端直接與雲端儲存空間溝通，API 伺服器只負責授權，不經手檔案本身。<ul class="space-y-2 text-sm text-slate-300"><li class="flex items-start"><span class="text-green-400 mr-2 font-bold">✓</span> <strong>解放伺服器：</strong>API 伺服器保持輕量，專注於核心業務邏輯。<li class="flex items-start"><span class="text-green-400 mr-2 font-bold">✓</span> <strong>利用雲端優勢：</strong>直接享受雲端儲存內建的「多部分上傳」功能。<li class="flex items-start"><span class="text-green-400 mr-2 font-bold">✓</span> <strong>可靠性高：</strong>內建斷點續傳、平行上傳等機制，提升上傳成功率。</ul></div></div><div class="mt-12"><h4 class="text-xl font-bold text-center mb-8 text-slate-200">多部分上傳流程 (Multipart Upload)</h4><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"><div class="bg-slate-800/50 backdrop-blur-md border border-slate-700 rounded-xl p-6 text-center flex flex-col h-full"><div class="flex-grow flex flex-col items-center"><div class="mx-auto bg-slate-700 text-red-400 w-12 h-12 rounded-full flex items-center justify-center mb-4 text-xl font-bold flex-shrink-0">1</div><h5 class="font-semibold text-lg mb-2 text-slate-100">請求上傳</h5><p class="text-sm text-slate-400">客戶端向 API 伺服器請求上傳許可。</div></div><div class="bg-slate-800/50 backdrop-blur-md border border-slate-700 rounded-xl p-6 text-center flex flex-col h-full"><div class="flex-grow flex flex-col items-center"><div class="mx-auto bg-slate-700 text-red-400 w-12 h-12 rounded-full flex items-center justify-center mb-4 text-xl font-bold flex-shrink-0">2</div><h5 class="font-semibold text-lg mb-2 text-slate-100">取得簽章 URL</h5><p class="text-sm text-slate-400">伺服器回傳一個有時效性的 URL，授權客戶端直接上傳至雲端儲存。</div></div><div class="bg-slate-800/50 backdrop-blur-md border border-slate-700 rounded-xl p-6 text-center flex flex-col h-full"><div class="flex-grow flex flex-col items-center"><div class="mx-auto bg-slate-700 text-red-400 w-12 h-12 rounded-full flex items-center justify-center mb-4 text-xl font-bold flex-shrink-0">3</div><h5 class="font-semibold text-lg mb-2 text-slate-100">分割並上傳</h5><p class="text-sm text-slate-400">客戶端將影片分割成小區塊，使用 URL 平行上傳，失敗可單獨重傳。</div></div><div class="bg-slate-800/50 backdrop-blur-md border border-slate-700 rounded-xl p-6 text-center flex flex-col h-full"><div class="flex-grow flex flex-col items-center"><div class="mx-auto bg-slate-700 text-red-400 w-12 h-12 rounded-full flex items-center justify-center mb-4 text-xl font-bold flex-shrink-0">4</div><h5 class="font-semibold text-lg mb-2 text-slate-100">通知完成</h5><p class="text-sm text-slate-400">全部上傳後，客戶端通知伺服器，觸發後續的影片處理流程。</div></div></div></div></section><section id="processing"class="scroll-mt-20 fade-in-section"><h3 class="text-2xl md:text-3xl font-bold text-center mb-2 text-red-500">第二站：影片處理流程</h3><p class="text-center text-slate-400 mb-10 max-w-2xl mx-auto">單一上傳的影片必須轉檔成數十種不同版本，以適應各式各樣的裝置與網路速度。這個過程需要極高的運算效率。<div class="grid md:grid-cols-2 gap-8 items-center"><div><h4 class="font-bold text-lg mb-3 text-slate-200">從「一」到「多」的轉變</h4><p class="mb-4 text-slate-400">為了確保在舊款 Android 手機、智慧電視到最新瀏覽器上都能順暢播放，單一影片會被 <span class="keyword"data-keyword="transcode">轉碼 (Transcode)</span> 成多種格式。<div class="bg-slate-800/50 backdrop-blur-md border border-slate-700 rounded-2xl p-6"><p class="font-semibold mb-2 text-slate-200">一個 4K 影片上傳後，可能會產生：<ul class="list-disc list-inside space-y-1 text-sm text-slate-300"><li><strong>多種解析度：</strong>從 2160p (4K) 到 240p。<li><strong>多種編解碼器 (Codec)：</strong>H.264、VP9、AV1 等。<li><strong>多種容器格式：</strong>MP4、WebM 等。</ul><p class="mt-4 font-bold text-center text-red-400 text-lg">最終產生 15-20 個檔案！</div></div><div><h4 class="font-bold text-lg mb-3 text-slate-200"><span class="keyword"data-keyword="codec">編解碼器 (Codec)</span> 的權衡</h4><p class="mb-4 text-slate-400">不同的編解碼器在相容性與壓縮效率之間有所取捨。<div class="overflow-x-auto bg-slate-800/50 backdrop-blur-md border border-slate-700 rounded-2xl p-1"><table class="w-full text-sm text-left"><thead class="bg-slate-900/70 text-slate-300"><tr><th class="p-3">編解碼器<th class="p-3">優點<th class="p-3">缺點<tbody class="text-slate-400"><tr class="border-t border-slate-700"><td class="p-3 font-semibold text-slate-200">H.264<td class="p-3">相容性極高，幾乎所有裝置都支援。<td class="p-3">頻寬消耗較大。<tr class="border-t border-slate-700 bg-slate-800/40"><td class="p-3 font-semibold text-slate-200">VP9<td class="p-3">節省頻寬，畫質優。<td class="p-3">部分舊裝置不支援硬體解碼。<tr class="border-t border-slate-700"><td class="p-3 font-semibold text-slate-200">AV1<td class="p-3">頻寬效率最高，最節省流量。<td class="p-3">需要強大的硬體才能流暢解碼。</table></div></div></div><div class="mt-12"><h4 class="text-xl font-bold text-center mb-6 text-slate-200">互動解析：<span class="keyword"data-keyword="dag">DAG</span> 平行處理工作流</h4><p class="text-center text-slate-400 mb-8 max-w-2xl mx-auto">為了高效處理，工作流程被模型化為一個「有向無環圖」(Directed Acyclic Graph, DAG)，將一個巨大任務分解為數百個可以同時進行的小任務。<div class="bg-slate-800/50 backdrop-blur-md border border-slate-700 rounded-2xl p-6 md:p-8 relative"><div id="dag-container"class="grid grid-cols-4 grid-rows-3 gap-x-8 gap-y-12 items-center text-center text-sm md:text-base"><div id="dag-start"class="dag-node col-start-1 row-start-2 bg-slate-800/80 border-2 border-slate-700 p-3 rounded-lg">原始影片</div><div id="dag-split"class="dag-node col-start-2 row-start-2 bg-slate-800/80 border-2 border-slate-700 p-3 rounded-lg">分割區塊</div><div id="dag-video"class="dag-node col-start-3 row-start-1 bg-slate-800/80 border-2 border-slate-700 p-3 rounded-lg">影片轉碼 (多版本)</div><div id="dag-audio"class="dag-node col-start-3 row-start-2 bg-slate-800/80 border-2 border-slate-700 p-3 rounded-lg">音訊處理</div><div id="dag-meta"class="dag-node col-start-3 row-start-3 bg-slate-800/80 border-2 border-slate-700 p-3 rounded-lg">產生縮圖/字幕</div><div id="dag-end"class="dag-node col-start-4 row-start-2 bg-slate-800/80 border-2 border-slate-700 p-3 rounded-lg">合併輸出</div></div><div id="dag-details"class="mt-8 bg-red-900/30 backdrop-blur-md border border-red-800 p-4 rounded-lg min-h-[80px] text-red-200"><p>點擊上方節點以查看詳細說明。</div></div></div><div class="mt-12"><h4 class="text-xl font-bold text-center mb-6 text-slate-200">效率比較：循序 vs. 平行</h4><div class="bg-slate-800/50 backdrop-blur-md border border-slate-700 rounded-2xl p-6"><div class="chart-container max-w-2xl"><canvas id="processingTimeChart"></canvas></div></div></div></section><section id="streaming"class="scroll-mt-20 fade-in-section"><h3 class="text-2xl md:text-3xl font-bold text-center mb-2 text-red-500">第三站：影片串流技術</h3><p class="text-center text-slate-400 mb-10 max-w-2xl mx-auto">為了在不穩定的網路環境下提供流暢的觀看體驗，現代串流採用了「自適應位元率」技術。<div class="bg-slate-800/50 backdrop-blur-md border border-slate-700 rounded-2xl p-6 md:p-8"><h4 class="text-xl font-bold text-center mb-6 text-slate-200">互動模擬：<span class="keyword"data-keyword="abr">自適應位元率串流 (Adaptive Bitrate Streaming)</span></h4><p class="text-center text-slate-400 mb-4 max-w-2xl mx-auto">播放器不會下載單一完整檔案，而是根據即時網速，智慧地請求不同畫質的「影片區塊」(Segment)。請拖動滑桿模擬網路變化。<div class="mb-6"><label for="bandwidth-slider"class="block font-medium mb-2 text-center text-slate-300">模擬網路頻寬: <span id="bandwidth-value"class="font-bold text-red-500">25</span> Mbps</label> <input id="bandwidth-slider"type="range"min="1"max="50"value="25"class="w-full h-2 rounded-lg appearance-none cursor-pointer"></div><div class="bg-slate-900/70 p-4 rounded-lg"><p class="mb-2 text-slate-300">播放器狀態：<div id="player-status"class="flex items-center gap-4 p-4 bg-slate-800 rounded shadow-inner"><div id="status-icon"class="w-8 h-8 rounded-full bg-green-500 flex-shrink-0"></div><div class="flex-grow"><p id="status-text"class="font-semibold text-slate-200">正在請求 1080p 高畫質區塊...<p id="status-detail"class="text-sm text-slate-400">網路狀況良好，提供最佳觀看體驗。</div></div></div></div><div class="grid md:grid-cols-2 gap-8 mt-12"><div class="bg-slate-800/50 backdrop-blur-md border border-slate-700 rounded-2xl p-6"><h4 class="font-bold text-lg mb-3 text-slate-200">幕後功臣：<span class="keyword"data-keyword="manifest">Manifest</span> 檔案</h4><p class="text-slate-400">這是一個索引檔案，告訴播放器有哪些可用的畫質、編碼、音訊軌道，以及每一個影片區塊的 URL。播放器首先讀取它，才能開始工作。</div><div class="bg-slate-800/50 backdrop-blur-md border border-slate-700 rounded-2xl p-6"><h4 class="font-bold text-lg mb-3 text-slate-200">全球加速：<span class="keyword"data-keyword="cdn">CDN</span> 內容分發網路</h4><p class="text-slate-400">影片區塊被快取在全球各地的邊緣伺服器上。一位在東京的觀眾會從日本的伺服器獲取影片，而非加州總部，大幅降低延遲，提升載入速度。</div></div></section><section id="summary"class="scroll-mt-20 fade-in-section"><h3 class="text-2xl md:text-3xl font-bold text-center mb-10 text-slate-100">核心設計總結</h3><div class="grid md:grid-cols-3 gap-8"><div class="bg-slate-800/50 backdrop-blur-md border border-slate-700 rounded-2xl p-6 text-center transition-all duration-300 hover:border-red-500/50 hover:shadow-red-500/10 hover:shadow-lg"><div class="mx-auto bg-red-500/20 text-red-500 w-16 h-16 rounded-full flex items-center justify-center mb-4 text-3xl font-bold">1</div><h4 class="font-bold text-lg mb-2 text-slate-200">直接上傳至儲存</h4><p class="text-sm text-slate-400">透過預簽章 URL 模式，讓 API 伺服器專注於核心邏輯，避免成為檔案傳輸的瓶頸。</div><div class="bg-slate-800/50 backdrop-blur-md border border-slate-700 rounded-2xl p-6 text-center transition-all duration-300 hover:border-red-500/50 hover:shadow-red-500/10 hover:shadow-lg"><div class="mx-auto bg-red-500/20 text-red-500 w-16 h-16 rounded-full flex items-center justify-center mb-4 text-3xl font-bold">2</div><h4 class="font-bold text-lg mb-2 text-slate-200">DAG 平行工作流</h4><p class="text-sm text-slate-400">將循序的轉碼任務分解為大量可同時執行的平行任務，將數小時的處理時間縮短至數分鐘。</div><div class="bg-slate-800/50 backdrop-blur-md border border-slate-700 rounded-2xl p-6 text-center transition-all duration-300 hover:border-red-500/50 hover:shadow-red-500/10 hover:shadow-lg"><div class="mx-auto bg-red-500/20 text-red-500 w-16 h-16 rounded-full flex items-center justify-center mb-4 text-3xl font-bold">3</div><h4 class="font-bold text-lg mb-2 text-slate-200">自適應串流</h4><p class="text-sm text-slate-400">確保使用者在任何網路條件下都能獲得流暢、不中斷的觀看體驗，是提升使用者滿意度的關鍵。</div></div></section></div></main><footer class="bg-slate-900/70 backdrop-blur-lg mt-16 border-t border-slate-800 fade-in-section"><div class="container mx-auto py-6 px-4 sm:px-6 lg:px-8 text-center text-slate-500 text-sm"><p>Generated by <a href="https://wellstsai.com"target="_blank"rel="noopener noreferrer"class="font-semibold text-red-500 hover:text-red-400 transition-colors">wellstsai.com</a>.</div></footer><div id="modal-container"class="fixed inset-0 z-50 flex items-center justify-center p-4 transition-opacity duration-300 ease-in-out opacity-0 pointer-events-none"><div id="modal-overlay"class="absolute inset-0 bg-black/60 backdrop-blur-sm"></div><div id="modal-content"class="relative z-10 w-full max-w-lg bg-slate-800/80 border border-slate-700 rounded-2xl shadow-2xl p-6 transition-transform duration-300 ease-in-out transform scale-95"><button id="modal-close-btn"class="absolute top-4 right-4 text-slate-400 hover:text-white transition-colors"><svg xmlns="http://www.w3.org/2000/svg"class="h-6 w-6"fill="none"viewBox="0 0 24 24"stroke="currentColor"><path stroke-linecap="round"stroke-linejoin="round"stroke-width="2"d="M6 18L18 6M6 6l12 12"/></svg></button><h3 id="modal-title"class="text-xl font-bold text-red-500 mb-4"></h3><div id="modal-body"class="text-slate-300 space-y-4"></div></div></div><script>document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".fade-in-section"),t=new IntersectionObserver(function(e,t){e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("is-visible"),t.unobserve(e.target))})},{threshold:.2,rootMargin:"0px 0px -50px 0px"});e.forEach(e=>{t.observe(e)});const n=document.querySelectorAll(".nav-link"),o=document.querySelectorAll("#content-sections section"),d=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&n.forEach(t=>{t.classList.remove("active"),t.getAttribute("href").substring(1)===e.target.id&&t.classList.add("active")})})},{root:null,rootMargin:"0px",threshold:.4});o.forEach(e=>{d.observe(e)}),n.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),document.querySelector(e.getAttribute("href")).scrollIntoView({behavior:"smooth"})})});const l=document.getElementById("dag-container"),a=document.getElementById("dag-details"),s={"dag-start":"用戶上傳的原始影片檔案，例如 .MOV 或 .MP4 格式。","dag-split":"系統首先根據影片的關鍵影格（Keyframes）將長影片分割成數秒到數十秒不等的獨立區塊，以便進行平行處理。","dag-video":"數量最多的任務。每個影片區塊會被送到不同的工作節點 (worker) 上，同時轉碼成多種解析度（1080p, 720p...）和多種編解碼器（H.264, VP9...）。","dag-audio":"音訊軌道被分離出來，單獨進行處理，例如轉碼成不同位元率的音訊格式，或進行音量標準化。","dag-meta":"其他獨立的工作，例如從影片中擷取畫面以產生縮圖、執行語音辨識以產生自動字幕等。","dag-end":"當所有影片、音訊和元數據區塊都處理完成後，系統會將它們的資訊匯總，並產生 Manifest 檔案，標記整個處理流程結束。"};let r=null;l.addEventListener("click",e=>{const t=e.target.closest(".dag-node");t&&(r&&r.classList.remove("active"),t.classList.add("active"),r=t,a.innerHTML=`<p>${s[t.id]}</p>`)});const i=document.getElementById("processingTimeChart").getContext("2d");new Chart(i,{type:"bar",data:{labels:["單一影片處理時間"],datasets:[{label:"傳統循序處理 (分鐘)",data:[150],backgroundColor:"rgba(239, 68, 68, 0.6)",borderColor:"rgba(239, 68, 68, 1)",borderWidth:1},{label:"DAG 平行處理 (分鐘)",data:[5],backgroundColor:"rgba(220, 38, 38, 0.6)",borderColor:"rgba(220, 38, 38, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,indexAxis:"y",scales:{x:{beginAtZero:!0,grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#94a3b8"},title:{display:!0,text:"時間 (分鐘)",color:"#94a3b8"}},y:{grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#94a3b8"}}},plugins:{title:{display:!0,text:"處理效率比較",color:"#e2e8f0",font:{size:16}},legend:{labels:{color:"#cbd5e1"}},tooltip:{callbacks:{label:function(e){let t=e.dataset.label||"";return t&&(t+=": "),null!==e.parsed.x&&(t+=e.parsed.x+" 分鐘"),t}}}}}});const c=document.getElementById("bandwidth-slider"),p=document.getElementById("bandwidth-value"),u=document.getElementById("status-icon"),g=document.getElementById("status-text"),m=document.getElementById("status-detail");c.addEventListener("input",e=>{const t=parseInt(e.target.value);p.textContent=t,t>30?(u.className="w-8 h-8 rounded-full bg-green-500 flex-shrink-0",g.textContent="正在請求 2160p (4K) 超高畫質區塊...",m.textContent="網路速度極快，享受頂級影音饗宴。"):t>15?(u.className="w-8 h-8 rounded-full bg-green-500 flex-shrink-0",g.textContent="正在請求 1080p 高畫質區塊...",m.textContent="網路狀況良好，提供最佳觀看體驗。"):t>5?(u.className="w-8 h-8 rounded-full bg-yellow-500 flex-shrink-0",g.textContent="已切換至 720p 標準畫質區塊...",m.textContent="網路速度中等，畫質略為調降以確保流暢。"):t>2?(u.className="w-8 h-8 rounded-full bg-orange-500 flex-shrink-0",g.textContent="已切換至 480p 較低畫質區塊...",m.textContent="網路速度較慢，優先保證播放不中斷。"):(u.className="w-8 h-8 rounded-full bg-red-500 flex-shrink-0",g.textContent="已切換至 240p 最低畫質區塊...",m.textContent="網路狀況極差，犧牲畫質以維持基本播放。")}),c.dispatchEvent(new Event("input"));const b=document.getElementById("modal-container"),y=document.getElementById("modal-content"),v=document.getElementById("modal-overlay"),f=document.getElementById("modal-close-btn"),h=document.getElementById("modal-title"),E=document.getElementById("modal-body"),x=document.querySelectorAll(".keyword"),L={"presigned-url":{title:"預簽章 URL (Pre-signed URL)",body:"<p>一種安全的授權機制，由後端伺服器產生一個有時效性、帶有特定權限（如上傳）的 URL。客戶端（例如瀏覽器）可以直接使用這個 URL 與雲端儲存服務（如 AWS S3）互動，而不需要讓敏感的檔案數據流經後端伺服器。</p><p>這大大降低了後端伺服器的負載，並能充分利用雲端儲存提供的高效能傳輸能力。</p>"},transcode:{title:"轉碼 (Transcoding)",body:"<p>將一個影片或音訊檔案從一種編碼格式轉換成另一種的過程。例如，將一個使用者上傳的 4K ProRes 影片，轉碼成 1080p H.264、720p VP9 等多種版本。</p><p>轉碼是為了確保影片能在各種不同的裝置（手機、電視、電腦）和網路條件下都能順暢播放。</p>"},codec:{title:"編解碼器 (Codec)",body:"<p>「編碼器/解碼器」的縮寫，是一套用來壓縮和解壓縮數位影片的演算法。好的編解碼器能用更少的數據量（更低的位元率）來呈現相同或更好的畫質，從而節省儲存空間和網路頻寬。</p><p>常見的影片編解碼器有 H.264 (AVC)、VP9 和 AV1。</p>"},dag:{title:"有向無環圖 (Directed Acyclic Graph)",body:"<p>一種資料結構，由節點（代表任務）和有方向的邊（代表依賴關係）組成，且圖中不存在任何循環路徑。</p><p>在影片處理中，DAG 用來定義複雜的工作流程。例如，「轉碼」任務必須在「分割影片」任務完成後才能開始。這種模型允許系統最大化地平行執行沒有依賴關係的任務，從而極大地提升處理效率。</p>"},abr:{title:"自適應位元率串流 (Adaptive Bitrate Streaming)",body:"<p>一種智慧串流技術。影片被預先切分成數秒長度的小區塊（Segment），並為每個區塊準備多種不同畫質（位元率）的版本。</p><p>播放器會持續偵測當前的網路速度，並動態地為下一個影片區塊選擇最合適的畫質版本進行下載和播放。這使得影片可以在網路狀況波動時無縫切換畫質，避免緩衝和中斷，提供流暢的觀看體驗。</p>"},manifest:{title:"Manifest 檔案",body:'<p>一個索引檔，通常是文字格式（如 M3U8 或 MPD）。它包含了關於自適應位元率串流的所有元數據，像是：</p><ul class="list-disc list-inside mt-2"><li>所有可用的畫質版本和其位元率。</li><li>影片和音訊的編解碼器資訊。</li><li>每個影片小區塊的 URL 和時長。</li></ul><p>播放器在開始播放前，必須先下載並解析這個檔案，才能知道如何請求正確的影片內容。</p>'},cdn:{title:"內容分發網路 (Content Delivery Network)",body:"<p>一個分布在全球各地的伺服器網路，用來快取網站的靜態內容（如影片、圖片、腳本）。</p><p>當使用者請求觀看影片時，CDN 會從地理位置上離使用者最近的伺服器（稱為邊緣節點）提供影片內容，而不是從遙遠的源頭伺服器。這能大幅降低延遲（Latency），加快載入速度，並分攤源頭伺服器的流量負載。</p>"}};function C(){b.classList.add("opacity-0"),y.classList.add("scale-95"),setTimeout(()=>{b.classList.add("pointer-events-none"),document.body.style.overflow=""},300)}x.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault();!function(e){const t=L[e];t&&(h.textContent=t.title,E.innerHTML=t.body,b.classList.remove("opacity-0","pointer-events-none"),y.classList.remove("scale-95"),document.body.style.overflow="hidden")}(e.target.dataset.keyword)})}),f.addEventListener("click",C),v.addEventListener("click",C),document.addEventListener("keydown",e=>{"Escape"!==e.key||b.classList.contains("pointer-events-none")||C()})})</script>