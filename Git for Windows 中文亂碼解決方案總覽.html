<!doctypehtml><html lang="zh-Hant"class="scroll-smooth"><meta name="twitter:image"content="https://wellstsai.com/single-page-conclusion/Git%20for%20Windows%20%E4%B8%AD%E6%96%87%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88%E7%B8%BD%E8%A6%BD.png"><meta name="twitter:description"content="一篇旨在解決 Git for Windows 中文亂碼的完整指南。內容涵蓋亂碼成因，並針對 `git status` 檔名、`git log` 訊息與 commit 等情境，提供從 Git 核心設定、Shell 環境變數到 Windows Terminal 的系統性解決方案。"><meta name="twitter:title"content="Git for Windows 中文亂碼解決方案總覽"><meta name="twitter:card"content="summary_large_image"><meta property="og:type"content="article"><meta property="og:site_name"content="WellWells"><meta property="og:image"content="https://wellstsai.com/single-page-conclusion/Git%20for%20Windows%20%E4%B8%AD%E6%96%87%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88%E7%B8%BD%E8%A6%BD.png"><meta property="og:url"content="https://wellstsai.com/single-page-conclusion/Git%20for%20Windows%20%E4%B8%AD%E6%96%87%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88%E7%B8%BD%E8%A6%BD.html"><meta property="og:description"content="一篇旨在解決 Git for Windows 中文亂碼的完整指南。內容涵蓋亂碼成因，並針對 `git status` 檔名、`git log` 訊息與 commit 等情境，提供從 Git 核心設定、Shell 環境變數到 Windows Terminal 的系統性解決方案。"><meta property="og:title"content="Git for Windows 中文亂碼解決方案總覽"><meta name="description"content="一篇旨在解決 Git for Windows 中文亂碼的完整指南。內容涵蓋亂碼成因，並針對 `git status` 檔名、`git log` 訊息與 commit 等情境，提供從 Git 核心設定、Shell 環境變數到 Windows Terminal 的系統性解決方案。"><meta charset="UTF-8"><meta name="viewport"content="width=device-width,initial-scale=1"><title>Git for Windows 中文亂碼解決方案總覽</title><script src="https://cdn.tailwindcss.com"></script><link rel="preconnect"href="https://fonts.googleapis.com"><link rel="preconnect"href="https://fonts.gstatic.com"crossorigin><link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap"rel="stylesheet"><style>.fade-in-up{opacity:0;transform:translateY(16px);transition:opacity .5s cubic-bezier(.2, .8, .2, 1),transform .5s cubic-bezier(.2, .8, .2, 1)}.fade-in-up.is-visible{opacity:1;transform:translateY(0)}@media (prefers-reduced-motion:reduce){.fade-in-up{transition:none}}</style><script async src="https://www.googletagmanager.com/gtag/js?id=G-JKC4KZLT26"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JKC4KZLT26")</script><body class="bg-slate-900 text-slate-200"><div class="container mx-auto p-4 md:p-8 max-w-5xl"><header class="text-center my-12 md:my-20 fade-in-up"><h1 class="text-4xl md:text-6xl font-bold text-sky-400 drop-shadow-sm mb-4">Git for Windows 中文亂碼解決方案總覽</h1><p class="text-lg md:text-xl text-slate-400 max-w-3xl mx-auto">一份詳盡的指南，旨在一次性呈現所有常見亂碼問題及其系統性解決方案</header><main class="space-y-12"><article id="encoding-flow"class="fade-in-up bg-slate-800 border border-slate-700 p-6 md:p-8 rounded-2xl shadow-lg"><h2 class="text-2xl md:text-3xl font-bold mb-4 flex items-center gap-4"><span class="flex-shrink-0 w-10 h-10 bg-sky-500/20 text-sky-400 rounded-lg flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg"class="h-6 w-6"fill="none"viewBox="0 0 24 24"stroke="currentColor"><path stroke-linecap="round"stroke-linejoin="round"stroke-width="2"d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg> </span>問題根源：解碼與再編碼的斷鏈</h2><p class="text-slate-300 mb-6 leading-relaxed">文字亂碼的核心問題，源自於資料在不同程式之間傳遞時的「解碼」與「再編碼」過程發生了錯誤。您的每一次鍵擊都會被作業系統以一種編碼（例如：Big5/CP950）捕捉，但在最終顯示於終端畫面前，這份資料會經過 Shell、Git 核心、分頁器 (less) 等多個環節。每一個環節都可能嘗試用自己的預設編碼去「解讀」前一站送來的資料，再用自己的編碼「重新打包」後送往下一站。只要鏈條中有任何一個環節「誤解」了資料的編碼格式，亂碼就會產生並向下傳遞。下方的流程圖便模擬了這個過程。<div id="encoding-flow-diagram"class="mt-8 p-4 bg-slate-900/70 rounded-lg flex flex-col md:flex-row items-center justify-center space-y-2 md:space-y-0 md:space-x-1 text-center text-sm md:text-base"></div></article><section id="solution-hub"class="fade-in-up"><h2 class="text-2xl md:text-3xl font-bold mb-8 flex items-center gap-4"><span class="flex-shrink-0 w-10 h-10 bg-sky-500/20 text-sky-400 rounded-lg flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg"class="h-6 w-6"fill="none"viewBox="0 0 24 24"stroke="currentColor"><path stroke-linecap="round"stroke-linejoin="round"stroke-width="2"d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg> </span>常見問題與解決方案</h2><div id="solutions-container"class="space-y-10"></div></section><article id="conclusion"class="fade-in-up bg-slate-800 border border-slate-700 p-6 md:p-8 rounded-2xl shadow-lg"><h2 class="text-2xl md:text-3xl font-bold mb-4 flex items-center gap-4"><span class="flex-shrink-0 w-10 h-10 bg-sky-500/20 text-sky-400 rounded-lg flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg"class="h-6 w-6"fill="none"viewBox="0 0 24 24"stroke="currentColor"stroke-width="2"><path stroke-linecap="round"stroke-linejoin="round"d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V7a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/></svg> </span>結論與綜合建議</h2><div class="prose prose-slate prose-invert max-w-none text-slate-300 prose-strong:text-white"><p>Git 在 Windows 下的中文亂碼，是多個環節編碼不匹配的連鎖反應，但透過系統性理解，此問題完全可以解決。<div class="mt-6 p-4 rounded-lg border-l-4 border-sky-400 bg-slate-900/50"><h3 class="font-bold text-lg text-white mb-2">終極解決方案：遠端開發</h3><p class="text-slate-300">對於追求長期穩定與最高效率的開發者，我們強烈推薦使用 <strong>Visual Studio Code</strong> 搭配其 <strong>Remote - SSH</strong> 擴充功能，將您的開發環境移至遠端 Linux 伺服器。</div><h4 class="mt-6 font-semibold text-slate-200">此模式的優勢：</h4><ul class="mt-4 space-y-4 not-prose"><li class="flex items-start gap-3"><svg xmlns="http://www.w3.org/2000/svg"class="h-6 w-6 flex-shrink-0 text-sky-400 mt-1"fill="none"viewBox="0 0 24 24"stroke="currentColor"stroke-width="2"><path stroke-linecap="round"stroke-linejoin="round"d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"/></svg><div><strong class="text-slate-100">原生 UTF-8 環境</strong><p class="text-slate-400 text-sm">所有程式碼、終端與 Git 操作都在原生支援 UTF-8 的 Linux 環境中執行，從根源杜絕編碼問題。</div><li class="flex items-start gap-3"><svg xmlns="http://www.w3.org/2000/svg"class="h-6 w-6 flex-shrink-0 text-sky-400 mt-1"fill="none"viewBox="0 0 24 24"stroke="currentColor"stroke-width="2"><path stroke-linecap="round"stroke-linejoin="round"d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/></svg><div><strong class="text-slate-100">徹底繞過本機限制</strong><p class="text-slate-400 text-sm">您的 Windows 電腦僅作為顯示用戶端，完全不受本地檔案系統、CMD 或 PowerShell 的編碼陷阱影響。</div><li class="flex items-start gap-3"><svg xmlns="http://www.w3.org/2000/svg"class="h-6 w-6 flex-shrink-0 text-sky-400 mt-1"fill="none"viewBox="0 0 24 24"stroke="currentColor"stroke-width="2"><path stroke-linecap="round"stroke-linejoin="round"d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/></svg><div><strong class="text-slate-100">環境一致與可攜</strong><p class="text-slate-400 text-sm">確保您的開發環境與生產環境（通常是 Linux）高度一致，乾淨且可隨時隨地接入。</div></ul><h3 class="text-slate-200 mt-8">相關參考文章</h3><ul><li><a href="https://wellstsai.com/post/git-tutorial-init/"target="_blank"rel="noopener noreferrer"class="text-sky-400 hover:text-sky-300">開始使用 Git 管理專案 - WellWells</a></ul></div></article></main><footer class="fade-in-up mt-20 py-8 text-center border-t border-slate-700"><a href="https://wellstsai.com"target="_blank"rel="noopener noreferrer"class="inline-block text-slate-400 transition-all duration-300 hover:text-sky-400 hover:scale-105 focus-visible:outline-none focus-visible:scale-105 focus-visible:text-sky-400 focus-visible:ring-2 focus-visible:ring-sky-500 focus-visible:ring-offset-4 focus-visible:ring-offset-slate-900 rounded-lg px-2 py-1">Generated by wellstsai.com</a></footer></div><script>const data={symptoms:[{id:"quotepath",title:"狀況一：檔名顯示為八進位序列",description:"執行 `git status` 或 `git diff` 時，以中文命名的檔案顯示為 `\\347\\256...` 這樣的亂碼。",solutions:["git_config_quotepath"],flowHighlight:[2]},{id:"log",title:"狀況二：`git log` 訊息亂碼",description:"執行 `git log` 時，中文提交訊息顯示為無意義的符號組合 (Mojibake)。",solutions:["git_config_i18n","shell_env_lesscharset"],flowHighlight:[3,4]},{id:"commit_m",title:"狀況三：`git commit -m` 訊息亂碼",description:'使用 `git commit -m "中文訊息"` 提交時，訊息儲存錯誤或出現警告。',solutions:["shell_env_chcp"],flowHighlight:[0,1]},{id:"commit_vim",title:"狀況四：Vim 編輯器無法輸入中文",description:"執行 `git commit` 進入 Vim 編輯器後，無法正常輸入或保存中文。",solutions:["shell_env_vim"],flowHighlight:[0,1]},{id:"ls",title:"狀況五：`ls` 指令無法顯示中文",description:"在 Git Bash 中，`ls` 指令無法正確顯示包含中文的檔名。",solutions:["shell_env_ls"],flowHighlight:[1,4]},{id:"all",title:"全面性策略：系統性修復與現代化流程",description:"如果您在多種 Git 指令中都遇到亂碼問題，或希望一勞永逸地解決此類問題，建議採用以下組合策略。",solutions:["git_config_quotepath","git_config_i18n","shell_env_locale","system_terminal","system_global","ide_vscode","best_practices"],flowHighlight:[0,1,2,3,4]}],solutions:{git_config_quotepath:{level:1,title:"核心 Git 設定：解決檔名顯示問題 (core.quotepath)",content:'<p class="mb-4"><strong>原理說明：</strong>這是解決檔名顯示為八進位序列 (如 <code>\\347\\256...</code>) 最直接的方法。預設情況下，Git 為了安全和相容性，會將路徑中的非 ASCII 字元進行「逸出處理」。將 <code>core.quotepath</code> 設定為 <code>false</code>，等於是明確告知 Git：「我信任目前的檔案系統和終端環境，請直接顯示原始的、未經處理的路徑名稱」。這是讓 <code>git status</code> 和 <code>git diff</code> 正確顯示中文的第一步，也是最關鍵的一步。</p><div class="relative"><pre class="bg-slate-900/70 border border-slate-700 rounded-lg p-4 overflow-x-auto"><code class="language-bash">git config --global core.quotepath false</code></pre><button class="copy-btn absolute top-2 right-2 px-3 py-1 text-sm rounded-md transition-all duration-200 bg-slate-600 hover:bg-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500 text-white hover:scale-105">複製</button></div>'},git_config_i18n:{level:1,title:"核心 Git 設定：標準化提交與日誌編碼 (i18n)",content:'<p class="mb-4"><strong>原理說明：</strong>這組設定旨在統一 Git 內部處理文字的編碼為 UTF-8。雖然 Git 內部儲存資料時已預設使用 UTF-8，但明確設定這些參數可以確保與舊版 Git 或特殊設定環境的相容性，避免 Git 在讀取或寫入記錄時做出錯誤的編碼猜測。</p><div class="relative mb-4"><p class="font-semibold mb-2">設定提交訊息編碼：</p><p class="mb-2 text-sm text-slate-400">告知 Git，我們提交的訊息是採用 UTF-8 編碼的。這主要是一個「宣告」，幫助其他工具正確解析提交紀錄。</p><pre class="bg-slate-900/70 border border-slate-700 rounded-lg p-4 overflow-x-auto"><code class="language-bash">git config --global i18n.commitencoding utf-8</code></pre><button class="copy-btn absolute top-14 right-2 px-3 py-1 text-sm rounded-md transition-all duration-200 bg-slate-600 hover:bg-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500 text-white hover:scale-105">複製</button></div><div class="relative"><p class="font-semibold mb-2">設定日誌輸出編碼：</p><p class="mb-2 text-sm text-slate-400">這是一個「指令」，它會強制 <code>git log</code> 和類似指令在輸出到終端時，將內容從內部儲存的 UTF-8 格式，再次轉換為 UTF-8 格式。這一步確保了 Git 輸出到下一環節 (通常是分頁器或終端) 的資料流是正確的。</p><pre class="bg-slate-900/70 border border-slate-700 rounded-lg p-4 overflow-x-auto"><code class="language-bash">git config --global i18n.logoutputencoding utf-8</code></pre><button class="copy-btn absolute top-14 right-2 px-3 py-1 text-sm rounded-md transition-all duration-200 bg-slate-600 hover:bg-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500 text-white hover:scale-105">複製</button></div>'},shell_env_lesscharset:{level:2,title:"Shell 環境配置：修正 `git log` 分頁器 (LESSCHARSET)",content:'<p class="mb-4"><strong>原理說明：</strong>很多時候即使 Git 輸出了正確的 UTF-8 編碼日誌，畫面依然是亂碼。這是因為 <code>git log</code> 的輸出內容，預設會被傳遞給一個名為 <code>less</code> 的分頁程式處理。如果 <code>less</code> 不知道傳來的是 UTF-8 資料，它可能會用預設的 ASCII 或其他地區編碼去解讀，導致亂碼。設定 <code>LESSCHARSET=utf-8</code> 這個環境變數，就是明確地告訴 <code>less</code>：「接下來的資料請務必使用 UTF-8 編碼來顯示」。</p><div class="relative mb-4"><p class="font-semibold mb-2">臨時設定 (僅限目前視窗):</p><pre class="bg-slate-900/70 border border-slate-700 rounded-lg p-4 overflow-x-auto"><code class="language-bash"># 在 Git Bash 中執行\nexport LESSCHARSET=utf-8\n\n# 在 CMD 中執行\nset LESSCHARSET=utf-8</code></pre><button class="copy-btn absolute top-9 right-2 px-3 py-1 text-sm rounded-md transition-all duration-200 bg-slate-600 hover:bg-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500 text-white hover:scale-105">複製</button></div><p>要永久生效，需要將此變數加入系統環境變數或 Shell 的啟動設定檔中。</p>'},shell_env_chcp:{level:2,title:"Shell 環境配置：修正終端輸入編碼 (chcp)",content:'<p class="mb-4"><strong>原理說明：</strong>這個問題主要發生在傳統的 CMD (命令提示字元) 中。Windows 繁體中文環境的 CMD 預設使用 CP950 (Big5 的擴充) 編碼。當您執行 <code>git commit -m "中文訊息"</code> 時，您輸入的「中文」兩個字是以 CP950 的位元組序列傳遞給 Git 的。然而，Git 內部期望接收到的是 UTF-8 位元組序列，這種不匹配導致了儲存時的亂碼。執行 <code>chcp 65001</code> 會將目前 CMD 視窗的活動字碼頁切換為 UTF-8，確保您輸入的字元能被正確地編碼後再傳遞給 Git。</p><div class="relative"><pre class="bg-slate-900/70 border border-slate-700 rounded-lg p-4 overflow-x-auto"><code class="language-bash">chcp 65001</code></pre><button class="copy-btn absolute top-2 right-2 px-3 py-1 text-sm rounded-md transition-all duration-200 bg-slate-600 hover:bg-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500 text-white hover:scale-105">複製</button></div><p class="mt-2 text-sm text-slate-400">注意：此指令僅在目前視窗有效。若要永久生效，需透過修改登錄檔等方式達成。</p>'},shell_env_vim:{level:2,title:"Shell 環境配置：設定 Vim 編輯器編碼",content:'<p class="mb-4"><strong>原理說明：</strong>當您執行不帶 <code>-m</code> 參數的 <code>git commit</code> 時，Git 會啟動一個文字編輯器 (預設為 Vim) 讓您輸入提交訊息。這時，亂碼問題就轉移到了 Vim 身上。我們需要確保 Vim 本身能夠正確地讀取、編輯並以 UTF-8 格式保存檔案。這些設定會告訴 Vim，預設使用 UTF-8 編碼，並且在開啟檔案時，優先嘗試以 UTF-8 或其他中文編碼來解讀內容。</p><p class="mb-2">您可以編輯位於 Git 安裝目錄下的 <code>etc/vimrc</code> 檔案，在末尾加入以下設定：</p><div class="relative"><pre class="bg-slate-900/70 border border-slate-700 rounded-lg p-4 overflow-x-auto"><code class="language-vim">set encoding=utf-8\nset fileencodings=utf-8,chinese,latin-1</code></pre><button class="copy-btn absolute top-2 right-2 px-3 py-1 text-sm rounded-md transition-all duration-200 bg-slate-600 hover:bg-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500 text-white hover:scale-105">複製</button></div>'},shell_env_ls:{level:2,title:"Shell 環境配置：修正 `ls` 指令顯示",content:'<p class="mb-4"><strong>原理說明：</strong>在 Git Bash 環境中，<code>ls</code> 指令有時無法正確處理包含中文的檔名，這是因為終端對「控制字元」的渲染方式不同。透過設定一個別名 (alias)，並加上 <code>--show-control-chars</code> 參數，可以強制 <code>ls</code> 指令將這些特殊字元以可見的形式輸出，進而讓大部分終端能正確顯示中文件名。</p><p class="mb-2">將以下內容加入您的 <code>~/.bashrc</code> 或 <code>C:\\Program Files\\Git\\etc\\bash.bashrc</code> 檔案中：</p><div class="relative"><pre class="bg-slate-900/70 border border-slate-700 rounded-lg p-4 overflow-x-auto"><code class="language-bash">alias ls=\'ls --show-control-chars --color=auto\'</code></pre><button class="copy-btn absolute top-2 right-2 px-3 py-1 text-sm rounded-md transition-all duration-200 bg-slate-600 hover:bg-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500 text-white hover:scale-105">複製</button></div>'},shell_env_locale:{level:2,title:"Shell 環境配置：設定 Shell 的語言環境 (LANG/LC_ALL)",content:'<p class="mb-4"><strong>原理說明：</strong>這是一個更通用、更底層的解決方案。<code>LANG</code> 或 <code>LC_ALL</code> 是類 Unix 環境 (如 Git Bash) 中用來定義程式執行階段語言和地區設定的環境變數，其中也包含了字元編碼的宣告。將其設定為 <code>C.UTF-8</code> 或 <code>en_US.UTF-8</code> 等包含 UTF-8 的值，等於向所有在這個 Shell 中執行的程式宣告：「我們的標準通訊語言是 UTF-8」。這能從源頭統一整個工具鏈的編碼行為，比逐一設定單個程式更加高效。</p><p class="mb-2">建議在 Windows 系統環境變數中新增一個變數，名稱為 <code>LC_ALL</code>，值為 <code>C.UTF-8</code>。</p>'},system_terminal:{level:3,title:"系統級變更：升級至 Windows Terminal",content:'<p class="mb-4"><strong>原理說明：</strong>傳統的 CMD 和舊版 PowerShell 在 Unicode 字元渲染和編碼處理上存在許多歷史包袱。而 <a href="https://aka.ms/terminal" target="_blank" rel="noopener noreferrer" class="text-sky-400 hover:text-sky-300 transition-colors focus-visible:outline-none focus-visible:underline">Windows Terminal</a> 是微軟推出的現代化終端應用，它從底層設計上就完整支援 UTF-8，擁有更強大的文字渲染引擎，能大幅減少因終端本身能力不足而導致的亂碼問題。它可以說是釜底抽薪的解決方案之一。</p><div class="relative"><p class="font-semibold mb-2">Windows Terminal 中的 Git Bash 命令列範例：</p><pre class="bg-slate-900/70 border border-slate-700 rounded-lg p-4 overflow-x-auto"><code class="language-bash">"C:\\Program Files\\Git\\bin\\bash.exe" --login -i</code></pre><button class="copy-btn absolute top-9 right-2 px-3 py-1 text-sm rounded-md transition-all duration-200 bg-slate-600 hover:bg-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-500 text-white hover:scale-105">複製</button></div>'},system_global:{level:3,title:"系統級變更：啟用 Windows 全域 UTF-8 支援",content:'<p class="mb-4"><strong>原理說明：</strong>這是 Windows 系統提供的一個「終極」解決方案。此選項會修改系統的預設 ANSI 字碼頁為 UTF-8。這意味著，所有那些原本依賴系統預設地區編碼 (如 CP950) 的「非 Unicode 程式」，都會被強制要求使用 UTF-8 來讀寫資料。這能解決大量舊程式的亂碼問題，但其影響範圍是全域性的。</p><ol class="list-decimal list-inside space-y-2"><li>開啟「控制台」 → 「時鐘和地區」 → 「地區」。</li><li>切換到「系統管理」分頁。</li><li>點選「變更系統地區設定」。</li><li>勾選「Beta: 使用 Unicode UTF-8 提供全球語言支援」。</li><li>重新啟動電腦。</li></ol><p class="mt-4 text-sm font-semibold text-amber-400/90">警告：由於這是一個全域性的 Beta 功能，它可能會導致某些設計上寫死依賴特定地區編碼 (如 Big5) 的舊版軟體無法正常運作。</p>'},ide_vscode:{level:4,title:"現代化工作流程：IDE 整合的力量 (以 Visual Studio Code 為例)",content:'<p class="mb-4">現代化的整合開發環境（IDE），如 Visual Studio Code，透過將原始碼控制管理深度整合，有效地解決了編碼問題。它將所有 Git 操作置於一個受控的、原生支援 UTF-8 的環境中進行。</p><h5 class="font-semibold mt-4 mb-2">VS Code 的特性：</h5><ul class="list-disc list-inside space-y-2 mb-4"><li><strong>內建 Git 支援：</strong>VS Code 開箱即用地支援 Git，它利用系統中安裝的 Git 執行檔，但自行管理使用者介面和文字顯示。</li><li><strong>預設 UTF-8：</strong>其編輯器和整合式終端都是圍繞 UTF-8 設計的，確保了在 SCM 檢視中輸入的提交訊息或編輯的檔案都能被正確處理。</li><li><strong>語言套件：</strong>VS Code 擁有廣泛的本地化支援，包括中文語言套件，確保了 UI 本身不會成為問題的來源。</li></ul><p class="text-sm text-slate-400"><strong>注意事項：</strong>儘管如此，仍有使用者回報在特定平台上，整合式終端與某些中文輸入法（IME）存在相容性問題，但這些通常是上游問題或有相應的解決方法。</p>'},best_practices:{level:4,title:"現代化工作流程：跨平台合作的長期最佳實踐",content:'<p class="mb-4">這意味著解決問題存在第三條路徑：不是修復舊的工具鏈，而是用一個現代化的、整合的工具鏈來完全取代它。對於許多使用者，特別是那些不傾向於進行深度系統設定的使用者來說，這是一個至關重要的戰略性建議。</p><ul class="list-disc list-inside space-y-3"><li><strong>標準化於 UTF-8：</strong>這是最重要的原則。確保所有文字檔案都以 UTF-8 編碼儲存。使用 .editorconfig 檔案在團隊中強制執行此規範。</li><li><strong>一致的設定：</strong>鼓勵所有團隊成員，無論使用何種作業系統，都設定核心的 Git i18n 和 core.quotepath 設定。</li><li><strong>儘可能避免非 ASCII 檔名：</strong>雖然技術上可解，但在檔名中僅使用 ASCII 字元仍然是避免與舊版工具或平台發生邊界案例問題的最安全方法。這是一種務實的、防禦性的策略。</li></ul>'}}};document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("solutions-container"),t=document.getElementById("encoding-flow-diagram");if(!e||!t)return void console.error("初始化錯誤：一個或多個必要的 HTML 容器元素未找到。");const s=["⌨️ 鍵盤輸入","⚙️ Shell 處理","🗃️ Git 核心","📄 分頁器 (less)","🖥️ 終端渲染"];t.innerHTML="",s.forEach((e,o)=>{const l=document.createElement("div");if(l.className="flow-stage text-slate-300 bg-slate-700/50 border-slate-600",l.textContent=e,t.appendChild(l),o<s.length-1){const e=document.createElement("div");e.className="flow-arrow text-slate-500",e.innerHTML="&rarr;",t.appendChild(e)}}),e.innerHTML="",data.symptoms.forEach(t=>{const o=document.createElement("article");o.className="fade-in-up bg-slate-800 border border-slate-700 p-6 md:p-8 rounded-2xl shadow-lg";const l=t.flowHighlight.map(e=>s[e]).join(' <span class="text-slate-500 mx-1">→</span> ');let i="";t.solutions.forEach((e,t)=>{const s=data.solutions[e];i+=`\n                            <div class="solution-block ${t>0?"border-t border-slate-700 mt-6 pt-6":""}">\n                                <h4 class="font-semibold text-xl mb-3 text-sky-400">Level ${s.level}: ${s.title.split("：")[1]}</h4>\n                                <div class="prose prose-slate prose-invert max-w-none text-slate-300 prose-code:text-amber-300 prose-strong:text-slate-100 prose-a:text-sky-400 hover:prose-a:text-sky-300">${s.content}</div>\n                            </div>\n                        `}),o.innerHTML=`\n                        <header>\n                          <h3 class="text-2xl font-bold mb-2 text-white">${t.title}</h3>\n                          <p class="text-slate-400 mb-4">${t.description}</p>\n                          <div class="mb-6 p-3 bg-red-900/40 border border-red-500/50 rounded-lg">\n                              <h4 class="font-semibold text-red-300">🔴 問題環節</h4>\n                              <p class="text-red-300 mt-1 font-mono tracking-wide text-sm">${l}</p>\n                          </div>\n                        </header>\n                        <div class="mt-6">\n                            ${i}\n                        </div>\n                    `,e.appendChild(o)}),document.querySelectorAll(".copy-btn").forEach(e=>{e.addEventListener("click",t=>{const s=e.closest(".relative");if(!s)return;const o=s.querySelector("pre");if(!o)return;let l=o.innerText;navigator.clipboard.writeText(l).then(()=>{e.textContent="已複製!",e.classList.add("bg-sky-500"),setTimeout(()=>{e.textContent="複製",e.classList.remove("bg-sky-500")},2e3)}).catch(e=>{console.error("無法複製到剪貼簿:",e)})})}),function(){const e=document.querySelectorAll(".fade-in-up");if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return void e.forEach(e=>{e.classList.add("is-visible")});const t=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("is-visible"),t.unobserve(e.target))})},{rootMargin:"0px",threshold:.1});e.forEach(e=>t.observe(e))}()})</script>