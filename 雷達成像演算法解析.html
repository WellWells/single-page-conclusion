<!doctypehtml><html lang="zh-Hant"><meta name="twitter:image"content="https://wellstsai.com/single-page-conclusion/%E9%9B%B7%E9%81%94%E6%88%90%E5%83%8F%E6%BC%94%E7%AE%97%E6%B3%95%E8%A7%A3%E6%9E%90.png"><meta name="twitter:description"content="解析合成孔徑雷達（SAR）RMA/Omega-K 演算法與程式實作：從數據採集、背景減法、相位校正到 K 空間、Stolt 內插與 FFT 聚焦，重建清晰影像。"><meta name="twitter:title"content="雷達成像演算法解析"><meta name="twitter:card"content="summary_large_image"><meta property="og:type"content="article"><meta property="og:site_name"content="WellWells"><meta property="og:image"content="https://wellstsai.com/single-page-conclusion/%E9%9B%B7%E9%81%94%E6%88%90%E5%83%8F%E6%BC%94%E7%AE%97%E6%B3%95%E8%A7%A3%E6%9E%90.png"><meta property="og:url"content="https://wellstsai.com/single-page-conclusion/%E9%9B%B7%E9%81%94%E6%88%90%E5%83%8F%E6%BC%94%E7%AE%97%E6%B3%95%E8%A7%A3%E6%9E%90.html"><meta property="og:description"content="解析合成孔徑雷達（SAR）RMA/Omega-K 演算法與程式實作：從數據採集、背景減法、相位校正到 K 空間、Stolt 內插與 FFT 聚焦，重建清晰影像。"><meta property="og:title"content="雷達成像演算法解析"><meta name="description"content="解析合成孔徑雷達（SAR）RMA/Omega-K 演算法與程式實作：從數據採集、背景減法、相位校正到 K 空間、Stolt 內插與 FFT 聚焦，重建清晰影像。"><meta charset="UTF-8"><meta name="viewport"content="width=device-width,initial-scale=1"><title>雷達成像演算法解析</title><script src="https://cdn.tailwindcss.com"></script><style>:root{--bg-main:#f8f7f2;--text-main:#3a3a3a;--text-secondary:#5a5a5a;--accent:#d97706;--highlight-bg:#e0f2fe;--highlight-border:#38bdf8;--border-color:#e5e7eb}body{font-family:Inter,'微軟正黑體','Microsoft JhengHei',sans-serif;background-color:var(--bg-main);color:var(--text-main)}.highlight{background-color:var(--highlight-bg);border-left:4px solid var(--highlight-border);transition:all .3s ease-in-out;transform:scale(1.02)}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-track{background:var(--border-color)}::-webkit-scrollbar-thumb{background:#9ca3af;border-radius:4px}::-webkit-scrollbar-thumb:hover{background:#6b7280}html{scroll-behavior:smooth}.scan-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:4px}.scan-cell{width:20px;height:20px;background-color:#e5e7eb;border-radius:2px;animation-duration:4s;animation-iteration-count:infinite;animation-timing-function:steps(1,end)}@keyframes scan-fill-1{0%,100%{background-color:#e5e7eb}50%{background-color:#0ea5e9}}@keyframes scan-fill-2{0%,100%{background-color:#e5e7eb}50%{background-color:#14b8a6}}@keyframes scan-fill-3{0%,100%{background-color:#e5e7eb}50%{background-color:#10b981}}@keyframes scan-fill-4{0%,100%{background-color:#e5e7eb}50%{background-color:#f59e0b}}@keyframes scan-fill-5{0%,100%{background-color:#e5e7eb}50%{background-color:#f43f5e}}.scan-color-1{animation-name:scan-fill-1}.scan-color-2{animation-name:scan-fill-2}.scan-color-3{animation-name:scan-fill-3}.scan-color-4{animation-name:scan-fill-4}.scan-color-5{animation-name:scan-fill-5}.scan-cell:first-child{animation-delay:0ms}.scan-cell:nth-child(2){animation-delay:.1s}.scan-cell:nth-child(3){animation-delay:.2s}.scan-cell:nth-child(4){animation-delay:.3s}.scan-cell:nth-child(5){animation-delay:.4s}.scan-cell:nth-child(10){animation-delay:.5s}.scan-cell:nth-child(9){animation-delay:.6s}.scan-cell:nth-child(8){animation-delay:.7s}.scan-cell:nth-child(7){animation-delay:.8s}.scan-cell:nth-child(6){animation-delay:.9s}.scan-cell:nth-child(11){animation-delay:1s}.scan-cell:nth-child(12){animation-delay:1.1s}.scan-cell:nth-child(13){animation-delay:1.2s}.scan-cell:nth-child(14){animation-delay:1.3s}.scan-cell:nth-child(15){animation-delay:1.4s}.scan-cell:nth-child(20){animation-delay:1.5s}.scan-cell:nth-child(19){animation-delay:1.6s}.scan-cell:nth-child(18){animation-delay:1.7s}.scan-cell:nth-child(17){animation-delay:1.8s}.scan-cell:nth-child(16){animation-delay:1.9s}</style><script async src="https://www.googletagmanager.com/gtag/js?id=G-JKC4KZLT26"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JKC4KZLT26")</script><body class="antialiased"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"><header class="text-center mb-12"><h1 class="text-4xl md:text-5xl font-extrabold tracking-tight text-gray-900">雷達成像演算法解析</h1><p class="mt-4 max-w-3xl mx-auto text-lg text-gray-600">本頁面將逐步拆解一段用於合成孔徑雷達 (SAR) 成像的程式碼，解釋從原始數據到最終成像的完整流程。</header><div class="flex flex-col lg:flex-row gap-8"><aside class="lg:w-1/4 lg:sticky lg:top-8 self-start"><nav class="bg-white p-4 rounded-lg shadow-sm border border-gray-200"><h3 class="font-bold text-lg mb-4 text-gray-800">導覽</h3><ul class="space-y-2"><li><a href="#overview"class="nav-link block px-3 py-2 rounded-md text-gray-700 hover:bg-gray-100 font-medium">總覽與流程</a><li><a href="#flowchart"class="nav-link block px-3 py-2 rounded-md text-gray-700 hover:bg-gray-100 font-medium">演算法流程圖</a><li><a href="#kspace-explainer"class="nav-link block px-3 py-2 rounded-md text-gray-700 hover:bg-gray-100 font-medium">核心概念：K 空間</a><li><a href="#parameters"class="nav-link block px-3 py-2 rounded-md text-gray-700 hover:bg-gray-100 font-medium">1. 參數設定</a><li><a href="#acquisition"class="nav-link block px-3 py-2 rounded-md text-gray-700 hover:bg-gray-100 font-medium">2. 數據採集與預處理</a><li><a href="#reformatting"class="nav-link block px-3 py-2 rounded-md text-gray-700 hover:bg-gray-100 font-medium">3. 掃描數據重整</a><li><a href="#reconstruction"class="nav-link block px-3 py-2 rounded-md text-gray-700 hover:bg-gray-100 font-medium">4. 核心重建演算法</a><li><a href="#imaging"class="nav-link block px-3 py-2 rounded-md text-gray-700 hover:bg-gray-100 font-medium">5. 圖像生成與繪製</a></ul></nav></aside><main class="lg:w-3/4 space-y-16"><section id="overview"class="content-section bg-white p-8 rounded-lg shadow-sm border border-gray-200"><h2 class="text-2xl font-bold text-amber-600 mb-4">總覽與流程</h2><p class="text-gray-700 mb-6">此程式碼實現了一種基於傅立葉變換的合成孔徑雷達 (SAR) 成像演算法，通常稱為<span class="font-semibold text-amber-700">距離遷移演算法 (Range Migration Algorithm, RMA)</span> 或 <span class="font-semibold text-amber-700">Omega-K (ω-k) 演算法</span>。其核心目標是將從二維平面掃描收集到的一系列雷達回波信號，通過精密的信號處理步驟，合成為一張高解析度的二維圖像。<div class="space-y-4"><h3 class="text-xl font-semibold text-gray-800">核心處理流程：</h3><div class="flex flex-col md:flex-row items-center justify-between space-y-4 md:space-y-0 md:space-x-4 text-center"><div class="p-4 bg-gray-50 rounded-lg flex-1"><span class="text-2xl">📡</span><h4 class="font-bold mt-1">原始數據</h4><p class="text-sm text-gray-600">讀取雷達回波與背景信號</div><div class="text-gray-400 font-bold text-2xl">→</div><div class="p-4 bg-gray-50 rounded-lg flex-1"><span class="text-2xl">🔧</span><h4 class="font-bold mt-1">預處理</h4><p class="text-sm text-gray-600">背景相減、相位校準、數據重整</div><div class="text-gray-400 font-bold text-2xl">→</div><div class="p-4 bg-gray-50 rounded-lg flex-1"><span class="text-2xl">🔢</span><h4 class="font-bold mt-1">頻域轉換</h4><p class="text-sm text-gray-600">透過 2D-FFT 進入 K 空間</div><div class="text-gray-400 font-bold text-2xl">→</div><div class="p-4 bg-gray-50 rounded-lg flex-1"><span class="text-2xl">✨</span><h4 class="font-bold mt-1">Stolt 內插</h4><p class="text-sm text-gray-600">關鍵步驟：將非均勻網格重採樣</div><div class="text-gray-400 font-bold text-2xl">→</div><div class="p-4 bg-gray-50 rounded-lg flex-1"><span class="text-2xl">🖼️</span><h4 class="font-bold mt-1">逆轉換成像</h4><p class="text-sm text-gray-600">透過 2D-IFFT 重建成像</div></div></div></section><section id="flowchart"class="content-section bg-white p-8 rounded-lg shadow-sm border border-gray-200"><h2 class="text-2xl font-bold text-amber-600 mb-4">演算法流程圖</h2><p class="text-gray-700 mb-6">下圖詳細展示了從原始數據到最終成像的完整信號處理鏈路。<div class="flex flex-col items-center space-y-2"><div class="bg-sky-50 border-2 border-sky-200 rounded-lg p-3 w-full max-w-xl text-center shadow-sm"><p class="font-semibold text-sky-800">讀取 RAW 檔案</div><div class="text-2xl font-light text-gray-400">↓</div><div class="bg-sky-50 border-2 border-sky-200 rounded-lg p-3 w-full max-w-xl text-center shadow-sm"><p class="font-semibold text-sky-800">重塑 reshape 為 (fast-time × slow-time)</div><div class="text-2xl font-light text-gray-400">↓</div><div class="bg-sky-50 border-2 border-sky-200 rounded-lg p-3 w-full max-w-xl text-center shadow-sm"><p class="font-semibold text-sky-800">背景減法: sdata_time = raw - bkg</div><div class="text-2xl font-light text-gray-400">↓</div><div class="bg-sky-50 border-2 border-sky-200 rounded-lg p-3 w-full max-w-xl text-center shadow-sm"><p class="font-semibold text-sky-800">相位中心校正 (phase-center calibration)</div><div class="text-2xl font-light text-gray-400">↓</div><div class="bg-sky-50 border-2 border-sky-200 rounded-lg p-3 w-full max-w-xl text-center shadow-sm"><p class="font-semibold text-sky-800">重排 raster scan → 3D array F1(Mx,My,N)</div><div class="text-2xl font-light text-gray-400">↓</div><div class="bg-teal-50 border-2 border-teal-200 rounded-lg p-3 w-full max-w-xl text-center shadow-sm"><p class="font-semibold text-teal-800">2D 空間 FFT (ftx, fty) → F2(kx, ky, Kr)</div><div class="text-2xl font-light text-gray-400">↓</div><div class="bg-teal-50 border-2 border-teal-200 rounded-lg p-3 w-full max-w-xl text-center shadow-sm"><p class="font-semibold text-teal-800">計算 k 空間; 以<span class="font-bold">矩形遮罩</span>近似光錐截斷</div><div class="text-2xl font-light text-gray-400">↓</div><div class="bg-amber-50 border-2 border-amber-200 rounded-lg p-3 w-full max-w-xl text-center shadow-sm"><p class="font-semibold text-amber-800">1D 線性內插 (interp1): 將非均勻 kz 插值到均勻 kz → fhat</div><div class="text-2xl font-light text-gray-400">↓</div><div class="bg-teal-50 border-2 border-teal-200 rounded-lg p-3 w-full max-w-xl text-center shadow-sm"><p class="font-semibold text-teal-800">Kz → Z 轉換 (1D-FFT) → fhat_F</div><div class="text-2xl font-light text-gray-400">↓</div><div class="bg-rose-50 border-2 border-rose-200 rounded-lg p-3 w-full max-w-xl text-center shadow-sm"><p class="font-semibold text-rose-800">zero-pad → 2D IFFT (iftx, ifty) → fhat3</div><div class="text-2xl font-light text-gray-400">↓</div><div class="bg-rose-50 border-2 border-rose-200 rounded-lg p-3 w-full max-w-xl text-center shadow-sm"><p class="font-semibold text-rose-800">計算影像座標 (xIm,yIm,z) 並顯示影像</div></div></section><section id="kspace-explainer"class="content-section bg-white p-8 rounded-lg shadow-sm border border-gray-200"><h2 class="text-2xl font-bold text-amber-600 mb-4">核心概念：什麼是 K 空間 (K-Space)？</h2><p class="text-gray-700 mb-6">在深入程式碼細節之前，理解「K 空間」是至關重要的。簡單來說，K 空間並不是我們實際所見的物理空間，而是影像的<span class="font-semibold text-amber-700">頻率藍圖</span>。所有雷達的原始回波數據都是在這個 K 空間中被收集和組織的，而成像的過程，本質上就是將這份藍圖透過數學方法（逆傅立葉變換）「沖洗」成我們能看到的圖像。<div class="space-y-6"><div class="bg-gray-50 p-4 rounded-lg border-l-4 border-gray-300"><h3 class="font-semibold text-lg text-gray-800 mb-2">🗺️ K 空間的構成：中心 vs. 外圍</h3><p class="text-gray-600">K 空間中的每個點都代表了圖像中一個特定的「空間頻率」。<ul class="list-disc list-inside mt-2 space-y-1 text-gray-600"><li><strong>K 空間中心 (低頻)：</strong> 儲存了圖像的<span class="font-semibold text-amber-700">整體對比和亮度</span>資訊。這裡的數據能量最強，決定了圖像的大致輪廓和基本樣貌。<li><strong>K 空間外圍 (高頻)：</strong> 儲存了圖像的<span class="font-semibold text-amber-700">細節、邊緣和紋理</span>資訊。這裡的數據能量較弱，但決定了圖像的清晰度和解析度。</ul></div><div class="bg-gray-50 p-4 rounded-lg border-l-4 border-gray-300"><h3 class="font-semibold text-lg text-gray-800 mb-2">📡 雷達如何「繪製」K 空間？</h3><p class="text-gray-600">與 MRI 使用磁場梯度不同，SAR 雷達是透過<span class="font-semibold text-amber-700">自身的移動</span>和<span class="font-semibold text-amber-700">信號的頻率變化</span>來填充 K 空間的：<ul class="list-disc list-inside mt-2 space-y-1 text-gray-600"><li><strong>方位向 (kx, ky)：</strong> 雷達在 XY 平面上的<span class="font-semibold text-amber-700">物理移動掃描</span>，對應了 K 空間中 `kx` 和 `ky` 軸的採樣。<li><strong>距離向 (kz)：</strong> 雷達發射的<span class="font-semibold text-amber-700">啁啾信號 (Chirp) 的頻率變化</span>，經過處理後，對應了 K 空間中 `kz` 軸的採樣。</ul></div><div class="bg-gray-50 p-4 rounded-lg border-l-4 border-gray-300"><h3 class="font-semibold text-lg text-gray-800 mb-2">💡 為什麼需要 Stolt 內插？</h3><p class="text-gray-600">正是因為上述的採樣方式，雷達收集到的數據在 K 空間中並不是一個規整的矩形網格，而是一個<span class="font-semibold text-amber-700">彎曲的弧面</span>。然而，最高效的成像演算法—快速傅立葉變換 (FFT)—只能處理規整的矩形網格數據。<p class="text-gray-600 mt-2">因此，<span class="font-semibold text-amber-700">Stolt 內插</span>這個關鍵步驟的目的，就是透過數學計算，將這個<span class="font-semibold text-amber-700">彎曲弧面上的數據點，精確地重採樣 (resample) 到一個虛擬的、規整的矩形網格上</span>。完成了這一步，我們才能使用 IFFT 將 K 空間數據成功轉換為清晰、無失真的圖像。</div></div><div class="mt-6 text-center p-4 bg-amber-50 rounded-lg"><p class="font-semibold text-amber-800">一句話總結：K 空間是雷達原始數據的儲存庫，而成像演算法的核心任務，就是將這個庫中非規整的數據，校正並轉換為我們看得懂的物理圖像。</div></section><section id="parameters"class="content-section bg-white p-8 rounded-lg shadow-sm border border-gray-200"><h2 class="text-2xl font-bold text-amber-600 mb-4">1. 參數設定</h2><p class="text-gray-700 mb-6">在進行任何處理之前，程式碼首先定義了雷達系統的物理特性和信號採集的參數。這些參數是整個演算法的基礎，決定了最終圖像的解析度和成像範圍。<div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="bg-gray-50 p-4 rounded-md border border-gray-200"><h4 class="font-bold text-gray-800">雷達系統參數</h4><ul class="mt-2 text-sm text-gray-600 space-y-1"><li><span class="font-semibold">帶寬 (fBW):</span> 8 GHz<li><span class="font-semibold">載波頻率 (fc):</span> 79.6 GHz<li><span class="font-semibold">天線波束寬度 (theta_b):</span> 60 度<li><span class="font-semibold">距離解析度 (RR):</span> ~1.875 cm</ul></div><div class="bg-gray-50 p-4 rounded-md border border-gray-200"><h4 class="font-bold text-gray-800">時間域參數</h4><ul class="mt-2 text-sm text-gray-600 space-y-1"><li><span class="font-semibold">採樣率 (fs):</span> 50 MHz ("快時間")<li><span class="font-semibold">脈衝持續時間 (T):</span> 48 µs<li><span class="font-semibold">掃描點數 (M):</span> 63001 ("慢時間")<li><span class="font-semibold">掃描間隔 (spacing):</span> 1.6 mm</ul></div></div><p class="mt-4 text-sm text-gray-500">"快時間" (Fast-Time) 指的是單次雷達脈衝回波的採集時間，它決定了距離維度的資訊。"慢時間" (Slow-Time) 則對應雷達在空間中移動掃描時的採集時間點，它決定了方位維度的資訊。</section><section id="acquisition"class="content-section bg-white p-8 rounded-lg shadow-sm border border-gray-200"><h2 class="text-2xl font-bold text-amber-600 mb-4">2. 數據採集與預處理</h2><p class="text-gray-700 mb-6">此階段從檔案讀取原始二進制數據，並進行初步的清理和校準，為後續的複雜處理做準備。<ul class="space-y-4"><li class="flex items-start"><div class="flex-shrink-0 w-8 h-8 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center font-bold">1</div><div class="ml-4"><h4 class="font-bold">讀取原始數據</h4><p class="text-gray-600">從原始檔案中讀取目標測量信號和背景信號。</div><li class="flex items-start"><div class="flex-shrink-0 w-8 h-8 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center font-bold">2</div><div class="ml-4"><h4 class="font-bold">背景相減</h4><p class="text-gray-600">將目標信號減去背景信號。這是一個關鍵步驟，用以消除由系統內部反射或靜態環境造成的固定雜波，凸顯移動目標或感興趣的物體。</div><li class="flex items-start"><div class="flex-shrink-0 w-8 h-8 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center font-bold">3</div><div class="ml-4"><h4 class="font-bold">相位中心校準</h4><p class="text-gray-600">應用一個相位校正因子。這是為了補償天線發射與接收相位中心之間的物理偏移。如果不進行校準，圖像會出現散焦或變形。</div></ul></section><section id="reformatting"class="content-section bg-white p-8 rounded-lg shadow-sm border border-gray-200"><h2 class="text-2xl font-bold text-amber-600 mb-4">3. 掃描數據重整</h2><p class="text-gray-700 mb-6">原始數據是按照雷達的物理掃描路徑（光柵掃描，即 "蛇行" 路徑）儲存的。為了進行基於傅立葉變換的二維處理，必須將這些一維的數據流重新排列成一個對應物理空間 (X, Y) 的二維網格。<div class="bg-gray-50 p-6 rounded-lg border border-gray-200"><h4 class="font-bold text-lg text-center mb-4">光柵掃描 (Raster Scan) 到 XY 網格的轉換</h4><p class="text-gray-600 text-center mb-4">程式碼中的迴圈會將 "蛇行" 的採集順序還原為規整的矩形網格。下面的動畫展示了這個過程：<div class="flex items-center justify-center space-x-8"><div class="text-center"><div class="scan-grid mx-auto"><div class="scan-cell scan-color-1"></div><div class="scan-cell scan-color-1"></div><div class="scan-cell scan-color-1"></div><div class="scan-cell scan-color-1"></div><div class="scan-cell scan-color-1"></div><div class="scan-cell scan-color-2"></div><div class="scan-cell scan-color-2"></div><div class="scan-cell scan-color-2"></div><div class="scan-cell scan-color-2"></div><div class="scan-cell scan-color-2"></div><div class="scan-cell scan-color-3"></div><div class="scan-cell scan-color-3"></div><div class="scan-cell scan-color-3"></div><div class="scan-cell scan-color-3"></div><div class="scan-cell scan-color-3"></div><div class="scan-cell scan-color-4"></div><div class="scan-cell scan-color-4"></div><div class="scan-cell scan-color-4"></div><div class="scan-cell scan-color-4"></div><div class="scan-cell scan-color-4"></div></div><p class="text-sm mt-2 text-gray-600">原始掃描順序</div><div class="text-gray-400 font-bold text-2xl self-center pb-6">➔</div><div class="text-center"><div class="grid grid-cols-5 gap-1 mx-auto"><div class="w-5 h-5 bg-sky-500 rounded-sm"></div><div class="w-5 h-5 bg-sky-500 rounded-sm"></div><div class="w-5 h-5 bg-sky-500 rounded-sm"></div><div class="w-5 h-5 bg-sky-500 rounded-sm"></div><div class="w-5 h-5 bg-sky-500 rounded-sm"></div><div class="w-5 h-5 bg-teal-500 rounded-sm"></div><div class="w-5 h-5 bg-teal-500 rounded-sm"></div><div class="w-5 h-5 bg-teal-500 rounded-sm"></div><div class="w-5 h-5 bg-teal-500 rounded-sm"></div><div class="w-5 h-5 bg-teal-500 rounded-sm"></div><div class="w-5 h-5 bg-emerald-500 rounded-sm"></div><div class="w-5 h-5 bg-emerald-500 rounded-sm"></div><div class="w-5 h-5 bg-emerald-500 rounded-sm"></div><div class="w-5 h-5 bg-emerald-500 rounded-sm"></div><div class="w-5 h-5 bg-emerald-500 rounded-sm"></div><div class="w-5 h-5 bg-amber-500 rounded-sm"></div><div class="w-5 h-5 bg-amber-500 rounded-sm"></div><div class="w-5 h-5 bg-amber-500 rounded-sm"></div><div class="w-5 h-5 bg-amber-500 rounded-sm"></div><div class="w-5 h-5 bg-amber-500 rounded-sm"></div></div><p class="text-sm mt-2 text-gray-600">重整後 XY 網格</div></div></div></section><section id="reconstruction"class="content-section bg-white p-8 rounded-lg shadow-sm border border-gray-200"><h2 class="text-2xl font-bold text-amber-600 mb-4">4. 核心重建演算法</h2><p class="text-gray-700 mb-6">這是整個程式碼最核心、最複雜的部分。它透過一系列在頻域（K 空間）的操作，將收集到的數據聚焦成清晰的圖像。<div class="space-y-8"><div><h3 class="font-semibold text-xl mb-2 text-gray-800">步驟 4.1: 進入 K 空間 (2D-FFT)</h3><p class="text-gray-600">對重整後的 XY 空間數據進行二維快速傅立葉變換。這一步將數據從空間域 (x, y) 轉換到空間頻率域 (kx, ky)，也就是俗稱的 K 空間。在 K 空間中，目標的能量分佈與其空間結構有著直接的對應關係。</div><div><h3 class="font-semibold text-xl mb-2 text-gray-800">步驟 4.2: Stolt 內插 (重採樣)</h3><p class="text-gray-600">這是 RMA 演算法的精髓。經過 2D-FFT 後，數據在 K 空間中是分佈在一個非均勻的、類似於球面或弧形的網格上。然而，要使用高效的逆傅立葉變換 (IFFT) 來重建圖像，數據必須位於一個均勻的笛卡爾（矩形）網格上。<p class="text-gray-600 mt-2">程式碼透過<span class="font-semibold">一維線性內插 (interp1)</span>，將每個位置上的非均勻採樣點的值，映射到一個預先定義好的均勻 Kz 軸上。這個過程被稱為 "Stolt Migration" 或 "Stolt Interpolation"，它校正了由雷達波傳播引起的相位扭曲，實現了完美的聚焦。(註：非均勻快速傅立葉變換 NUFFT 是此步驟另一種更高效的替代方案)。<div class="mt-4 bg-gray-50 p-4 rounded-lg border border-gray-200 flex items-center justify-around"><div class="text-center"><p class="font-bold">原始 K 空間數據<p class="text-2xl mt-2">∷<p class="text-sm text-gray-500">(非均勻網格)</div><div class="text-amber-600 font-bold text-2xl">→ <span class="text-sm block">內插</span> →</div><div class="text-center"><p class="font-bold">重採樣後數據<p class="text-2xl mt-2">⠿<p class="text-sm text-gray-500">(均勻網格)</div></div></div><div><h3 class="font-semibold text-xl mb-2 text-gray-800">步驟 4.3: Kz 空間至 Z 空間轉換 (1D-FFT)</h3><p class="text-gray-600">對重採樣後的 K 空間數據，沿著 `kz` 維度進行一次一維傅立葉變換。這一步將數據從空間頻率 `kz` 軸轉換到物理<span class="font-semibold">距離 z 軸</span>，完成了距離向的聚焦。<div class="mt-4 bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg"><h4 class="font-bold text-blue-800">變數解析：`fhat_F`</h4><p class="text-blue-700 text-sm">這個變數代表「混合空間數據」。它的 X 和 Y 維度仍在頻率域 (`kx`, `ky`)，但 Z 維度已透過 FFT 轉換回空間域 (`z`)。您可以將它想像成一個在<span class="font-semibold">距離向已經聚焦</span>，但在方位向仍是模糊的<span class="font-semibold">半成品</span>數據。</div></div></div></section><section id="imaging"class="content-section bg-white p-8 rounded-lg shadow-sm border border-gray-200"><h2 class="text-2xl font-bold text-amber-600 mb-4">5. 圖像生成與繪製</h2><p class="text-gray-700 mb-6">最後一步是將經過完美聚焦的 K 空間數據轉換回我們能看到的圖像空間。<ul class="space-y-4"><li class="flex items-start"><div class="flex-shrink-0 w-8 h-8 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center font-bold">1</div><div class="ml-4"><h4 class="font-bold">零填充 (Zero Padding)</h4><p class="text-gray-600">在進行逆轉換前，對數據進行零填充。這在信號處理中相當於增加了採樣點，可以使最終的圖像看起來更平滑（內插效果），提高視覺品質。</div><li class="flex items-start"><div class="flex-shrink-0 w-8 h-8 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center font-bold">2</div><div class="ml-4"><h4 class="font-bold">返回圖像空間 (2D-IFFT)</h4><p class="text-gray-600">對填充後的數據執行二維逆快速傅立葉變換，將數據從 K 空間 (kx, ky) 轉換回圖像空間 (x, y)。至此，重建後的複數圖像數據已經生成。<div class="mt-4 bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg"><h4 class="font-bold text-blue-800">變數解析：`fhat3`</h4><p class="text-blue-700 text-sm">這個變數是演算法的最終輸出，代表「最終圖像空間數據」。它的所有維度 (`x`, `y`, `z`) 都已回到物理空間，是一個<span class="font-semibold">完全聚焦</span>的<span class="font-semibold">完成品</span>。這個三維複數矩陣的絕對值就代表了空間中每個點的反射強度。</div></div><li class="flex items-start"><div class="flex-shrink-0 w-8 h-8 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center font-bold">3</div><div class="ml-4"><h4 class="font-bold">繪製圖像</h4><p class="text-gray-600">取重建後複數數據的絕對值，並<span class="font-semibold">擷取特定距離的單一切片</span> (例如 z=20)，得到一個二維的強度分佈圖。最後使用程式函數將其繪製成最終的雷達成像結果。</div></ul></section></main></div></div><footer class="mt-20 py-8 border-t border-gray-200"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center text-gray-500"><a href="https://wellstsai.com"target="_blank"rel="noopener noreferrer"class="text-sm hover:text-amber-600 focus:text-amber-600 focus:outline-none focus:ring-2 focus:ring-amber-400 rounded-md transition-colors duration-300">Generated by wellstsai.com</a></div></footer><script>document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelectorAll(".nav-link");document.querySelectorAll(".content-section");let e=null;t.forEach(t=>{t.addEventListener("click",t=>{t.preventDefault();const n=t.currentTarget.getAttribute("href").substring(1);document.getElementById(n).scrollIntoView({behavior:"smooth",block:"start"}),function(t){e&&e.classList.remove("highlight");const n=document.getElementById(t);n&&(n.classList.add("highlight"),e=n,setTimeout(()=>{n.classList.remove("highlight")},1500))}(n)})})})</script>