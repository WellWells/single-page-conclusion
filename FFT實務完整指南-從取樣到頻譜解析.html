<!doctypehtml><html lang="zh-Hant"><meta name="twitter:image"content="https://wellstsai.com/single-page-conclusion/FFT%E5%AF%A6%E5%8B%99%E5%AE%8C%E6%95%B4%E6%8C%87%E5%8D%97-%E5%BE%9E%E5%8F%96%E6%A8%A3%E5%88%B0%E9%A0%BB%E8%AD%9C%E8%A7%A3%E6%9E%90.png"><meta name="twitter:description"content="系統性整理 FFT 頻譜分析的核心知識與實務操作，從取樣定理、FFT 參數設定、訊號特性影響，到補零與內插的關係皆有深入探討。同時強調實務流程中的關鍵步驟與常見陷阱，包括加窗、能量歸一化與功率譜估計，協助讀者從理論理解到工程應用，完整掌握 FFT 的原理與操作技巧。"><meta name="twitter:title"content="FFT 實務完整指南：從取樣到頻譜解析"><meta name="twitter:card"content="summary_large_image"><meta property="og:type"content="article"><meta property="og:site_name"content="WellWells"><meta property="og:image"content="https://wellstsai.com/single-page-conclusion/FFT%E5%AF%A6%E5%8B%99%E5%AE%8C%E6%95%B4%E6%8C%87%E5%8D%97-%E5%BE%9E%E5%8F%96%E6%A8%A3%E5%88%B0%E9%A0%BB%E8%AD%9C%E8%A7%A3%E6%9E%90.png"><meta property="og:url"content="https://wellstsai.com/single-page-conclusion/FFT%E5%AF%A6%E5%8B%99%E5%AE%8C%E6%95%B4%E6%8C%87%E5%8D%97-%E5%BE%9E%E5%8F%96%E6%A8%A3%E5%88%B0%E9%A0%BB%E8%AD%9C%E8%A7%A3%E6%9E%90.html"><meta property="og:description"content="系統性整理 FFT 頻譜分析的核心知識與實務操作，從取樣定理、FFT 參數設定、訊號特性影響，到補零與內插的關係皆有深入探討。同時強調實務流程中的關鍵步驟與常見陷阱，包括加窗、能量歸一化與功率譜估計，協助讀者從理論理解到工程應用，完整掌握 FFT 的原理與操作技巧。"><meta property="og:title"content="FFT 實務完整指南：從取樣到頻譜解析"><meta name="description"content="系統性整理 FFT 頻譜分析的核心知識與實務操作，從取樣定理、FFT 參數設定、訊號特性影響，到補零與內插的關係皆有深入探討。同時強調實務流程中的關鍵步驟與常見陷阱，包括加窗、能量歸一化與功率譜估計，協助讀者從理論理解到工程應用，完整掌握 FFT 的原理與操作技巧。"><meta charset="UTF-8"><meta name="viewport"content="width=device-width,initial-scale=1"><title>FFT 實務完整指南：從取樣到頻譜解析</title><script src="https://cdn.tailwindcss.com"></script><script src="https://cdn.jsdelivr.net/npm/chart.js@4.5.0/dist/chart.umd.min.js"></script><link rel="preconnect"href="https://fonts.googleapis.com"><link rel="preconnect"href="https://fonts.gstatic.com"crossorigin><link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap"rel="stylesheet"><style>html{scroll-behavior:smooth}body{font-family:'Noto Sans TC',sans-serif;background-color:#f4f4f5;color:#3f3f46}.nav-link{transition:color .3s,border-color .3s}.nav-link.active,.nav-link:hover{color:#0d9488;border-bottom-color:#0d9488}.card{background-color:#fff;border-radius:.75rem;box-shadow:0 4px 6px -1px rgb(0 0 0 / .1),0 2px 4px -2px rgb(0 0 0 / .1);transition:transform .3s,box-shadow .3s}.card:hover{transform:translateY(-5px);box-shadow:0 10px 15px -3px rgb(0 0 0 / .1),0 4px 6px -4px rgb(0 0 0 / .1)}.btn{padding:.5rem 1rem;font-weight:500;transition:background-color .3s,color .3s,border-color .3s;border:1px solid #d4d4d8}.btn-group>.btn{background-color:#e4e4e7;color:#3f3f46}.btn-group>.btn:hover{background-color:#d4d4d8}.btn-group>.btn.active{background-color:#0d9488;color:#fff;border-color:#0d9488}.chart-container{position:relative;width:100%;max-width:700px;margin-left:auto;margin-right:auto;height:300px;max-height:40vh}@media (min-width:768px){.chart-container{height:400px}}code{background-color:#e4e4e7;padding:.1em .4em;border-radius:.25rem;font-size:.9em;font-family:monospace}.workflow-arrow{display:inline-block;margin:0 .5rem;color:#9ca3af}</style><script async src="https://www.googletagmanager.com/gtag/js?id=G-JKC4KZLT26"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JKC4KZLT26")</script><body class="antialiased"><header class="bg-white shadow-sm sticky top-0 z-50"><nav class="container mx-auto px-4 py-3 flex justify-between items-center"><h1 class="text-xl md:text-2xl font-bold text-teal-700">FFT 實務完整指南：從取樣到頻譜解析</h1><div class="hidden md:flex space-x-6"><a href="#sampling"class="nav-link pb-1 border-b-2 border-transparent">訊號取樣</a> <a href="#calculator"class="nav-link pb-1 border-b-2 border-transparent">FFT參數</a> <a href="#signal-impact"class="nav-link pb-1 border-b-2 border-transparent">訊號的影響</a> <a href="#padding"class="nav-link pb-1 border-b-2 border-transparent">補零的效果</a> <a href="#practical-issues"class="nav-link pb-1 border-b-2 border-transparent">實務議題</a> <a href="#workflows"class="nav-link pb-1 border-b-2 border-transparent">實務流程</a></div><button id="mobile-menu-button"class="md:hidden p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500"><svg class="w-6 h-6"fill="none"stroke="currentColor"viewBox="0 0 24 24"xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round"stroke-linejoin="round"stroke-width="2"d="M4 6h16M4 12h16m-7 6h7"></path></svg></button></nav><div id="mobile-menu"class="hidden md:hidden px-4 pt-2 pb-4 space-y-2"><a href="#sampling"class="block nav-link py-1">訊號取樣</a> <a href="#calculator"class="block nav-link py-1">FFT參數</a> <a href="#signal-impact"class="block nav-link py-1">訊號的影響</a> <a href="#padding"class="block nav-link py-1">補零的效果</a> <a href="#practical-issues"class="block nav-link py-1">實務議題</a> <a href="#workflows"class="block nav-link py-1">實務流程</a></div></header><main class="container mx-auto p-4 md:p-8"><section id="sampling"class="card p-6 md:p-8 mb-8 scroll-mt-24"><h2 class="text-2xl font-bold mb-2 text-teal-800">第一步：如何正確取樣訊號？</h2><p class="mb-6 text-zinc-600">在進行任何頻譜分析之前，必須先從連續的真實世界訊號中，擷取出一連串的離散數位訊號點。這個過程稱為「取樣」。如果第一步就做錯了，後面的 FFT 分析將會是徒勞無功。<div class="p-5 bg-zinc-50 rounded-lg"><h3 class="text-lg font-bold text-zinc-800 mb-2">黃金法則：奈奎斯特-香農取樣定理</h3><p class="text-zinc-600 mb-4">為了要能忠實地捕捉一個訊號，<strong>取樣頻率 (Fs)</strong>，必須<strong>至少</strong>是訊號中感興趣的<strong>最高頻率 (f_max) 的兩倍</strong>。<div class="bg-white p-4 rounded-md border text-center text-lg font-mono tracking-wider"><span class="font-bold text-teal-700">Fs ≥ 2 * f_max</span></div><p class="text-zinc-600 mt-4">如果違反了這個定理（取樣取得太慢），就會發生「<strong>混疊 (Aliasing)</strong>」，高頻的訊號會偽裝成低頻的訊號，造成頻譜失真，就像用慢速快門相機拍高速旋轉的輪胎，看起來像在倒轉一樣。</div><div class="mt-6 p-5 bg-blue-50 border-l-4 border-blue-500 rounded-r-lg"><h3 class="text-lg font-bold text-blue-800 mb-2">💡 實務上的建議</h3><p class="text-blue-700">理論上兩倍就夠了，但在工程實務中，通常會保留一個安全邊際，選擇 <strong>Fs 為 f_max 的 5 到 10 倍</strong>。這麼做的好處是：<ul class="list-disc list-inside mt-2 space-y-1 text-blue-700"><li>可以放寬對硬體「抗混疊濾波器」的要求。<li>能更清楚地觀察訊號的波形。<li>避免頻譜邊緣的效應。</ul><p class="text-blue-700 mt-2">所以，規則是：<strong>可以遠高於兩倍，但絕不可少於兩倍！</strong></div></section><section id="calculator"class="card p-6 md:p-8 mb-8 scroll-mt-24"><h2 class="text-2xl font-bold mb-2 text-teal-800">第二步：FFT 核心參數設定</h2><p class="mb-6 text-zinc-600">當根據訊號特性決定了取樣頻率 (Fs) 後，接下來就可以設定 FFT 分析的參數。Fs 和決定的 FFT 點數 (N) 將共同決定頻譜的「解析度」與「範圍」。<div class="grid grid-cols-1 md:grid-cols-3 gap-6 items-end"><div><label for="samplingRate"class="block text-sm font-medium text-zinc-700">取樣頻率 (Fs) in Hz</label> <input type="number"id="samplingRate"value="100"class="mt-1 block w-full rounded-md border-zinc-300 shadow-sm focus:border-teal-500 focus:ring-teal-500"></div><div><label for="fftPoints"class="block text-sm font-medium text-zinc-700">FFT 點數 (N)</label> <input type="number"id="fftPoints"value="1000"class="mt-1 block w-full rounded-md border-zinc-300 shadow-sm focus:border-teal-500 focus:ring-teal-500"></div><div class="bg-teal-50 p-4 rounded-lg text-center"><p class="text-sm text-teal-700">頻率解析度 (Δf)<p id="resolutionOutput"class="text-3xl font-bold text-teal-600">0.1 Hz</div></div><div class="mt-6 p-4 bg-zinc-50 rounded-md"><h4 class="font-semibold text-zinc-800">💡 核心觀念：Ts, T, 與 Δf 的關係</h4><p class="text-zinc-600 mt-2">取樣頻率 <code>Fs</code>，總取樣點數 <code>N</code>，與總觀測時間 <code>T</code> 的關係如下，它們共同決定了最終的頻率解析度 <code>Δf</code>。<ul class="list-disc list-inside mt-4 space-y-2 text-zinc-700"><li><strong>Ts (取樣週期)</strong>：採集單一一個點所需的時間。公式為 <code>Ts = 1 / Fs</code>。<li><strong>N (總取樣點數)</strong>：總共採集了多少個數據點。<li><strong>T (總觀測時間)</strong>：整個取樣過程的總長度。公式為 <code>T = N * Ts = N / Fs</code>。</ul><div class="mt-4 p-3 border-l-4 border-teal-500 bg-teal-50 rounded-r-lg"><p class="text-teal-800 font-semibold">因此，頻率解析度 <code>Δf = 1 / T</code> 是由整個訊號的<strong>總長度 T</strong> 決定的，而不是由單次取樣的間隔 <code>Ts</code> 決定的。</div></div></section><section id="signal-impact"class="card p-6 md:p-8 mb-8 scroll-mt-24"><h2 class="text-2xl font-bold mb-2 text-teal-800">3. 輸入訊號的影響：實數 vs. 複數</h2><p class="mb-6 text-zinc-600">在通訊等領域，訊號常以複數形式（IQ 訊號）存在，它能完整表達振幅與相位。但更常見的情況是，從感測器得到的訊號是純實數（虛部為零）。當輸入訊號只有實部時，其輸出頻譜必然會是對稱的。<div class="text-center mb-4"><div id="signalTypeToggle"class="btn-group inline-flex rounded-md shadow-sm"role="group"><button type="button"data-type="real"class="btn rounded-l-lg active">實數輸入 (Real)</button> <button type="button"data-type="complex"class="btn rounded-r-lg">複數輸入 (Complex)</button></div></div><div class="chart-container"><canvas id="symmetryChart"></canvas></div><div id="symmetryExplanation"class="mt-6 p-4 bg-zinc-50 rounded-md"><h4 class="font-semibold text-zinc-800">💡 實數訊號的對稱性：為何只看一半？</h4><p class="text-zinc-600 mt-2">簡單來說，傅立葉轉換是將訊號分解成一系列的旋轉向量。要合成一個純實數訊號，必須有成對的、頻率相同但旋轉方向相反（一個 +f，一個 -f）的向量，它們的虛部才能互相抵消。這種成對的關係，導致了頻譜的「共軛對稱」。<p class="text-zinc-600 mt-2">在 FFT 的標準輸出中，負頻率的部分會被摺疊到頻譜的後半段。因此，後半段的資訊只是前半段的鏡像，是多餘的。<div class="mt-3 p-3 border-l-4 border-teal-500 bg-teal-50 rounded-r-lg"><p class="text-teal-800"><strong>舉例來說：</strong>若取樣率 <code>Fs = 100 Hz</code>，FFT 點數 <code>N = 1000</code>，則頻率解析度為 <code>0.1 Hz</code>。FFT 會輸出 1000 個點，對應 <code>0 Hz</code> 到 <code>99.9 Hz</code> 的頻譜。<ul class="list-disc list-inside mt-2 text-teal-700"><li>真正有用的資訊只在 <strong>0 Hz ~ 50 Hz (Fs/2)</strong> 的範圍內。<li><code>50.1 Hz</code> 的值會等於 <code>49.9 Hz</code> 的值，<code>99.9 Hz</code> 的值會等於 <code>0.1 Hz</code> 的值，依此類推，形成鏡像。</ul><p class="text-teal-800 mt-2">這就是為什麼處理實數訊號時，我們只分析到奈奎斯特頻率 (Fs/2) 的原因。</div></div></section><section id="padding"class="card p-6 md:p-8 mb-8 scroll-mt-24"><h2 class="text-2xl font-bold mb-2 text-teal-800">4. FFT 點數與補零 (Zero Padding)</h2><p class="mb-6 text-zinc-600">如果訊號長度不是 2 的次方怎麼辦？或者，想讓頻譜圖看起來更平滑，該怎麼做？這時「補零」就派上用場了。它指的是在原始訊號的尾端補上一連串的 0。觀察補零前後，頻譜圖發生了什麼變化。<div class="text-center mb-4"><div id="paddingToggle"class="btn-group inline-flex rounded-md shadow-sm"role="group"><button type="button"data-type="original"class="btn rounded-l-lg active">原始訊號</button> <button type="button"data-type="padded"class="btn rounded-r-lg">補零後 (Padded)</button></div></div><div class="chart-container"><canvas id="paddingChart"></canvas></div><div id="paddingExplanation"class="mt-6 p-4 bg-zinc-50 rounded-md"><h4 class="font-semibold text-zinc-800">💡 原始訊號 (Original Signal):</h4><p class="text-zinc-600 mt-1">假設原始訊號長度較短，FFT 在頻率軸上的取樣點較少，因此頻譜圖看起來比較粗糙，可能無法精確顯示峰值的位置。</div><div class="mt-6 p-5 bg-zinc-50 rounded-lg border-l-4 border-amber-500"><h4 class="text-xl font-bold mb-4 text-amber-800">深度剖析：補零與內插的關係</h4><p class="mb-4 text-zinc-600">補零在時域上的簡單操作，其背後隱含著深刻的頻域意義。它與「內插」有著密不可分的關係。<div class="space-y-4"><div><h5 class="font-bold text-zinc-800">1. 補零 (Zero Padding)</h5><ul class="list-disc list-inside mt-2 space-y-1 text-zinc-700"><li><strong>做法：</strong>在時域訊號的尾端補上 0。<li><strong>效果：</strong>改變 FFT 長度 <code>N</code>，讓頻域取樣點變多。因為頻率間隔 <code>Δf = Fs / N</code>，<code>N</code> 變大，頻率軸就變得更細密。<li><strong>本質：</strong>頻域上產生的是一種「內插後的頻譜曲線」。這些額外的頻率點，其數值完全由數學公式決定，不包含新的訊號訊息。</ul></div><div><h5 class="font-bold text-zinc-800">2. 內插 (Interpolation)</h5><ul class="list-disc list-inside mt-2 space-y-1 text-zinc-700"><li><strong>做法：</strong>在已知離散頻譜點之間，用數學方法（例如 sinc 內插、多項式內插）估算新的點。<li><strong>效果：</strong>產生一條更光滑的頻譜曲線。<li><strong>本質：</strong>其結果與補零等價，只是實現的路徑不同。</ul></div><div class="p-3 bg-teal-50 rounded-md"><h5 class="font-bold text-teal-800">3. 兩者關係：一個等式的兩面</h5><p class="mt-1 text-teal-700">可以這樣理解：<strong>在時域補零，就等同於在頻域進行一種 sinc 內插。</strong><p class="mt-1 text-teal-700">所以，補零雖然看起來只是「增加點數」，其本質其實就是一種「自動完成的頻域內插」。</div><div><h5 class="font-bold text-zinc-800">4. 核心區別</h5><ul class="list-disc list-inside mt-2 space-y-1 text-zinc-700"><li><strong>補零：</strong>是一種<strong>計算上的技巧</strong>，透過延長訊號長度讓 FFT 自然產生更細密的頻率軸。<li><strong>內插：</strong>是一種<strong>數學上的估算方法</strong>，直接在已有的頻譜上進行插值。</ul></div></div></div></section><section id="practical-issues"class="card p-6 md:p-8 mb-8 scroll-mt-24"><h2 class="text-2xl font-bold mb-2 text-teal-800">5. 實務議題與處理順序</h2><p class="mb-6 text-zinc-600">理論之外，實際應用 FFT 時會遇到幾個常見的陷阱與固定的處理順序。了解這些議題能幫助正確解讀頻譜，避免得到錯誤的結論。<div class="space-y-6"><div class="p-5 bg-zinc-50 rounded-lg border-l-4 border-red-500"><h3 class="text-lg font-bold text-red-800 mb-2">鐵則：先 Windowing，再 Zero Padding</h3><p class="mb-4 text-zinc-700">這是 FFT 預處理中最重要的順序問題。<div class="space-y-3"><div><h4 class="font-semibold text-zinc-800">1. Windowing 的目的</h4><p class="text-zinc-600">原始訊號是有限長度的截取樣本，等效於被一個「矩形窗」截斷，這會造成嚴重的頻譜洩漏。因此要先乘上合適的窗函數（如 Hamming, Hanning）來減少洩漏。<strong>這個步驟必須在「原始訊號區間」完成。</strong></div><div><h4 class="font-semibold text-zinc-800">2. Zero Padding 的目的</h4><p class="text-zinc-600">補零只是延長訊號長度以增加 FFT 點數，作用僅是讓頻譜顯示得更平滑。<strong>它必須在 Windowing 之後進行，</strong>避免把「0」也乘上窗函數，進而破壞窗的形狀與能量分布。</div></div><div class="mt-4 p-3 bg-green-50 rounded-md border border-green-200"><h4 class="font-bold text-green-800">✅ 正確順序總結</h4><p class="mt-1 text-green-700">對原始訊號加窗 (Windowing) <span class="workflow-arrow">→</span> 減少頻譜洩漏<p class="mt-1 text-green-700">補零 (Zero Padding) <span class="workflow-arrow">→</span> 增加頻譜顯示平滑度</div></div><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="p-5 bg-white border border-zinc-200 rounded-lg"><h3 class="text-lg font-bold text-zinc-800 mb-2">取樣定理 (Nyquist)</h3><p class="text-zinc-600">這是第一步的基礎，取樣率 (Fs) 必須至少為最高訊號頻率的 2 倍。否則發生「混疊 (Aliasing)」，頻譜失真。</div><div class="p-5 bg-white border border-zinc-200 rounded-lg"><h3 class="text-lg font-bold text-zinc-800 mb-2">能量歸一化</h3><p class="text-zinc-600">FFT 的輸出幅度與 N 有關。要得到有物理意義的振幅或功率，需要進行歸一化處理（例如，除以 N 或 N/2），並考慮窗函數的影響。</div></div></div></section><section id="workflows"class="card p-6 md:p-8 scroll-mt-24"><h2 class="text-2xl font-bold mb-2 text-teal-800">6. 實務訊號處理流程 (IQ訊號範例)</h2><p class="mb-6 text-zinc-600">以下提供一個從「IQ 取樣」開始的實務訊號處理流程。本節將專注在「路線 A：頻譜/量測」上，並對其中幾個關鍵步驟進行深入說明。<div class="space-y-8"><div><h3 class="text-xl font-bold text-blue-800 mb-3 pb-2 border-b-2 border-blue-200">路線 A｜頻譜/量測 (Spectrum/Measurement)</h3><div class="flex flex-wrap items-center text-sm md:text-base p-4 bg-zinc-50 rounded-lg"><span class="font-semibold">IQ 流</span> <span class="workflow-arrow">→</span> <span>去直流/去趨勢</span> <span class="workflow-arrow">→</span> <span>頻率平移(可選)</span> <span class="workflow-arrow">→</span> <span>帶通/低通濾波</span> <span class="workflow-arrow">→</span> <strong class="text-red-600">視窗(Windowing)</strong> <span class="workflow-arrow">→</span> <strong class="text-red-600">補零(Zero Padding)</strong> <span class="workflow-arrow">→</span> <span>FFT</span> <span class="workflow-arrow">→</span> <span>頻率校正</span> <span class="workflow-arrow">→</span> <span>功率譜估計(PSD)</span> <span class="workflow-arrow">→</span> <span>量測</span> <span class="workflow-arrow">→</span> <span>可視化</span></div><div class="mt-6 space-y-4"><h4 class="text-lg font-bold text-zinc-800">關鍵步驟詳解：</h4><div class="p-4 border rounded-lg"><h5 class="font-bold text-zinc-700">1. 去直流/去趨勢 (DC offset & Detrend)</h5><p class="mt-2 text-zinc-600"><strong>目的：</strong>訊號中固定的直流偏移（平均值不為零）會在頻譜的 0 Hz 處產生一個巨大的尖峰，這個尖峰會透過頻譜洩漏污染整個頻譜，掩蓋低頻區域的真實訊號。必須移除它。<p class="mt-2 text-zinc-600"><strong>做法：</strong>最簡單的方式是將整個訊號序列減去其平均值：<code>y[n] = x[n] - mean(x)</code>。</div><div class="p-4 border rounded-lg"><h5 class="font-bold text-zinc-700">2. 頻率校正 (Frequency Correction)</h5><p class="mt-2 text-zinc-600"><strong>目的：</strong>FFT 的原始輸出範圍是從 <code>0</code> 到 <code>Fs</code>，這在數學上正確但物理上不直觀。我們通常更關心以 0 Hz 為中心的頻譜（從 <code>-Fs/2</code> 到 <code>+Fs/2</code>），這樣才能清楚地看到正負頻率成分。<p class="mt-2 text-zinc-600"><strong>做法：</strong>執行 <code>fftshift</code> 操作。這個操作會將頻譜的後半段（<code>Fs/2</code> 到 <code>Fs</code>）搬移到前半段的前面，完成座標的轉換。</div><div class="p-4 border rounded-lg"><h5 class="font-bold text-zinc-700">3. 功率譜估計 (Power Spectral Density - PSD)</h5><p class="mt-2 text-zinc-600"><strong>目的：</strong>FFT 的原始幅度 <code>|X[k]|</code> 會隨 FFT 點數 <code>N</code> 變化，不適合直接比較。PSD 則是表示單位頻寬內的訊號功率，經過正規化後，其結果與 <code>N</code> 無關，是更具物理意義的量測標準。<p class="mt-2 text-zinc-600"><strong>做法：</strong>計算公式為 <code>PSD[k] = |X[k]|^2 / (N * U)</code>。其中 <code>|X[k]|^2</code> 是 FFT 幅度的平方，<code>N</code> 是 FFT 點數，而 <code>U</code> 是所選窗函數的能量正規化因子，用來補償加窗時損失的能量。</div></div></div><div class="opacity-60"><h3 class="text-xl font-bold text-purple-800 mb-3 pb-2 border-b-2 border-purple-200">路線 B｜通訊解調 (參考)</h3><div class="flex flex-wrap items-center text-sm p-4 bg-zinc-50 rounded-lg"><span class="font-semibold">IQ 流</span> <span class="workflow-arrow">→</span> <span>頻率/時序校正</span> <span class="workflow-arrow">→</span> <span>重取樣</span> <span class="workflow-arrow">→</span> <span>IQ失衡校正</span> <span class="workflow-arrow">→</span> <span>AGC</span> <span class="workflow-arrow">→</span> <span>匹配濾波</span> <span class="workflow-arrow">→</span> <span>定時/載波回復</span> <span class="workflow-arrow">→</span> <span>均衡</span> <span class="workflow-arrow">→</span> <span>符號判決</span> <span class="workflow-arrow">→</span> <span>解碼</span></div></div></div></section></main><footer class="bg-white mt-12 py-6 shadow-inner"><div class="container mx-auto px-4 text-center text-zinc-500"><a href="https://wellstsai.com"target="_blank"rel="noopener noreferrer"class="hover:text-teal-600 transition-colors">Generated by wellstsai.com</a></div></footer><script>document.addEventListener("DOMContentLoaded",()=>{const e=[document.getElementById("samplingRate"),document.getElementById("fftPoints")],t=document.getElementById("resolutionOutput");function a(){const a=parseFloat(e[0].value)||0,n=parseFloat(e[1].value)||1;if(a>0&&n>0){const e=(a/n).toFixed(4);t.textContent=`${e} Hz`}else t.textContent="--- Hz"}e.forEach(e=>e.addEventListener("input",a)),a();const n={real:'\n            <h4 class="font-semibold text-zinc-800">💡 實數訊號的對稱性：為何只看一半？</h4>\n            <p class="text-zinc-600 mt-2">簡單來說，傅立葉轉換是將訊號分解成一系列的旋轉向量。要合成一個純實數訊號，必須有成對的、頻率相同但旋轉方向相反（一個 +f，一個 -f）的向量，它們的虛部才能互相抵消。這種成對的關係，導致了頻譜的「共軛對稱」。</p>\n            <p class="text-zinc-600 mt-2">在 FFT 的標準輸出中，負頻率的部分會被摺疊到頻譜的後半段。因此，後半段的資訊只是前半段的鏡像，是多餘的。</p>\n            <div class="mt-3 p-3 border-l-4 border-teal-500 bg-teal-50 rounded-r-lg">\n                <p class="text-teal-800"><strong>舉例來說：</strong>若取樣率 <code>Fs = 100 Hz</code>，FFT 點數 <code>N = 1000</code>，則頻率解析度為 <code>0.1 Hz</code>。FFT 會輸出 1000 個點，對應 <code>0 Hz</code> 到 <code>99.9 Hz</code> 的頻譜。\n                </p>\n                <ul class="list-disc list-inside mt-2 text-teal-700">\n                    <li>真正有用的資訊只在 <strong>0 Hz ~ 50 Hz (Fs/2)</strong> 的範圍內。</li>\n                    <li><code>50.1 Hz</code> 的值會等於 <code>49.9 Hz</code> 的值，<code>99.9 Hz</code> 的值會等於 <code>0.1 Hz</code> 的值，依此類推，形成鏡像。</li>\n                </ul>\n                <p class="text-teal-800 mt-2">這就是為什麼處理實數訊號時，我們只分析到奈奎斯特頻率 (Fs/2) 的原因。</p>\n            </div>',complex:'\n            <h4 class="font-semibold text-zinc-800">💡 複數訊號：完整的頻譜</h4>\n            <p class="text-zinc-600 mt-2">當輸入訊號是複數時，它不再需要成對的旋轉向量來抵消虛部，因此頻譜不具有對稱性。每一個點都攜帶獨立的資訊。</p>\n             <div class="mt-3 p-3 border-l-4 border-blue-500 bg-blue-50 rounded-r-lg">\n                <p class="text-blue-800">在相同的設定下 (<code>Fs = 100 Hz</code>, <code>N = 1000</code>)，複數訊號的頻譜在 <strong>0 Hz ~ 99.9 Hz</strong> 的整個範圍內都是有意義的。通常會將其平移，以 0 Hz 為中心，顯示 <strong>-50 Hz ~ +49.9 Hz</strong> 的範圍，這樣更能直觀地看出正負頻率的分布。</p>\n            </div>\n            '},o={real:{labels:Array.from({length:101},(e,t)=>10*t),datasets:[{label:"幅度",data:[0,0,50,0,0,50,0,0,0,0,0,.01,.01,.01,.01,.01,0,.01,.01,0,.01,.01,.01,0,0,0,.01,.01,0,0,.01,0,0,.01,0,.01,.01,.02,.01,.01,0,0,.01,.01,.01,.01,.01,.01,.01,.01,.01,.02,.01,.01,.01,0,.01,.01,.01,.01,0,0,.01,.01,.02,.01,.01,0,.01,0,0,.01,0,0,.01,0,0,.01,.01,.01,.01,.01,.01,.01,.01,.01,0,.01,.01,.01,50,0,.01,50,0,0],backgroundColor:"rgba(13, 148, 136, 0.6)",borderColor:"rgba(13, 148, 136, 1)",borderWidth:1}]},complex:{labels:Array.from({length:101},(e,t)=>10*t),datasets:[{label:"幅度",data:[0,0,100,0,0,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],backgroundColor:"rgba(59, 130, 246, 0.6)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1}]}};let l;const s=document.getElementById("symmetryChart").getContext("2d");l=new Chart(s,{type:"bar",data:o.real,options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"頻譜幅度"},legend:{display:!1}},scales:{x:{title:{display:!0,text:"頻率 (Hz)"}},y:{beginAtZero:!0,title:{display:!0,text:"幅度"}}}}});document.getElementById("signalTypeToggle").addEventListener("click",e=>{if("BUTTON"===e.target.tagName){const t=e.target.dataset.type;document.querySelector("#signalTypeToggle .active").classList.remove("active"),e.target.classList.add("active"),l.data=o[t],l.update(),document.getElementById("symmetryExplanation").innerHTML=n[t]}});const d={original:'\n            <h4 class="font-semibold text-zinc-800">💡 原始訊號 (Original Signal):</h4>\n            <p class="text-zinc-600 mt-1">假設原始訊號長度較短，FFT 在頻率軸上的取樣點較少，因此頻譜圖看起來比較粗糙，可能無法精確顯示峰值的位置。</p>',padded:'\n            <h4 class="font-semibold text-zinc-800">💡 補零後 (Padded):</h4>\n            <p class="text-zinc-600 mt-1">在訊號後方補 0，增加了 FFT 總點數 N。這不會改變頻率解析度（無法分辨更近的頻率），但它增加了頻譜上的「取樣點密度」。結果是頻譜圖變得更平滑，能更清楚地看出峰值的形狀與位置。這是一種用計算換取視覺清晰度的技巧。</p>'};function i(e,t,a,n){const o=new Array(e).fill(0),l=Array.from({length:e},(t,a)=>(100*a/e).toFixed(2));for(let l=0;l<e;l++){const s=100*l/e,d=Math.exp(-Math.pow((s-t)/n,2)),i=.7*Math.exp(-Math.pow((s-a)/n,2));o[l]=d+i+.05*(Math.random()-.5)}return{labels:l,data:o}}const c=i(32,20,28,3),r=i(256,20,28,3),g={original:{labels:c.labels,datasets:[{label:"幅度",data:c.data,borderColor:"rgba(13, 148, 136, 1)",backgroundColor:"rgba(13, 148, 136, 0.2)",fill:!0,pointRadius:3,tension:.1}]},padded:{labels:r.labels,datasets:[{label:"幅度",data:r.data,borderColor:"rgba(59, 130, 246, 1)",backgroundColor:"rgba(59, 130, 246, 0.2)",fill:!0,pointRadius:0,tension:.4}]}};let p;const m=document.getElementById("paddingChart").getContext("2d");p=new Chart(m,{type:"line",data:g.original,options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"頻譜密度"},legend:{display:!1}},scales:{x:{title:{display:!0,text:"頻率 (Hz)"}},y:{beginAtZero:!0,title:{display:!0,text:"幅度"}}}}});document.getElementById("paddingToggle").addEventListener("click",e=>{if("BUTTON"===e.target.tagName){const t=e.target.dataset.type;document.querySelector("#paddingToggle .active").classList.remove("active"),e.target.classList.add("active"),p.data=g[t],p.options.scales.x.ticks={maxTicksLimit:"padded"===t?10:20},p.update(),document.getElementById("paddingExplanation").innerHTML=d[t]}});const u=document.getElementById("mobile-menu-button"),b=document.getElementById("mobile-menu");u.addEventListener("click",()=>{b.classList.toggle("hidden")});const y=document.querySelectorAll(".nav-link"),x=document.querySelectorAll("section"),h=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target.id;y.forEach(e=>{e.classList.remove("active"),e.getAttribute("href")===`#${t}`&&e.classList.add("active")})}})},{rootMargin:"-40% 0px -60% 0px"});x.forEach(e=>h.observe(e)),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href");document.querySelector(t).scrollIntoView({behavior:"smooth"}),!1===b.classList.contains("hidden")&&b.classList.add("hidden")})})})</script>